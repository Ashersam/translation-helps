{"version":3,"sources":["chaptersAndVerses.js","Workspace/Scripture/helpers.js","langnames.js","gitApi.js","ApplicationBar/Component.js","ApplicationBar/index.js","ApplicationBar/Container.js","Workspace/Component.js","Workspace/index.js","Workspace/Container.js","BottomNav/Container.js","BottomNav/index.js","Component.js","helpers.js","Container.js","serviceWorker.js","index.js"],"names":["chaptersInBook","_ref","bookId","Object","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","Array","keys","map","i","bookData","chapters","_unused","_ref3","data","filter","row","id","validateBookId","reference","valid","validateChapter","dependencies","chapter","validateReference","_ref5","verse","blankReference","validBookId","validChapter","validVerse","verseCount","inRange","validateVerse","fetchResources","_x","_fetchResources","apply","this","arguments","_callee2","_ref$context","username","languageId","manifests","resources","uhbManifest","ugntManifest","testament","originalManifest","resourceIds","promises","resourcesArray","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context2","prev","next","context","ult","ust","ulb","udb","irv","tn","original","uhb","ugnt","whichTestament","_ref13","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","mark","_callee","resourceId","manifest","_context","includes","abrupt","fetchBook","translationNotes","fetchOriginalBook","stop","_x9","Promise","all","sent","forEach","index","_x2","_fetchBook","_callee3","_ref2","projects","repository","usfm","json","_context3","projectByBookId","gitApi","fetchFileByBookId","usfmjs","toJSON","_x3","_fetchOriginalBook","_callee4","_ref4","repositories","_context4","pivotTranslationNotes","_ref7","translationNotesObject","array","JSON","parse","stringify","shift","item","_item","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","book","support_reference","original_quote","occurrence","gl_quote","occurrence_note","object","replace","push","_x6","_translationNotes","_callee7","_ref8","_context7","fetchNotes","_x7","_fetchNotes","_callee8","_ref9","tsv","_context8","tsvParse","_x8","_fetchFileByBookId","_callee9","_ref10","file","project","path","_context9","_ref11","_projects","identifier","length","_ref12","split","trim","getLanguage","language","langname","langnames","lc","pk","languageName","ang","region","lr","gateway","gw","country","hc","localized","ln","direction","ld","aliases","alt","countries","cc","apiPath","store","localforage","createInstance","driver","INDEXEDDB","name","api","setup","baseURL","cache","maxAge","resourceRepositories","obs","obs-tn","obs-tq","obs-sn","obs-sq","ta","tw","ugl","uhal","fetchResourceManifests","_fetchResourceManifests","_resourceRepositories","manifestArray","regenerator_default","fetchManifest","getLanguages","_getLanguages","languageIds","languages","getLanguageIds","sort","b","_getLanguageIds","languageIdsArray","getLanguageIdsByResource","flat","_x4","_getLanguageIdsByResource","uid","query","uri","repos","getUID","concat","Path","join","get","repo","_x5","_fetchManifest","_callee5","_ref6","yaml","_context5","fetchFileFromServer","YAML","parseDocument","_fetchFileFromServer","_callee6","_ref7$branch","branch","_context6","repositoryExists","t0","_getUID","user","_repositoryExists","_ref14","_ref15","withStyles","theme","paper","color","backgroundColor","textAlign","boxShadow","toolbar","margin","display","padding","logo","height","paddingTop","withTheme","classes","applicationName","bookName","ScriptureHelpers","title","referenceComponent","react_default","createElement","dist_default","className","src","index_es","variant","coin","noWrap","Container","state","props","ApplicationBar_Component","React","Component","History","lazy","__webpack_require__","e","then","bind","Resources","OpenBibleStories","Scripture","root","width","progress","history","setContext","historyComponent","contexts","scripture","openBibleStories","loadingComponent","disableShrink","component","shouldShowHistory","view","shouldShowResources","shouldShowScripture","shouldShowOpenBibleStories","react","fallback","element","document","getElementById","scrollIntoView","behavior","block","Workspace_Component","BottomNavContainer","handleChange","event","value","objectSpread","_this","previousChapter","nextChapter","undefined","_this$props","couldShowReference","couldShowBook","couldShowChapter","onChange","showLabels","bottomNavigation","button","icon","icons_index_es","label","maxWidth","paddingLeft","paddingRight","minWidth","createMuiTheme","typography","useNextVariants","palette","primary","light","main","dark","contrastText","flexGrow","appFrame","zIndex","position","workspace","bottomNav","bottom","styles","ApplicationBar","Workspace","BottomNav","deepFreeze","key","freeze","defaultContext","urlParams","URLSearchParams","window","location","search","rcArray","slice","string","_rcArray","slicedToArray","_history","toConsumableArray","newContext","unshift","addToHistoryArray","localstorage","set","helpers","oldContext","oldManifests","languageChanged","usernameChanged","manifestExists","validReference","chapterAndVerses","back","newState","_reference","updateQuery","scrollTo","refreshManifests","validateContext","addHistory","setState","_context$reference","_username","_languageId","_resourceId","_bookId","_chapter","_verse","rc","pathname","pushState","defaultValue","validContext","addEventListener","_this2","_this$state2","_manifests","src_Component","Boolean","hostname","match","ReactDOM","render","src_Container","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b095bf08.chunk.js","sourcesContent":["import data from './chaptersAndVerses.json';\n\nexport const chaptersInBook = ({bookId}) => {\n  try {\n    let chapters;\n    if (bookId === 'obs') {\n      chapters = [...Array(50).keys()].map(i=>i+1);\n    } else {\n      chapters = bookData({bookId}).chapters;\n    }\n    return chapters;\n  } catch {\n    return null;\n  }\n};\n\nexport const versesInChapter = ({bookId, chapter}) => {\n  const verses = chaptersInBook({bookId})[chapter - 1];\n  return verses;\n};\n\nexport const bookData = ({bookId}) => {\n  const _bookData = data.filter(row => row.id === bookId)[0];\n  return _bookData;\n};\n\nexport const testament = ({bookId}) => {\n  const _testament = bookData({bookId}).testament;\n  return _testament;\n};\n\nexport const validateBookId = (reference) => {\n  let valid;\n  if (reference.bookId === 'obs') {\n    valid = true;\n  } else if (reference.bookId && !!bookData(reference)) {\n    valid = true;\n  }\n  return valid;\n}\n\nexport const validateChapter = (reference) => {\n  const dependencies = ( validateBookId(reference) );\n  const chapters = chaptersInBook(reference);\n  const valid = (dependencies && !!chapters[reference.chapter - 1]);\n  return valid;\n}\n\nexport const validateVerse = (reference) => {\n  const dependencies = (validateBookId(reference) && validateChapter(reference));\n  const chapters = chaptersInBook(reference);\n  const verseCount = chapters[reference.chapter];\n  const inRange = (verseCount && reference.verse <= verseCount);\n  return (dependencies && inRange);\n};\n\nexport const validateReference = ({reference}) => {\n  let valid = false;\n  const {bookId, chapter, verse} = reference;\n  const blankReference = (!bookId && !chapter && !verse);\n  const validBookId = validateBookId(reference);\n  const validChapter = validateChapter(reference);\n  const validVerse = (!!verse) ? validateVerse(reference) : true;\n  if (blankReference) {\n    valid = true;\n  } else if (validBookId && !chapter && !verse) {\n    valid = true;\n  } else if (validBookId && validChapter && !verse) {\n    valid = true;\n  } else if (validBookId && validChapter && validVerse) {\n    valid = true;\n  }\n  return valid;\n};\n","import usfmjs from 'usfm-js';\n\n// Purpose: application wide\n// Scope: limited to resource files and parsing\n// Notes: pass in manifests don't fetch them\n\nimport * as gitApi from '../../gitApi';\n\nexport async function fetchResources({\n  context: {\n    username,\n    languageId,\n    reference: {\n      bookId,\n    },\n  },\n  manifests,\n}) {\n  let resources = {\n    ult: null,\n    ust: null,\n    ulb: null,\n    udb: null,\n    irv: null,\n    tn: null,\n    original: null,\n  };\n  const { uhb: uhbManifest, ugnt: ugntManifest} = manifests;\n  const testament = whichTestament({bookId, uhbManifest, ugntManifest})\n  const originalManifest = (testament === 'old') ? uhbManifest : ugntManifest;\n\n  const resourceIds = ['ult','ust','ulb','udb','irv','tn','original'];\n  const promises = resourceIds.map(async (resourceId) => {\n    let manifest;\n    if (['ult','ust','ulb','udb','irv'].includes(resourceId) && manifests[resourceId]) {\n      manifest = manifests[resourceId];\n      return fetchBook({username, languageId, resourceId, bookId, manifest});\n    }\n    if (resourceId === 'tn' && manifests[resourceId]) {\n      manifest = manifests[resourceId];\n      return translationNotes({username, languageId, bookId, manifest});\n    }\n    if (resourceId === 'original') {\n      return fetchOriginalBook({username, languageId, bookId, uhbManifest, ugntManifest});\n    }\n  });\n  const resourcesArray = await Promise.all(promises);\n  resourceIds.forEach((resourceId, index) => {\n    const data = resourcesArray[index];\n    const manifest = (resourceId === 'original') ? originalManifest : manifests[resourceId];\n    resources[resourceId] = {\n      manifest,\n      data\n    };\n  });\n  return resources;\n};\n\nexport async function fetchBook({username, languageId, resourceId, bookId, manifest}) {\n  const {projects} = manifest;\n  if (!projectByBookId({projects, bookId})) return null;\n  const repository = gitApi.resourceRepositories({languageId})[resourceId];\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json.chapters;\n};\n\nexport const whichTestament = ({bookId, uhbManifest, ugntManifest}) => {\n  let testament;\n  const uhbProject = projectByBookId({projects: uhbManifest.projects, bookId});\n  const ugntProject = projectByBookId({projects: ugntManifest.projects, bookId});\n  if (uhbProject) testament = 'old';\n  if (ugntProject) testament = 'new';\n  return testament;\n}\n\nexport async function fetchOriginalBook({username, languageId, bookId, uhbManifest, ugntManifest}) {\n  let manifest, repository;\n  const testament = whichTestament({bookId, uhbManifest, ugntManifest});\n  const repositories = gitApi.resourceRepositories({languageId});\n  if (testament === 'old') {\n    manifest = uhbManifest;\n    repository = repositories.uhb;\n  };\n  if (testament === 'new') {\n    manifest = ugntManifest;\n    repository = repositories.ugnt;\n  };\n  const usfm = await fetchFileByBookId({username: 'unfoldingword', repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json.chapters;\n};\n\nexport async function fetchUGNTBook({username, languageId, bookId, manifest}) {\n  const repository = gitApi.resourceRepositories({languageId}).ugnt;\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json;\n};\n\nexport async function fetchUHBBook({username, languageId, bookId, manifest}) {\n  const repository = gitApi.resourceRepositories({languageId}).uhb;\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json;\n};\n\nexport const pivotTranslationNotes = ({tn}) => {\n  if (!tn) return {};\n  let translationNotesObject = {};\n  let array = JSON.parse(JSON.stringify(tn));\n  array.shift();\n  array.forEach(item => {\n    let [book, chapter, verse, id, support_reference, original_quote, occurrence, gl_quote, occurrence_note] = item;\n    if (book && chapter && verse) {\n      if (!translationNotesObject[chapter]) translationNotesObject[chapter] = {};\n      if (!translationNotesObject[chapter][verse]) translationNotesObject[chapter][verse] = [];\n      occurrence_note = (!!occurrence_note) ? occurrence_note.replace(/<br>/g,'\\n') : occurrence_note;\n      let object = {\n        id,\n        support_reference,\n        original_quote,\n        occurrence,\n        gl_quote,\n        occurrence_note,\n      };\n      translationNotesObject[chapter][verse].push(object);\n    }\n  });\n  return translationNotesObject\n}\n\nexport async function translationNotes({username, languageId, bookId, manifest}) {\n  const data = await fetchNotes({username, languageId, bookId, manifest});\n  return data;\n};\n\nexport async function fetchNotes({username, languageId, bookId, manifest}) {\n  const repository = gitApi.resourceRepositories({languageId}).tn;\n  const tsv = await fetchFileByBookId({username, repository, bookId, manifest});\n  const data = tsvParse({tsv});\n  return data;\n};\n\nexport async function fetchFileByBookId({username, repository, bookId, manifest}) {\n  let file;\n  const {projects} = manifest;\n  let project = projectByBookId({projects, bookId});\n  if (project) {\n    let {path} = project;\n    path = path.replace(/^\\.\\//, '');\n    file = await gitApi.fetchFileFromServer({username, repository, path});\n  }\n  return file;\n};\n\nexport const projectByBookId = ({projects, bookId}) => {\n  const _projects = projects.filter(item => item.identifier === bookId);\n  let project;\n  if (_projects.length > 0) {\n    project = _projects[0];\n  }\n  return project;\n};\n\nexport const tsvParse = ({tsv}) => {\n  try {\n    return tsv.split('\\n').map(row => row.trim().split('\\t'));\n  } catch {\n    return null;\n  }\n};\n","import langnames from './langnames.json';\n\nexport const getLanguage = ({languageId}) => {\n  let language;\n  const langname = langnames.filter(object => object.lc === languageId)[0];\n  if (langname) {\n    language = {\n      id: langname.pk,\n      languageName: langname.ang,\n      region: langname.lr,\n      gateway: langname.gw,\n      country: langname.hc,\n      localized: langname.ln,\n      languageId: langname.lc,\n      direction: langname.ld,\n      aliases: langname.alt,\n      countries: langname.cc,\n    };\n  }\n  return language;\n};\n\nexport const getLanguageName = ({languageId}) => {\n  const language = getLanguage({languageId});\n  const languageName = language ? language.ln : null;\n  return languageName;\n};\n","import Path from 'path';\nimport YAML from 'yaml';\nimport localforage from 'localforage';\nimport { setup } from 'axios-cache-adapter';\n\nimport * as langnames from './langnames';\n\nconst baseURL = 'https://git.door43.org/';\nconst apiPath = 'api/v1';\n\nconst store = localforage.createInstance({\n  driver: [localforage.INDEXEDDB],\n  name: 'web-cache',\n});\n\nconst api = setup({\n  baseURL: baseURL,\n  cache: {store, maxAge: 1 * 24 * 60 * 60 * 1000},\n});\n\nexport const resourceRepositories = ({languageId}) => {\n  return {\n    obs: languageId + '_obs',\n    'obs-tn': languageId + '_obs-tn',\n    'obs-tq': languageId + '_obs-tq',\n    'obs-sn': languageId + '_obs-sn',\n    'obs-sq': languageId + '_obs-sq',\n    ult: languageId + '_ult',\n    ust: languageId + '_ust',\n    irv: languageId + '_irv',\n    ulb: languageId + '_ulb',\n    udb: languageId + '_udb',\n    tn: languageId + '_tn',\n    ta: languageId + '_ta',\n    tw: languageId + '_tw',\n    ugnt: 'UGNT',\n    uhb: 'UHB',\n    ugl: languageId + '_ugl',\n    uhal: languageId + '_uhal',\n  };\n};\n\nexport async function fetchResourceManifests({username, languageId}) {\n  let manifests = {};\n  const _resourceRepositories = resourceRepositories({languageId});\n  const resourceIds = Object.keys(_resourceRepositories);\n  const promises = resourceIds.map(resourceId => {\n    const repository = _resourceRepositories[resourceId];\n    const _username = ['ugnt','uhb'].includes(resourceId) ? 'unfoldingword' : username;\n    return fetchManifest({username: _username, repository})\n  });\n  const manifestArray = await Promise.all(promises);\n  resourceIds.forEach((resourceId, index) => {\n    manifests[resourceId] = manifestArray[index];\n  });\n  return manifests;\n};\n\nexport async function getLanguages({username, resourceIds}) {\n  const languageIds = await getLanguageIds({username, resourceIds});\n  const languages = languageIds.map(languageId =>\n    langnames.getLanguage({languageId})\n  ).filter(language => !!language);\n  languages.sort((a,b) =>\n    (a.languageId > b.languageId) ? 1 : ((b.languageId > a.languageId) ? -1 : 0)\n  );\n  return languages;\n};\n\nexport async function getLanguageIds({username, resourceIds}) {\n  let languageIds = [];\n  const promises = resourceIds.map(resourceId => {\n    return getLanguageIdsByResource({username, resourceId});\n  });\n  const languageIdsArray = await Promise.all(promises);\n  const _languageIds = languageIdsArray.flat();\n  _languageIds.forEach(languageId => {\n    const languageAdded = languageIds.includes(languageId);\n    if (!languageAdded) languageIds.push(languageId);\n  });\n  return languageIds;\n}\n\n// /repos/search?q=ulb&uid=4598&limit=50&exclusive=true\nexport async function getLanguageIdsByResource({username, resourceId}) {\n  let languageIds = [];\n  const uid = await getUID({username});\n  const query = `q=${resourceId}&uid=${uid}&limit=50&exclusive=true`;\n  const uri = Path.join(apiPath, `repos/search?${query}`);\n  const repos = await get({uri});\n  if (repos && repos.data) {\n    languageIds = repos.data.map(repo => repo.name.split('_')[0]);\n  }\n  return languageIds;\n};\n\nexport async function fetchManifest({username, repository}) {\n  const yaml = await fetchFileFromServer({username, repository, path: 'manifest.yaml'});\n  const json = (yaml) ? YAML.parseDocument(yaml).toJSON() : null;\n  return json;\n};\n\n// https://git.door43.org/unfoldingword/en_ult/raw/branch/master/manifest.yaml\nexport async function fetchFileFromServer({username, repository, path, branch='master'}) {\n  const repoExists = await repositoryExists({username, repository});\n  if (repoExists) {\n    const uri = Path.join(username, repository, 'raw/branch', branch, path);\n    try {\n      const data = await get({uri});\n      return data;\n    }\n    catch(error) {\n      return null;\n    }\n  } else {\n    return null;\n  }\n};\n\nexport async function getUID({username}) {\n  const uri = Path.join(apiPath, 'users', username);\n  const user = await get({uri});\n  const {id: uid} = user;\n  return uid;\n}\nexport async function repositoryExists({username, repository}) {\n  const uid = await getUID({username});\n  const query = `q=${repository}&uid=${uid}`;\n  const uri = Path.join(apiPath, 'repos', `search?${query}`);\n  const {data: repos} = await get({uri});\n  const repo = repos.filter(repo => repo.name === repository)[0];\n  return !!repo;\n};\n\nasync function get({uri}) {\n  const {data} = await api.get(uri);\n  return data;\n};\n\n// http://bg.door43.org/api/v1/repos/unfoldingword/en_ugl/git/trees/master\nexport async function fetchTree({username, repository, sha='master'}) {\n  try {\n    const uri = Path.join('api/v1/repos', username, repository, 'git/trees', sha);\n    const data = await get({uri});\n    const tree = JSON.parse(data);\n    return tree;\n  } catch {\n    return null;\n  }\n};\n\nexport async function recursiveTree({username, repository, path, sha}) {\n  let tree = {};\n  const pathArray = path.split();\n  const results = fetchTree({username, repository, sha});\n  const result = results.tree.filter(item => item.path === pathArray[0])[0];\n  if (result) {\n    if (result.type === 'tree') {\n      const childPath = pathArray.slice(1).join('/');\n      const children = recursiveTree({username, repository, path: childPath, sha: result.sha});\n      tree[result.path] = children;\n    } else if (result.type === 'blob') {\n      tree[result.path] = true;\n    }\n  }\n};\n\nexport async function fileExists({username, repository, path, branch}) {\n  // get root listing\n  recursiveTree()\n  // get recursive path listing\n}\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Headroom from 'react-headroom';\nimport {\n  Typography,\n} from '@material-ui/core';\n\nimport * as ScriptureHelpers from '../Workspace/Scripture/helpers';\n\nconst Component = ({\n  classes,\n  applicationName,\n  manifests,\n  context: {\n    resourceId,\n    reference,\n  },\n}) => {\n\n  let bookName = '';\n  let chapter = '';\n  if (manifests[resourceId] && reference) {\n    const { bookId } = reference;\n    chapter = reference.chapter;\n    const {projects} = manifests[resourceId];\n    const project = ScriptureHelpers.projectByBookId({projects, bookId});\n    bookName = project ? project.title : '';\n  }\n  const referenceComponent = (bookName ? <span>&nbsp;&nbsp;{bookName} {chapter}</span> : <span />);\n\n  return (\n    <Headroom>\n      <div className={classes.paper}>\n        <div className={classes.toolbar}>\n          <img className={classes.logo} src=\"./logo.png\" alt=\"unfoldingWord\" />\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.coin} noWrap>\n            {referenceComponent}\n          </Typography>\n        </div>\n      </div>\n    </Headroom>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  projectName: PropTypes.string,\n};\n\nconst styles = theme => ({\n  paper: {\n    color: '#fff',\n    backgroundColor: '#31ADE3',\n    textAlign: 'center',\n    boxShadow: '0px 1px 5px 0px rgba(0, 0, 0, 0.2),' +\n               '0px 2px 2px 0px rgba(0, 0, 0, 0.14),' +\n               '0px 3px 1px -2px rgba(0, 0, 0, 0.12)',\n  },\n  toolbar: {\n    margin: 'auto',\n    display: 'inline-flex',\n    padding: '1em 0',\n  },\n  logo: {\n    height: '1.8em',\n    paddingTop: '0.25em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n  };\n\n  render() {\n    const {props} = this;\n    return (\n      <Component\n        {...props}\n      />\n    );\n  };\n}\nexport default Container;\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nconst History = lazy(() => import('./History'));\nconst Resources = lazy(() => import('./Resources'));\nconst OpenBibleStories = lazy(() => import('./OpenBibleStories'));\nconst Scripture = lazy(() => import('./Scripture'));\n\nexport const Component = ({\n  classes,\n  manifests,\n  history,\n  context,\n  setContext,\n  title,\n}) => {\n  const historyComponent = (\n    <History\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n      contexts={history}\n    />\n  );\n  const resources = (\n    <Resources\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const scripture = (\n    <Scripture\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const openBibleStories = (\n    <OpenBibleStories\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowHistory = (context.view === 'history');\n  if (Object.keys(manifests).length > 0) {\n    const shouldShowResources = (!context.resourceId);\n    const shouldShowScripture = (['ult','ust','ulb','udb','irv'].includes(context.resourceId));\n    const shouldShowOpenBibleStories = (context.resourceId === 'obs');\n\n    if (shouldShowHistory) component = historyComponent;\n    else if (shouldShowResources) component = resources;\n    else if (shouldShowScripture) component = scripture;\n    else if (shouldShowOpenBibleStories) component = openBibleStories;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Suspense fallback={loadingComponent}>\n        {component}\n      </Suspense>\n    </div>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n  };\n\n  componentDidUpdate() {\n    const {reference} = this.props.context;\n    if (reference) {\n      const {bookId, chapter, verse} = reference;\n      const id = `${bookId}_${chapter}_${verse}`;\n      const element = document.getElementById(id);\n      if (element) {\n        element.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    }\n  }\n\n  render() {\n    const props = this.props;\n    return (\n      <Component\n        {...props}\n      />\n    );\n  };\n};\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  BottomNavigation,\n  BottomNavigationAction,\n} from '@material-ui/core';\nimport {\n  LibraryBooks,\n  Book,\n  Bookmark,\n  History,\n  KeyboardArrowLeft,\n  KeyboardArrowRight,\n} from '@material-ui/icons';\n\nimport {chaptersInBook} from '../chaptersAndVerses';\n\nclass BottomNavContainer extends React.Component {\n  handleChange = (event, value) => {\n    let context = {...this.props.context};\n    let {\n      username,\n      languageId,\n      reference,\n    } = context;\n    switch (value) {\n      case 0:\n        context = this.previousChapter();\n        break;\n      case 1:\n        context = {username, languageId, view: 'history', reference: {}};\n        break;\n      case 2:\n        context = {username, languageId, reference: {}};\n        break;\n      case 3:\n        context.reference = {};\n        break;\n      case 4:\n        if (reference) context.reference = {bookId: reference.bookId};\n        break;\n      case 5:\n        context = this.nextChapter();\n        break;\n      default:\n        break;\n    };\n    this.props.setContext(context);\n  };\n\n  previousChapter = () => {\n    let reference = {...this.props.context.reference}\n    let {chapter} = reference;\n    if (chapter > 1) {\n      reference.chapter = chapter - 1;\n      reference.verse = undefined;\n    }\n    const context = {...this.props.context, reference};\n    return context;\n  };\n\n  nextChapter = () => {\n    let reference = {...this.props.context.reference}\n    let {bookId, chapter} = reference;\n    const bookChapters = chaptersInBook({bookId}).length\n    if (chapter < bookChapters) {\n      reference.chapter = chapter + 1\n      reference.verse = undefined;\n    }\n    const context = {...this.props.context, reference};\n    return context;\n  };\n\n  render() {\n    const { classes, context } = this.props;\n\n    const shouldShowHistory = (context.view === 'history');\n    const couldShowReference = (!context.resourceId);\n    const couldShowBook = (!(context.resourceId === 'obs') && !(context.reference && context.reference.bookId));\n    const couldShowChapter = (!(context.reference && context.reference.chapter));\n\n    let value;\n    if (shouldShowHistory) { value = 1; }\n    else if (couldShowReference) { value = 2; }\n    else if (couldShowBook) { value = 3; }\n    else if (couldShowChapter) { value = 4; }\n\n    return (\n      <Paper className={classes.root}>\n        <BottomNavigation\n          value={value}\n          onChange={this.handleChange}\n          showLabels={true}\n          className={classes.bottomNavigation}\n        >\n          <BottomNavigationAction\n            className={classes.button}\n            icon={<KeyboardArrowLeft />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"History\"\n            icon={<History />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Resources\"\n            icon={<LibraryBooks />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Books\"\n            icon={<Book />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Chapters\"\n            icon={<Bookmark />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            icon={<KeyboardArrowRight />}\n          />\n        </BottomNavigation>\n      </Paper>\n    );\n  }\n}\n\nBottomNavContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  bottomNavigation: {\n    margin: '0 auto',\n    maxWidth: '40em',\n  },\n  button: {\n    paddingLeft: '0',\n    paddingRight: '0',\n    minWidth: '60px',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(BottomNavContainer);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport ApplicationBar from './ApplicationBar';\nimport Workspace from './Workspace';\nimport BottomNav from './BottomNav';\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  palette: {\n    primary: {\n      light: '#59B7E7',\n      main: '#31ADE3',\n      dark: '#014263',\n      contrastText: '#FFF'\n    },\n  },\n});\n\nexport const Component = ({\n  classes,\n  context,\n  setContext,\n  history,\n  manifests,\n}) =>\n<MuiThemeProvider theme={theme}>\n  <div className={classes.root}>\n    <div className={classes.appFrame}>\n      <main className={classes.main}>\n        <ApplicationBar\n          applicationName=\"unfoldingWord\"\n          context={context}\n          setContext={setContext}\n          manifests={manifests}\n        />\n        <div className={classes.workspace}>\n          <Workspace\n            context={context}\n            setContext={setContext}\n            history={history}\n            manifests={manifests}\n          />\n        </div>\n      </main>\n      <nav className={classes.bottomNav}>\n        <BottomNav\n          context={context}\n          setContext={setContext}\n        />\n      </nav>\n    </div>\n  </div>\n</MuiThemeProvider>;\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  history: PropTypes.array,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  appFrame: {\n    zIndex: 1,\n    position: 'relative',\n    display: 'flex',\n    width: '100%',\n  },\n  main: {\n    width: '100%',\n    minWidth: '20em',\n  },\n  workspace: {\n    padding: '1em 1em 5.5em 1em',\n  },\n  bottomNav: {\n    width: '100%',\n    position: 'fixed',\n    bottom: 0,\n    zIndex: 10,\n  }\n});\n\nexport default withStyles(styles)(Component);\n","import localstorage from 'local-storage';\n\nexport const save = ({key, value}) => {\n return localstorage.set(key, value);\n};\n\nexport const load = ({key, defaultValue}) => {\n  let value;\n  try {\n    value = localstorage.get(key);\n  } catch {\n    value = defaultValue;\n  }\n  return value || defaultValue;\n};\n\nexport const deepFreeze = (object) => {\n  Object.keys(object).forEach(key => {\n    const value = object[key];\n    if (value && typeof value === \"object\") deepFreeze(value);\n  });\n  return Object.freeze(object);\n}\n","import React from 'react';\n\nimport Component from './Component';\n\nimport * as helpers from './helpers';\nimport * as gitApi from './gitApi';\nimport * as chapterAndVerses from './chaptersAndVerses';\n\nconst keyPrefix = 'ApplicationContainer.state.';\n\nclass Container extends React.Component {\n  state = {\n    manifests: {},\n    context: this.defaultContext(),\n    history: [],\n  };\n\n  defaultContext() {\n    const urlParams = new URLSearchParams(window.location.search);\n    const username = urlParams.get('owner');\n    const rc = urlParams.get('rc') || ''\n    const rcArray = rc.slice(1).split('/').filter(string => string);\n    const [languageId, resourceId, bookId, chapter, verse] = rcArray;\n    const context = {\n      username: username || 'unfoldingword',\n      languageId: languageId || 'en',\n      resourceId: resourceId,\n      reference: {\n        bookId,\n        chapter,\n        verse,\n      },\n    };\n    return context;\n  };\n\n  addToHistoryArray(_context, _history) {\n    let history = [];\n    if (_history) history = [..._history];\n    const newContext = JSON.stringify(_context);\n    const oldContext = JSON.stringify(history[0]);\n    const isNew = !( newContext === oldContext );\n    if (isNew) {\n      const context = JSON.parse(newContext);\n      history.unshift(context);\n    }\n    if (!history) debugger\n    return history;\n  };\n\n  // add to history (load, add, persist, return)\n  addHistory({history, context}) {\n    if (context.reference && context.reference.chapter) {\n      history = this.addToHistoryArray(context, history);\n      helpers.save({ key: `${keyPrefix}history`, value: history });\n    }\n    return history;\n  };\n\n  // load new manifests and update context if language or username changes\n  async refreshManifests({context}) {\n    const {context: oldContext, manifests: oldManifests} = this.state;\n    let manifests = {...oldManifests};\n    const languageChanged = (oldContext.languageId !== context.languageId);\n    const usernameChanged = (oldContext.username !== context.username);\n    if (languageChanged || usernameChanged) {\n      manifests = await gitApi.fetchResourceManifests(context);\n    }\n    return manifests;\n  };\n\n  validateContext({ manifests, context }) {\n    const {resourceId, reference} = context;\n    const manifestExists = (!!manifests && !!manifests[resourceId]);\n    const validReference = chapterAndVerses.validateReference({reference});\n    const valid = (manifestExists && validReference);\n    return valid;\n  }\n\n  async setContext(_context, back=false) {\n    let newState = {};\n    const {reference: _reference} = _context || this.defaultContext();\n    const reference = _reference ? {..._reference} : {};\n    const context = {..._context, reference};\n    // allow navigation to Resources selection\n    const emptyResourceId = (!context.reference || !context.resourceId);\n    if (emptyResourceId) {\n      newState.context = context;\n      // only update query if back button is not pressed\n      if (!back) this.updateQuery(newState.context);\n      window.scrollTo(0,0);\n    }\n    // use 'obs' for bookId if is resourceId\n    if (context.resourceId === 'obs') context.reference.bookId = 'obs';\n    // set context and manifests if new ones need to be fetched\n    const manifests = await this.refreshManifests({context});\n    newState.manifests = manifests;\n    const validContext = this.validateContext({manifests, context});\n    // validate context\n    if (validContext) {\n      newState.context = context;\n      newState.history = this.addHistory({history: this.state.history, context});\n      // only update query if back button is not pressed\n      if (!back) this.updateQuery(newState.context);\n      window.scrollTo(0,0);\n    }\n    // update state\n    this.setState(newState);\n  };\n\n  updateQuery(context) {\n    const {\n      username,\n      languageId,\n      resourceId,\n      reference: {\n        bookId,\n        chapter,\n        verse,\n      },\n    } = context;\n    const _username = username ? `owner=${username}` : '';\n    const _languageId = languageId ? `/${languageId}` : '';\n    const _resourceId = resourceId ? `/${resourceId}` : '';\n    const _bookId = bookId ? `/${bookId}` : '';\n    const _chapter = chapter ? `/${chapter}` : '';\n    const _verse = verse ? `/${verse}` : '';\n    const rc = `&rc=${_languageId}${_resourceId}${_bookId}${_chapter}${_verse}`\n    const path = window.location.pathname;\n    const query = `${path}?${_username}${rc}`;\n    window.history.pushState(context, null, query);\n  };\n\n  componentWillMount() {\n    let newState = {};\n    newState.context = this.defaultContext();\n    newState.history = helpers.load({\n      key: `${keyPrefix}history`,\n      defaultValue: [],\n    });\n    this.setState(newState);\n  };\n\n  async componentDidMount() {\n    let newState = {};\n    const {context} = this.state;\n    const manifests = await gitApi.fetchResourceManifests(context);\n    const validContext = this.validateContext({manifests, context});\n    newState.manifests = manifests;\n    newState.context = validContext ? context : this.defaultContext();\n    this.setState(newState);\n    window.addEventListener(\"popstate\", (e) => {\n      const context = e.state;\n      this.setContext(context, true);\n    });\n  };\n\n  render() {\n    const {context, history, manifests} = this.state;\n    const _context = context ? helpers.deepFreeze(context) : context;\n    const _manifests = manifests ? helpers.deepFreeze(manifests) : manifests;\n    return (\n      <Component\n        context={_context}\n        history={history}\n        setContext={this.setContext.bind(this)}\n        manifests={_manifests}\n      />\n    );\n  };\n};\n\nexport default Container;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              if (window) window.alert(\n                'Update is available, close the App and/or all tabs and restart the App to get the latest.'\n              );\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              if (window) window.alert(\n                'The first load of a Book and Chapter may take longer to download the resources.'\n              );\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Container from './Container';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Container />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}