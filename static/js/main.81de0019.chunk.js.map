{"version":3,"sources":["chaptersAndVerses.js","Workspace/Scripture/helpers.js","helpers.js","ApplicationBar/Component.js","ApplicationBar/index.js","ApplicationBar/Container.js","Workspace/Component.js","Workspace/index.js","Workspace/Container.js","BottomNav/Container.js","BottomNav/index.js","Component.js","Container.js","serviceWorker.js","index.js"],"names":["chaptersInBook","_ref","bookId","Object","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","Array","keys","map","i","bookData","chapters","_unused","_ref3","data","filter","row","id","validateBookId","reference","valid","validateChapter","dependencies","chapter","validateReference","_ref5","verse","blankReference","validBookId","validChapter","validVerse","verseCount","inRange","validateVerse","fetchResources","_x","_fetchResources","apply","this","arguments","_callee2","_ref$context","username","languageId","manifests","resources","uhbManifest","ugntManifest","testament","originalManifest","resourceIds","promises","resourcesArray","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context2","prev","next","context","ult","ust","tn","original","uhb","ugnt","whichTestament","_ref13","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","mark","_callee","resourceId","manifest","_context","includes","abrupt","fetchBook","translationNotes","fetchOriginalBook","stop","_x9","Promise","all","sent","forEach","index","_x2","_fetchBook","_callee3","_ref2","projects","repository","usfm","json","_context3","projectByBookId","Error","concat","ApplicationHelpers","fetchFileByBookId","usfmjs","toJSON","_x3","_fetchOriginalBook","_callee4","_ref4","repositories","_context4","pivotTranslationNotes","_ref7","translationNotesObject","array","JSON","parse","stringify","shift","item","_item","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","book","support_reference","original_quote","occurrence","gl_quote","occurrence_note","object","replace","push","_x6","_translationNotes","_callee7","_ref8","_context7","fetchNotes","_x7","_fetchNotes","_callee8","_ref9","tsv","_context8","tsvParse","_x8","_fetchFileByBookId","_callee9","_ref10","_projectByBookId","path","_context9","_ref11","project","_projects","identifier","length","_ref12","split","trim","store","localforage","createInstance","driver","INDEXEDDB","name","api","setup","baseURL","cache","maxAge","resourceRepositories","ta","tw","ugl","uhal","obs","obs-tn","obs-tq","obs-sn","obs-sq","fetchResourceManifests","_fetchResourceManifests","_resourceRepositories","resourceIdsPromises","manifestArray","fetchManifest","_fetchManifest","yaml","fetchFileFromServer","YAML","parseDocument","_fetchFileFromServer","_ref4$branch","branch","uri","repositoryExists","Path","join","get","t0","apiPath","getUID","_x4","_getUID","user","uid","_x5","_repositoryExists","_callee5","_ref6","query","repos","repo","_context5","_callee6","_context6","save","key","value","localstorage","set","load","defaultValue","copy","withStyles","theme","paper","color","backgroundColor","textAlign","boxShadow","toolbar","margin","display","padding","logo","height","paddingTop","withTheme","classes","applicationName","bookName","ScriptureHelpers","title","referenceComponent","react_default","createElement","dist_default","className","src","alt","index_es","variant","coin","noWrap","Container","state","props","ApplicationBar_Component","React","Component","History","lazy","__webpack_require__","e","then","bind","Resources","OpenBibleStories","Scripture","root","width","progress","history","setContext","historyComponent","contexts","scripture","openBibleStories","loadingComponent","disableShrink","component","shouldShowHistory","view","shouldShowResources","shouldShowScripture","shouldShowOpenBibleStories","react","fallback","element","document","getElementById","scrollIntoView","behavior","block","Workspace_Component","BottomNavContainer","handleChange","event","applicationHelpers","_this","previousChapter","nextChapter","undefined","_context$reference","_this$props","couldShowReference","couldShowBook","couldShowChapter","onChange","showLabels","bottomNavigation","button","icon","icons_index_es","label","maxWidth","paddingLeft","paddingRight","minWidth","createMuiTheme","typography","useNextVariants","palette","primary","light","main","dark","contrastText","flexGrow","appFrame","zIndex","position","workspace","bottomNav","bottom","styles","ApplicationBar","Workspace","BottomNav","keyPrefix","defaultContext","_history","helpers","newContext","unshift","addToHistoryArray","oldContext","oldManifests","languageChanged","usernameChanged","manifestExists","validReference","chapterAndVerses","newState","window","scrollTo","refreshManifests","validateContext","addHistory","setState","validContext","_this$state2","src_Component","Boolean","location","hostname","match","ReactDOM","render","src_Container","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.81de0019.chunk.js","sourcesContent":["import data from './chaptersAndVerses.json';\n\nexport const chaptersInBook = ({bookId}) => {\n  try {\n    let chapters;\n    if (bookId === 'obs') {\n      chapters = [...Array(50).keys()].map(i=>i+1);\n    } else {\n      chapters = bookData({bookId}).chapters;\n    }\n    return chapters;\n  } catch {\n    return null;\n  }\n};\n\nexport const versesInChapter = ({bookId, chapter}) => {\n  const verses = chaptersInBook({bookId})[chapter - 1];\n  return verses;\n};\n\nexport const bookData = ({bookId}) => {\n  const _bookData = data.filter(row => row.id === bookId)[0];\n  return _bookData;\n};\n\nexport const testament = ({bookId}) => {\n  const _testament = bookData({bookId}).testament;\n  return _testament;\n};\n\nexport const validateBookId = (reference) => {\n  let valid;\n  if (reference.bookId === 'obs') {\n    valid = true;\n  } else if (reference.bookId && !!bookData(reference)) {\n    valid = true;\n  }\n  return valid;\n}\n\nexport const validateChapter = (reference) => {\n  const dependencies = ( validateBookId(reference) );\n  const chapters = chaptersInBook(reference);\n  const valid = (dependencies && !!chapters[reference.chapter - 1]);\n  return valid;\n}\n\nexport const validateVerse = (reference) => {\n  const dependencies = (validateBookId(reference) && validateChapter(reference));\n  const chapters = chaptersInBook(reference);\n  const verseCount = chapters[reference.chapter];\n  const inRange = (verseCount && reference.verse <= verseCount);\n  return (dependencies && inRange);\n};\n\nexport const validateReference = ({reference}) => {\n  let valid = false;\n  const {bookId, chapter, verse} = reference;\n  const blankReference = (!bookId && !chapter && !verse);\n  const validBookId = validateBookId(reference);\n  const validChapter = validateChapter(reference);\n  const validVerse = (!!verse) ? validateVerse(reference) : true;\n  if (blankReference) {\n    valid = true;\n  } else if (validBookId && !chapter && !verse) {\n    valid = true;\n  } else if (validBookId && validChapter && !verse) {\n    valid = true;\n  } else if (validBookId && validChapter && validVerse) {\n    valid = true;\n  }\n  return valid;\n};\n","import usfmjs from 'usfm-js';\n\n// Purpose: application wide\n// Scope: limited to resource files and parsing\n// Notes: pass in manifests don't fetch them\n\nimport * as ApplicationHelpers from '../../helpers';\n\nexport async function fetchResources({\n  context: {\n    username,\n    languageId,\n    reference: {\n      bookId,\n    },\n  },\n  manifests,\n}) {\n  let resources = {\n    ult: null,\n    ust: null,\n    tn: null,\n    original: null,\n  };\n  const { uhb: uhbManifest, ugnt: ugntManifest} = manifests;\n  const testament = whichTestament({bookId, uhbManifest, ugntManifest})\n  const originalManifest = (testament === 'old') ? uhbManifest : ugntManifest;\n\n  const resourceIds = ['ult', 'ust', 'tn', 'original'];\n  const promises = resourceIds.map(async (resourceId) => {\n    let manifest;\n    if (['ult','ust'].includes(resourceId)) {\n      manifest = manifests[resourceId];\n      return fetchBook({username, languageId, resourceId, bookId, manifest});\n    }\n    if (resourceId === 'tn') {\n      manifest = manifests[resourceId];\n      return translationNotes({username, languageId, bookId, manifest});\n    }\n    if (resourceId === 'original') {\n      return fetchOriginalBook({username, languageId, bookId, uhbManifest, ugntManifest});\n    }\n  });\n  const resourcesArray = await Promise.all(promises);\n  resourceIds.forEach((resourceId, index) => {\n    const data = resourcesArray[index];\n    const manifest = (resourceId === 'original') ? originalManifest : manifests[resourceId];\n    resources[resourceId] = {\n      manifest,\n      data\n    };\n  });\n  return resources;\n};\n\nexport async function fetchBook({username, languageId, resourceId, bookId, manifest}) {\n  const {projects} = manifest;\n  if (!projectByBookId({projects, bookId}))\n    throw(Error(`book not found in ${resourceId}`));\n  const repository = ApplicationHelpers.resourceRepositories({languageId})[resourceId];\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json.chapters;\n};\n\nexport const whichTestament = ({bookId, uhbManifest, ugntManifest}) => {\n  let testament;\n  const uhbProject = projectByBookId({projects: uhbManifest.projects, bookId});\n  const ugntProject = projectByBookId({projects: ugntManifest.projects, bookId});\n  if (uhbProject) testament = 'old';\n  if (ugntProject) testament = 'new';\n  return testament;\n}\n\nexport async function fetchOriginalBook({username, languageId, bookId, uhbManifest, ugntManifest}) {\n  let manifest, repository;\n  const testament = whichTestament({bookId, uhbManifest, ugntManifest});\n  const repositories = ApplicationHelpers.resourceRepositories({languageId});\n  if (testament === 'old') {\n    manifest = uhbManifest;\n    repository = repositories.uhb;\n  };\n  if (testament === 'new') {\n    manifest = ugntManifest;\n    repository = repositories.ugnt;\n  };\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json.chapters;\n};\n\nexport async function fetchUGNTBook({username, languageId, bookId, manifest}) {\n  const repository = ApplicationHelpers.resourceRepositories({languageId}).ugnt;\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json;\n};\n\nexport async function fetchUHBBook({username, languageId, bookId, manifest}) {\n  const repository = ApplicationHelpers.resourceRepositories({languageId}).uhb;\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json;\n};\n\nexport const pivotTranslationNotes = ({tn}) => {\n  let translationNotesObject = {};\n  let array = JSON.parse(JSON.stringify(tn));\n  array.shift();\n  array.forEach(item => {\n    let [book, chapter, verse, id, support_reference, original_quote, occurrence, gl_quote, occurrence_note] = item;\n    if (book && chapter && verse) {\n      if (!translationNotesObject[chapter]) translationNotesObject[chapter] = {};\n      if (!translationNotesObject[chapter][verse]) translationNotesObject[chapter][verse] = [];\n      occurrence_note = (!!occurrence_note) ? occurrence_note.replace(/<br>/g,'\\n') : occurrence_note;\n      let object = {\n        id,\n        support_reference,\n        original_quote,\n        occurrence,\n        gl_quote,\n        occurrence_note,\n      };\n      translationNotesObject[chapter][verse].push(object);\n    }\n  });\n  return translationNotesObject\n}\n\nexport async function translationNotes({username, languageId, bookId, manifest}) {\n  const data = await fetchNotes({username, languageId, bookId, manifest});\n  return data;\n};\n\nexport async function fetchNotes({username, languageId, bookId, manifest}) {\n  const repository = ApplicationHelpers.resourceRepositories({languageId}).tn;\n  const tsv = await fetchFileByBookId({username, repository, bookId, manifest});\n  const data = tsvParse({tsv});\n  return data;\n};\n\nexport async function fetchFileByBookId({username, repository, bookId, manifest}) {\n  const {projects} = manifest;\n  let {path} = projectByBookId({projects, bookId});\n  path = path.replace(/^\\.\\//, '');\n  const data = await ApplicationHelpers.fetchFileFromServer({username, repository, path});\n  return data;\n};\n\nexport const projectByBookId = ({projects, bookId}) => {\n  const _projects = projects.filter(item => item.identifier === bookId);\n  let project;\n  if (_projects.length > 0) {\n    project = _projects[0];\n  }\n  return project;\n}\n\nexport const tsvParse = ({tsv}) =>\n  tsv.split('\\n').map(row => row.trim().split('\\t'));\n","import Path from 'path';\nimport YAML from 'yaml';\nimport localforage from 'localforage';\nimport localstorage from 'local-storage'\nimport { setup } from 'axios-cache-adapter';\n\nconst baseURL = \"https://git.door43.org/\";\n\nconst store = localforage.createInstance({\n  driver: [localforage.INDEXEDDB],\n  name: 'web-cache',\n});\nconst api = setup({\n  baseURL: baseURL,\n  cache: {store, maxAge: 1 * 24 * 60 * 60 * 1000},\n});\n\n// Purpose: application wide\n// Scope: limited to resource manifests and information\n\nexport const resourceRepositories = ({languageId}) => {\n  return {\n    ult: languageId + '_ult',\n    ust: languageId + '_ust',\n    tn: languageId + '_tn',\n    ta: languageId + '_ta',\n    tw: languageId + '_tw',\n    ugnt: 'UGNT',\n    uhb: 'UHB',\n    ugl: languageId + '_ugl',\n    uhal: languageId + '_uhal',\n    obs: languageId + '_obs',\n    'obs-tn': languageId + '_obs-tn',\n    'obs-tq': languageId + '_obs-tq',\n    'obs-sn': languageId + '_obs-sn',\n    'obs-sq': languageId + '_obs-sq',\n  };\n};\n\nexport async function fetchResourceManifests({username, languageId}) {\n  let manifests = {};\n  const _resourceRepositories = resourceRepositories({languageId});\n  const resourceIds = Object.keys(_resourceRepositories);\n  const resourceIdsPromises = resourceIds.map(resourceId => {\n    const repository = _resourceRepositories[resourceId];\n    return fetchManifest({username, repository})\n  });\n  const manifestArray = await Promise.all(resourceIdsPromises);\n  resourceIds.forEach((resourceId, index) => {\n    manifests[resourceId] = manifestArray[index];\n  });\n  return manifests;\n};\n\nexport async function fetchManifest({username, repository}) {\n  const yaml = await fetchFileFromServer({username, repository, path: 'manifest.yaml'});\n  const json = (yaml) ? YAML.parseDocument(yaml).toJSON() : null;\n  return json;\n};\n\n// https://git.door43.org/unfoldingword/en_ult/raw/branch/master/manifest.yaml\nexport async function fetchFileFromServer({username, repository, path, branch='master'}) {\n  const repoExists = await repositoryExists({username, repository});\n  if (repoExists) {\n    const uri = Path.join(username, repository, 'raw/branch', branch, path);\n    try {\n      const data = await get({uri});\n      return data;\n    }\n    catch(error) {\n      return null;\n    }\n  } else {\n    return null;\n  }\n};\nconst apiPath = 'api/v1'\n\nexport async function getUID({username}) {\n  const uri = Path.join(apiPath, 'users', username);\n  const user = await get({uri});\n  const {id: uid} = user;\n  return uid;\n}\nexport async function repositoryExists({username, repository}) {\n  const uid = await getUID({username});\n  const query = `q=${repository}&uid=${uid}`;\n  const uri = Path.join(apiPath, 'repos', `search?${query}`);\n  const {data: repos} = await get({uri});\n  const repo = repos.filter(repo => repo.name === repository)[0];\n  return !!repo;\n}\nasync function get({uri}) {\n  const {data} = await api.get(uri);\n  return data;\n};\n\nexport const save = ({key, value}) => {\n return localstorage.set(key, value);\n};\n\nexport const load = ({key, defaultValue}) => {\n  let value;\n  try {\n    value = localstorage.get(key);\n  } catch {\n    value = defaultValue;\n  }\n  return value || defaultValue;\n};\n\nexport const copy = (object) => (\n  JSON.parse(JSON.stringify(object))\n);\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Headroom from 'react-headroom';\nimport {\n  Typography,\n} from '@material-ui/core';\n\nimport * as ScriptureHelpers from '../Workspace/Scripture/helpers';\n\nconst Component = ({\n  classes,\n  applicationName,\n  manifests,\n  context: {\n    resourceId,\n    reference,\n  },\n}) => {\n\n  let bookName = '';\n  let chapter = '';\n  if (manifests[resourceId] && reference) {\n    const { bookId } = reference;\n    chapter = reference.chapter;\n    const {projects} = manifests[resourceId];\n    const project = ScriptureHelpers.projectByBookId({projects, bookId});\n    bookName = project ? project.title : '';\n  }\n  const referenceComponent = (bookName ? <span>&nbsp;&nbsp;{bookName} {chapter}</span> : <span />);\n\n  return (\n    <Headroom>\n      <div className={classes.paper}>\n        <div className={classes.toolbar}>\n          <img className={classes.logo} src=\"./logo.png\" alt=\"unfoldingWord\" />\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.coin} noWrap>\n            {referenceComponent}\n          </Typography>\n        </div>\n      </div>\n    </Headroom>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  projectName: PropTypes.string,\n};\n\nconst styles = theme => ({\n  paper: {\n    color: '#fff',\n    backgroundColor: '#31ADE3',\n    textAlign: 'center',\n    boxShadow: '0px 1px 5px 0px rgba(0, 0, 0, 0.2),' +\n               '0px 2px 2px 0px rgba(0, 0, 0, 0.14),' +\n               '0px 3px 1px -2px rgba(0, 0, 0, 0.12)',\n  },\n  toolbar: {\n    margin: 'auto',\n    display: 'inline-flex',\n    padding: '1em 0',\n  },\n  logo: {\n    height: '1.8em',\n    paddingTop: '0.25em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n  };\n\n  render() {\n    const {props} = this;\n    return (\n      <Component\n        {...props}\n      />\n    );\n  };\n}\nexport default Container;\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nconst History = lazy(() => import('./History'));\nconst Resources = lazy(() => import('./Resources'));\nconst OpenBibleStories = lazy(() => import('./OpenBibleStories'));\nconst Scripture = lazy(() => import('./Scripture'));\n\nexport const Component = ({\n  classes,\n  manifests,\n  history,\n  context,\n  setContext,\n  title,\n}) => {\n  const historyComponent = (\n    <History\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n      contexts={history}\n    />\n  );\n  const resources = (\n    <Resources\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const scripture = (\n    <Scripture\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const openBibleStories = (\n    <OpenBibleStories\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowHistory = (context.view === 'history');\n  if (Object.keys(manifests).length > 0) {\n    const shouldShowResources = (!context.resourceId);\n    const shouldShowScripture = (['ult','ust','uhb','ugnt'].includes(context.resourceId));\n    const shouldShowOpenBibleStories = (context.resourceId === 'obs');\n\n    if (shouldShowHistory) component = historyComponent;\n    else if (shouldShowResources) component = resources;\n    else if (shouldShowScripture) component = scripture;\n    else if (shouldShowOpenBibleStories) component = openBibleStories;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Suspense fallback={loadingComponent}>\n        {component}\n      </Suspense>\n    </div>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n  };\n\n  componentDidUpdate() {\n    const {reference} = this.props.context;\n    if (reference) {\n      const {bookId, chapter, verse} = reference;\n      const id = `${bookId}_${chapter}_${verse}`;\n      const element = document.getElementById(id);\n      if (element) {\n        element.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    }\n  }\n\n  render() {\n    const props = this.props;\n    return (\n      <Component\n        {...props}\n      />\n    );\n  };\n};\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {\n  Paper,\n  BottomNavigation,\n  BottomNavigationAction,\n} from '@material-ui/core';\nimport {\n  LibraryBooks,\n  Book,\n  Bookmark,\n  History,\n  KeyboardArrowLeft,\n  KeyboardArrowRight,\n} from '@material-ui/icons';\n\nimport {chaptersInBook} from '../chaptersAndVerses';\nimport * as applicationHelpers from '../helpers';\n\nclass BottomNavContainer extends React.Component {\n  handleChange = (event, value) => {\n    let context = applicationHelpers.copy(this.props.context);\n    let {\n      username,\n      languageId,\n      reference,\n    } = context;\n    switch (value) {\n      case 0:\n        context = this.previousChapter();\n        break;\n      case 1:\n        context = {username, languageId, view: 'history', reference: {}};\n        break;\n      case 2:\n        context = {username, languageId, reference: {}};\n        break;\n      case 3:\n        context.reference = {};\n        break;\n      case 4:\n        if (reference) context.reference = {bookId: reference.bookId};\n        break;\n      case 5:\n        context = this.nextChapter();\n        break;\n      default:\n        break;\n    };\n    this.props.setContext(context);\n  };\n\n  previousChapter = () => {\n    const context = applicationHelpers.copy(this.props.context);\n    let {chapter} = context.reference;\n    if (chapter > 1) {\n      context.reference.chapter = context.reference.chapter - 1;\n      context.reference.verse = undefined;\n    }\n    return context;\n  };\n\n  nextChapter = () => {\n    const context = applicationHelpers.copy(this.props.context);\n    let {bookId, chapter} = context.reference;\n    const bookChapters = chaptersInBook({bookId}).length\n    if (chapter < bookChapters) {\n      context.reference.chapter = context.reference.chapter + 1\n      context.reference.verse = undefined;\n    }\n    return context;\n  };\n\n  render() {\n    const { classes, context } = this.props;\n\n    const shouldShowHistory = (context.view === 'history');\n    const couldShowReference = (!context.resourceId);\n    const couldShowBook = (!(context.resourceId === 'obs') && !(context.reference && context.reference.bookId));\n    const couldShowChapter = (!(context.reference && context.reference.chapter));\n\n    let value;\n    if (shouldShowHistory) { value = 1; }\n    else if (couldShowReference) { value = 2; }\n    else if (couldShowBook) { value = 3; }\n    else if (couldShowChapter) { value = 4; }\n\n    return (\n      <Paper className={classes.root}>\n        <BottomNavigation\n          value={value}\n          onChange={this.handleChange}\n          showLabels={true}\n          className={classes.bottomNavigation}\n        >\n          <BottomNavigationAction\n            className={classes.button}\n            icon={<KeyboardArrowLeft />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"History\"\n            icon={<History />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Resources\"\n            icon={<LibraryBooks />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Books\"\n            icon={<Book />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Chapters\"\n            icon={<Bookmark />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            icon={<KeyboardArrowRight />}\n          />\n        </BottomNavigation>\n      </Paper>\n    );\n  }\n}\n\nBottomNavContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  bottomNavigation: {\n    margin: '0 auto',\n    maxWidth: '40em',\n  },\n  button: {\n    paddingLeft: '0',\n    paddingRight: '0',\n    minWidth: '60px',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(BottomNavContainer);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport ApplicationBar from './ApplicationBar';\nimport Workspace from './Workspace';\nimport BottomNav from './BottomNav';\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  palette: {\n    primary: {\n      light: '#59B7E7',\n      main: '#31ADE3',\n      dark: '#014263',\n      contrastText: '#FFF'\n    },\n  },\n});\n\nexport const Component = ({\n  classes,\n  context,\n  setContext,\n  history,\n  manifests,\n}) =>\n<MuiThemeProvider theme={theme}>\n  <div className={classes.root}>\n    <div className={classes.appFrame}>\n      <main className={classes.main}>\n        <ApplicationBar\n          applicationName=\"unfoldingWord\"\n          context={context}\n          setContext={setContext}\n          manifests={manifests}\n        />\n        <div className={classes.workspace}>\n          <Workspace\n            context={context}\n            setContext={setContext}\n            history={history}\n            manifests={manifests}\n          />\n        </div>\n      </main>\n      <nav className={classes.bottomNav}>\n        <BottomNav\n          context={context}\n          setContext={setContext}\n        />\n      </nav>\n    </div>\n  </div>\n</MuiThemeProvider>;\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  history: PropTypes.array,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  appFrame: {\n    zIndex: 1,\n    position: 'relative',\n    display: 'flex',\n    width: '100%',\n  },\n  main: {\n    width: '100%',\n    minWidth: '20em',\n  },\n  workspace: {\n    padding: '1em 1em 5.5em 1em',\n  },\n  bottomNav: {\n    width: '100%',\n    position: 'fixed',\n    bottom: 0,\n    zIndex: 10,\n  }\n});\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\n\nimport Component from './Component';\n\nimport * as helpers from './helpers';\nimport * as chapterAndVerses from './chaptersAndVerses';\n\nconst keyPrefix = 'ApplicationContainer.state.';\n\nclass Container extends React.Component {\n  state = {\n    manifests: {},\n    context: this.defaultContext(),\n    history: [],\n  };\n\n  defaultContext() {\n    return {\n      username: 'unfoldingWord',\n      languageId: 'en',\n      resourceId: null,\n      reference: {},\n    }\n  };\n\n  addToHistoryArray(_context, _history) {\n    let history = [];\n    if (_history) history = helpers.copy(_history);\n    const newContext = JSON.stringify(_context);\n    const oldContext = JSON.stringify(history[0]);\n    const isNew = !( newContext === oldContext );\n    if (isNew) {\n      const context = JSON.parse(newContext);\n      history.unshift(context);\n    }\n    if (!history) debugger\n    return history;\n  };\n\n  // add to history (load, add, persist, return)\n  addHistory({history, context}) {\n    if (context.reference && context.reference.chapter) {\n      history = this.addToHistoryArray(context, history);\n      helpers.save({ key: `${keyPrefix}history`, value: history });\n    }\n    return history;\n  };\n\n  // load new manifests and update context if language or username changes\n  async refreshManifests({context}) {\n    const {context: oldContext, manifests: oldManifests} = this.state;\n    let manifests = helpers.copy(oldManifests);\n    const languageChanged = (oldContext.languageId !== context.languageId);\n    const usernameChanged = (oldContext.username !== context.username);\n    if (languageChanged || usernameChanged) {\n      manifests = await helpers.fetchResourceManifests(context);\n    }\n    return manifests;\n  };\n\n  validateContext({ manifests, context }) {\n    const {\n      resourceId,\n      reference,\n    } = context;\n    const manifestExists = (!!manifests && !!manifests[resourceId]);\n    const validReference = chapterAndVerses.validateReference({reference});\n    const valid = (manifestExists && validReference);\n    return valid;\n  }\n\n  async setContext(_context) {\n    let newState = {};\n    const context = helpers.copy(_context);\n    // allow navigation to Resources selection\n    const emptyResourceId = (!context.reference || !context.resourceId);\n    if (emptyResourceId) {\n      newState.context = context;\n      window.scrollTo(0,0);\n    }\n    // use 'obs' for bookId if is resourceId\n    if (context.resourceId === 'obs') context.reference.bookId = 'obs';\n    // set context and manifests if new ones need to be fetched\n    const manifests = await this.refreshManifests({context});\n    newState.manifests = manifests;\n    const validContext = this.validateContext({manifests, context});\n    // validate context\n    if (validContext) {\n      newState.context = context;\n      newState.history = this.addHistory({history: this.state.history, context});\n      window.scrollTo(0,0);\n    }\n    // update state\n    this.setState(newState);\n    // persist context\n    helpers.save({ key: `${keyPrefix}context`, value: context });\n  };\n\n  componentWillMount() {\n    let newState = {};\n    newState.context = helpers.load({\n      key: `${keyPrefix}context`,\n      defaultValue: this.defaultContext(),\n    });\n    newState.history = helpers.load({\n      key: `${keyPrefix}history`,\n      defaultValue: [],\n    });\n    this.setState(newState);\n  };\n\n  async componentDidMount() {\n    let newState = {};\n    const {context} = this.state;\n    const manifests = await helpers.fetchResourceManifests(context);\n    const validContext = this.validateContext({manifests, context});\n    newState.manifests = manifests;\n    newState.context = validContext ? context : this.defaultContext();\n    this.setState(newState);\n  };\n\n  render() {\n    const {context, history, manifests} = this.state;\n    return (\n      <Component\n        context={context}\n        history={history}\n        setContext={this.setContext.bind(this)}\n        manifests={manifests}\n      />\n    );\n  };\n};\n\nexport default Container;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              if (window) window.alert(\n                'Update is available, close the App and/or all tabs and restart the App to get the latest.'\n              );\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              if (window) window.alert(\n                'The first load of a Book and Chapter may take longer to download the resources.'\n              );\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Container from './Container';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Container />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}