{"version":3,"sources":["components/Viewer/Workspace/TranslationHelps/styles.js","components/Viewer/langnames.js","components/Viewer/gitApi.js","components/Viewer/Workspace/TranslationHelps/TranslationAcademy/helpers.js","components/Viewer/Workspace/TranslationHelps/TranslationWords/helpers.js","components/Viewer/Workspace/TranslationHelps/helpers.js","components/Viewer/Workspace/TranslationHelps/RCLinkContainer.js","components/Viewer/Workspace/TranslationHelps/TextComponentWithRCLinks.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord/helpers.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord/Container.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord/index.js","components/Viewer/Workspace/styles.js","components/Viewer/Workspace/Scripture/helpers.js","components/Viewer/Workspace/TranslationHelps/Container.js","components/Viewer/Workspace/TranslationHelps/index.js","components/Viewer/Workspace/Resources/Resource.js","components/Viewer/Workspace/TranslationHelps/Component.js","components/Viewer/Workspace/TranslationHelps/HelpsTab.js","components/Viewer/Workspace/Scripture/BookSelection/Book.js","components/Viewer/Workspace/Scripture/BookSelection/Testament/Component.js","components/Viewer/Workspace/Scripture/BookSelection/Testament/index.js","components/Viewer/Workspace/Scripture/BookSelection/Testament/Container.js","components/Viewer/Workspace/Scripture/BookSelection/index.js","components/Viewer/Workspace/Scripture/BookSelection/Component.js","components/Viewer/Workspace/Scripture/ChapterSelection/Chapter.js","components/Viewer/Workspace/Scripture/ChapterSelection/index.js","components/Viewer/Workspace/Scripture/ChapterSelection/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/ExpansionPanel/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/ExpansionPanel/index.js","components/Viewer/Workspace/Scripture/ScriptureView/ExpansionPanel/Container.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/Word.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/Container.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/index.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/Milestone.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/Text.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/index.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/Verse/Title.js","components/Viewer/Workspace/Scripture/ScriptureView/Verse/Reference.js","components/Viewer/Workspace/Scripture/ScriptureView/Verse/index.js","components/Viewer/Workspace/Scripture/ScriptureView/Verse/Component.js","components/Viewer/Workspace/TranslationHelps/Original/helpers.js","components/Viewer/Workspace/Scripture/ScriptureView/Chapter.js","components/Viewer/Workspace/Scripture/ScriptureView/theme.js","components/Viewer/Workspace/Scripture/ScriptureView/AlignmentsTable/index.js","components/Viewer/Workspace/Scripture/ScriptureView/AlignmentsTable/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/AlignmentsTable/helpers.js","components/Viewer/Workspace/Scripture/ScriptureView/TranslationNotesTable/index.js","components/Viewer/Workspace/Scripture/ScriptureView/TranslationNotesTable/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseCountTable.js","components/Viewer/Workspace/Scripture/Resources.context.js","components/Viewer/Workspace/Scripture/Alignment/helpers.js","components/Viewer/Workspace/Scripture/LemmaIndex.context.js","components/Viewer/Workspace/Scripture/ScriptureView/ScriptureView.js","components/Viewer/Workspace/Scripture/ScriptureView/index.js","components/Viewer/Workspace/Scripture/Scripture.js","components/Viewer/Workspace/Scripture/Container.js","components/Viewer/Workspace/Scripture/index.js","components/Viewer/Workspace/OpenBibleStories/StorySelection/Story.js","components/Viewer/Workspace/OpenBibleStories/StorySelection/index.js","components/Viewer/Workspace/OpenBibleStories/StorySelection/Component.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Card/Component.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Card/index.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Card/Container.js","components/Viewer/Workspace/OpenBibleStories/youtubeIds.js","components/Viewer/Workspace/OpenBibleStories/helpers.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Frame/Component.js","components/Viewer/Workspace/OpenBibleStories/translationHelps/helpers.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Frame/index.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Frame/Container.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Story/Component.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/index.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Story/Container.js","components/Viewer/Workspace/OpenBibleStories/Component.js","components/Viewer/Workspace/OpenBibleStories/Container.js","components/Viewer/Workspace/OpenBibleStories/index.js","ApplicationBar.js","BottomNav.js","components/Viewer/Workspace/Component.js","components/Viewer/Workspace/index.js","components/Viewer/Workspace/Container.js","components/Viewer/Manifests.context.js","components/Viewer/Viewer.js","components/Viewer/index.js","styles.js","theme.js","helpers.js","Context.context.js","History.context.js","App.js","serviceWorker.js","index.js","components/Viewer/Workspace/Resources/Languages/components.js","components/Viewer/Workspace/Resources/styles.js","components/Viewer/Workspace/Resources/Languages/Container.js","components/Viewer/Workspace/Resources/Languages/index.js","components/Viewer/Workspace/Resources/Component.js","components/Viewer/Workspace/Resources/index.js","components/Viewer/Workspace/History/Context.js","components/Viewer/Workspace/History/Component.js","components/Viewer/Workspace/History/index.js","components/Viewer/Workspace/TranslationHelps/TranslationNotes/TranslationNoteComponent.js","components/Viewer/Workspace/TranslationHelps/TranslationNotes/index.js","components/Viewer/chaptersAndVerses.js"],"names":["styles","theme","root","backgroundColor","palette","background","paper","width","appBar","zIndex","margin","hidden","padding","concat","spacing","unit","tabContent","getLanguage","_ref","language","languageId","langname","langnames","filter","object","lc","id","pk","languageName","ang","region","lr","gateway","gw","country","hc","localized","ln","direction","ld","aliases","alt","countries","cc","apiPath","store","localforage","createInstance","driver","INDEXEDDB","name","api","setup","baseURL","cache","maxAge","exclude","query","key","req","serialized","params","URLSearchParams","toString","JSON","stringify","url","resourceRepositories","obs","obs-tn","obs-tq","obs-sn","obs-sq","ult","ust","irv","ulb","udb","tn","ta","tw","ugnt","uhb","ugl","uhal","fetchResourceManifests","_x","_fetchResourceManifests","apply","this","arguments","_callee","_ref2","username","manifests","_resourceRepositories","resourceIds","promises","manifestArray","regenerator_default","a","wrap","_context","prev","next","Object","keys","map","resourceId","repository","fetchManifest","includes","Promise","all","sent","forEach","index","abrupt","stop","getLanguages","_x2","_getLanguages","_callee2","_ref3","languageIds","languages","_context2","getLanguageIds","sort","b","_x3","_getLanguageIds","_callee3","_ref4","languageIdsArray","_context3","getLanguageIdsByResource","flat","push","_x4","_getLanguageIdsByResource","_callee4","_ref5","uid","uri","repos","_context4","getUID","q","limit","exclusive","Path","join","get","data","repo","split","_x5","_fetchManifest","_callee5","_ref6","yaml","json","_context5","fetchFileFromServer","path","YAML","safeLoad","_x6","_fetchFileFromServer","_callee6","_ref7","_ref7$branch","branch","_context6","repositoryExists","t0","_x7","_getUID","_callee7","_ref8","user","_context7","_x8","_repositoryExists","_callee8","_ref9","_ref14","_context8","_callee9","_ref10","_ref15","_context9","resourceRepository","gitApi","fetchTitle","_fetchTitle","_path","title","splice","fetchArticle","_fetchArticle","article","_article","prefix","word","TranslationWords_helpers_fetchTitle","markdown","replace","trim","TranslationWords_helpers_fetchArticle","TranslationAcademyHelpers","TranslationWordsHelpers","console","log","RCLinkContainer","state","context","_this","props","open","handleOpen","_this$state","_this$state$context","reference","objectSpread","setContext","Workspace_TranslationHelps_helpers_fetchArticle","helpers","then","tab","text","addTab","handleClose","setState","href","regexpLanguageIdResourcePath","test","match","exec","_match2","slicedToArray","regexpReference","_match5","bookId","chapter","verse","parseInt","_this$props","children","parseHref","_this2","_this$state2","_this$state2$context","Workspace_TranslationHelps_helpers_fetchTitle","_this$state3","classes","react_default","createElement","index_es","label","noWrap","component","className","chip","onClick","variant","icon","icons_index_es","color","clickable","React","Component","withStyles","height","maxWidth","withTheme","TextComponentWithRCLinks","options","remarkReactComponents","TranslationHelps_RCLinkContainer","assign","div","style","remark","use","remark2react","processSync","contents","verseObject","senses","content","lemma","strong","morph","sense","gloss","definition","repositories","parseSenses","lexiconMarkdown","uniqueSenses","senseSection","definitionRegexp","glossRegexp","unique","array","_strong","Error","_array","response","_object","Container","_senses2","unmounted","catch","error","AlignedWord_Component","column","marginLeft","marginRight","tabVerse","fullWidth","expansionPanelDetails","expansionPanelActions","fetchResources","_fetchResources","_ref$context","resources","uhbManifest","ugntManifest","testament","originalManifest","resourcesArray","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","original","whichTestament","_ref13","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","mark","manifest","fetchBook","translationNotes","fetchOriginalBook","_x9","_fetchBook","projects","usfm","projectByBookId","fetchFileByBookId","usfmjs","toJSON","chapters","_fetchOriginalBook","pivotTranslationNotes","translationNotesObject","parse","shift","item","_item","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","book","support_reference","original_quote","occurrence","gl_quote","occurrence_note","_translationNotes","fetchNotes","_fetchNotes","tsv","tsvParse","_fetchFileByBookId","project","_ref11","_projects","identifier","length","_ref12","row","lazy","resolve","require","Math","random","tabIndex","tabs","handleChangeIndex","_index","__index","undefined","scrollToId","element","document","getElementById","scrollIntoView","behavior","block","react","fallback","bind","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","card","minWidth","marginBottom","fontSize","pos","actions","textAlign","button","_ref$manifest$dublin_","dublin_core","subject","description","rights","publisher","contributors","gutterBottom","size","d","_styles__WEBPACK_IMPORTED_MODULE_3__","HelpsTab","tabLabels","tabContents","badgeCount","notes","wordObjects","words","badge","badgeContent","currentTab","position","value","onChange","indicatorColor","textColor","scrollButtons","TranslationNotes","AlignedWord","note","wordObject","link","originalWords","bookListItem","listItemIcon","listItemText","paddingLeft","bookMetadata","chapterCount","chaptersAndVerses","selected","paddingRight","primary","secondary","list","paddingTop","paddingBottom","testamentId","books","toggle","bookComponents","Book","fileList","inset","in","timeout","unmountOnExit","dense","Testament_Component","bible","bibleList","overflowY","bibleManifest","slice","categories","Testament","verses","_reference","bookData","ChapterSelection_Chapter","summary","details","handleToggle","expanded","expandIcon","top","aria-label","ExpansionPanel_Component","anchorEl","handlePopoverOpen","event","currentTarget","handlePopoverClose","Boolean","aria-owns","aria-haspopup","onMouseEnter","onMouseLeave","closed","VerseObject_Word","popover","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","pointerEvents","Milestone","_ref$verseObject","tag","occurrences","child","VerseObject","originalWord","_originalWords","type","AlignedWords","_ref$originalWords","VerseObject_Text","VerseObject_Milestone","data-verse-object","nextChar","Title","toUpperCase","verseKey","_ref$resource","resource","noTitle","verseObjects","titleComponent","Verse_Title","_ref$resources","_ref$context$referenc","referenceResources","_resourceId","Verse_Reference","scriptureTab","originalHelpers","wordsTab","notesTab","TranslationHelps","ExpansionPanel","lemmaIndex","Verse","getMuiTheme","createMuiTheme","overrides","MuiPaper","elevation4","boxShadow","rounded","borderRadius","MuiTableCell","MUIDataTableHeadCell","fixedHeader","MUIDataTable","responsiveScroll","maxHeight","MuiTableRow","lemmaRows","entry","alignment","_entry$reference","_helpers$textFromVers","textFromVerseObject","_ref$originalTexts","originalTexts","_ref$targetTexts","targetTexts","_verseObject","_textFromVerseObject","_originalTexts","_targetTexts","target","dist_default","columns","filterType","selectableRows","responsive","download","print","viewColumns","display","customBodyRender","tableMeta","updateValue","maxNoteLength","substring","pop","_row","supportReference","origQuote","glQuote","VerseCountTable","ResourcesContext","createContext","ResourcesContextProvider","_useState","useState","_useState2","setResources","_useState3","_useState4","contextLoaded","setContextLoaded","_useState5","_useState6","verseCountTableData","setVerseCountTableData","populateResources","asyncToGenerator","referenceChanged","needToFetch","_resources2","_resources","deepFreeze","populateVerseCountTableData","format","chapterKey","chapterData","verseCount","chapterIndex","Provider","time","getWords","timeEnd","_ref2$originalWords","LemmaIndexContext","LemmaIndexContextProvider","setLemmaIndex","populateLemmaIndex","_lemmaIndex","AlignmentHelpers","ScriptureView","_useContext","useContext","_useContext2","tnObject","introDetails","TranslationNotesTable","ScriptureView_VerseCountTable","ScriptureView_AlignmentsTable","tnManifest","chapterComponent","ScriptureView_Chapter","translationNotesChapterData","ScriptureHelpers","bookName","react_markdown_default","source","escapeHtml","progress","bookSelection","BookSelection","chapterSelection","ChapterSelection","scriptureView","Scripture_ScriptureView","disableShrink","shouldShowBookSelection","shouldShowChapterSelection","shouldShowScriptureView","Workspace_Scripture_Scripture","storyKey","frames","stories","components","_storyKey","Story","media","player","videoFrame","handleToggleOpen","image","youtubeId","videoUrl","ReactPlayer_default","controls","config","youtube","playerVars","rel","modestbranding","disableActionSpacing","aria-expanded","helps","frameKey","Card_Component","youtubeIds","framesFromStory","storyMarkdown","frameMarkdown","frameData","imageRegexp","_imageRegexp$exec","_imageRegexp$exec2","fetchStory","_fetchStory","storyId","numberPadded","storyIds","storyArray","toConsumableArray","Array","questions","studyNotes","studyQuestions","_text","Card","fetchHelps","_fetchHelps","helpsArray","promise","fetchNotesAndWords","fetchQuestions","fetchStudyNotes","fetchStudyQuestions","_fetchStudyQuestions","file","pad","_fetchStudyNotes","parseStudyNotes","_fetchQuestions","parseQuestions","_fetchNotesAndWords","parseNotes","number","questionItem","_questionItem$split","_questionItem$split2","toArray","questionText","answerLines","_markdown$split","_markdown$split2","notesMarkdown","wordsMarkdown","noteText","_noteText$split","_noteText$split2","quote","noteLines","_noteText$split3","_noteText$split4","thHelpers","Frame_Component","intro","story","guide","header","_story$frameKey","Frame","newProps","OpenBibleStoriesView_Story_Component","shouldShowStorySelection","shouldShowOpenBibleStoriesView","StorySelection","OpenBibleStoriesView","OpenBibleStoriesContainer","_this$props$context","_fetchOpenBibleStories","_this$props$context$r","OpenBibleStories_Component","toolbar","logo","applicationName","referenceComponent","src","coin","BottomNavContainer","handleChange","previousChapter","view","nextChapter","chaptersInBook","shouldShowHistory","couldShowReference","couldShowBook","couldShowChapter","showLabels","bottomNavigation","History","Resources","OpenBibleStories","Scripture","history","historyComponent","contexts","scripture","openBibleStories","loadingComponent","shouldShowResources","shouldShowScripture","shouldShowOpenBibleStories","Workspace_Component","ManifestsContext","ManifestsContextProvider","setManifests","populateManifests","_manifests","refreshManifests","oldContext","languageChanged","usernameChanged","Viewer","handleManifestsChange","setOldContext","Workspace","ViewerWrapper","flexGrow","appFrame","main","workspace","bottomNav","bottom","typography","useNextVariants","light","dark","contrastText","updateQueryFromContext","_context$reference","_username","_languageId","_bookId","_chapter","_verse","rc","window","location","pathname","pushState","contextFromQuery","urlParams","search","rcArray","string","_rcArray","save","localstorage","set","load","defaultValue","ContextContext","ContextContextProvider","defaultContext","_defaultContext","validateContext","valid","validReference","chapterAndVerses","updateContext","shouldSetContext","_args","scrollTo","keyPrefix","HistoryContext","HistoryContextProvider","loadHistory","loadedHistory","setHistory","saveHistory","addHistory","_history","newContext","unshift","addToHistoryArray","App","src_ApplicationBar","components_Viewer","BottomNav","hostname","ReactDOM","render","src_App","navigator","serviceWorker","ready","registration","unregister","inputComponent","inputRef","objectWithoutProperties","ref","Control","InputProps","inputProps","selectProps","input","innerRef","innerProps","textFieldProps","Menu","square","NoOptionsMessage","noOptionsMessage","Option","buttonRef","isFocused","fontWeight","isSelected","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","flexWrap","flex","alignItems","overflow","chipFocused","emphasize","grey","left","marginTop","right","divider","selectStyles","base","& input","font","suggestions","gatewayLabel","react_select_esm","Resource","resourceExists","languageMatch","Languages","contextComponents","Context","noteComponent","TranslationNoteComponent","_Volumes_Github_Workspace_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","i","validateBookId","validateChapter","dependencies","validateReference","blankReference","validBookId","validChapter","validVerse","inRange","validateVerse"],"mappings":"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","file":"static/js/main.ccd13344.chunk.js","sourcesContent":["export const styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: '100%',\n  },\n  width: {\n    width: '100%',\n  },\n  appBar: {\n    width: '95%',\n    zIndex: '10',\n    margin: 'auto',\n  },\n  hidden: {\n    // height: '0px',\n  },\n  padding: {\n    padding: `0 ${theme.spacing.unit * 2}px`,\n  },\n  tabContent: {\n    padding: `0 ${theme.spacing.unit * 3}px`,\n  }\n});\n\nexport default styles;\n","import langnames from './langnames.json';\n\nexport const getLanguage = ({languageId}) => {\n  let language;\n  const langname = langnames.filter(object => object.lc === languageId)[0];\n  if (langname) {\n    language = {\n      id: langname.pk,\n      languageName: langname.ang,\n      region: langname.lr,\n      gateway: langname.gw,\n      country: langname.hc,\n      localized: langname.ln,\n      languageId: langname.lc,\n      direction: langname.ld,\n      aliases: langname.alt,\n      countries: langname.cc,\n    };\n  }\n  return language;\n};\n\nexport const getLanguageName = ({languageId}) => {\n  const language = getLanguage({languageId});\n  const languageName = language ? language.ln : null;\n  return languageName;\n};\n","import Path from 'path';\nimport YAML from 'js-yaml-parser';\nimport localforage from 'localforage';\nimport { setup } from 'axios-cache-adapter';\n\nimport * as langnames from './langnames';\n\nconst baseURL = 'https://git.door43.org/';\nconst apiPath = 'api/v1';\n\nconst store = localforage.createInstance({\n  driver: [localforage.INDEXEDDB],\n  name: 'web-cache',\n});\n\nconst api = setup({\n  baseURL: baseURL,\n  cache: {\n    store,\n    maxAge: 1 * 24 * 60 * 60 * 1000,\n    exclude: { query: false },\n    key: req => {\n      // if (req.params) debugger\n      let serialized = req.params instanceof URLSearchParams ?\n      req.params.toString() : JSON.stringify(req.params) || '';\n      return req.url + serialized;\n    },\n  },\n});\n\nexport const resourceRepositories = ({languageId}) => {\n  return {\n    obs: languageId + '_obs',\n    'obs-tn': languageId + '_obs-tn',\n    'obs-tq': languageId + '_obs-tq',\n    'obs-sn': languageId + '_obs-sn',\n    'obs-sq': languageId + '_obs-sq',\n    ult: languageId + '_ult',\n    ust: languageId + '_ust',\n    irv: languageId + '_irv',\n    ulb: languageId + '_ulb',\n    udb: languageId + '_udb',\n    tn: languageId + '_tn',\n    ta: languageId + '_ta',\n    tw: languageId + '_tw',\n    ugnt: 'UGNT',\n    uhb: 'UHB',\n    ugl: languageId + '_ugl',\n    uhal: languageId + '_uhal',\n  };\n};\n\nexport async function fetchResourceManifests({username, languageId}) {\n  let manifests = {};\n  const _resourceRepositories = resourceRepositories({languageId});\n  const resourceIds = Object.keys(_resourceRepositories);\n  const promises = resourceIds.map(resourceId => {\n    const repository = _resourceRepositories[resourceId];\n    const _username = ['ugnt','uhb'].includes(resourceId) ? 'unfoldingword' : username;\n    return fetchManifest({username: _username, repository})\n  });\n  const manifestArray = await Promise.all(promises);\n  resourceIds.forEach((resourceId, index) => {\n    manifests[resourceId] = manifestArray[index];\n  });\n  return manifests;\n};\n\nexport async function getLanguages({username, resourceIds}) {\n  const languageIds = await getLanguageIds({username, resourceIds});\n  const languages = languageIds.map(languageId =>\n    langnames.getLanguage({languageId})\n  ).filter(language => !!language);\n  languages.sort((a,b) =>\n    (a.languageId > b.languageId) ? 1 : ((b.languageId > a.languageId) ? -1 : 0)\n  );\n  return languages;\n};\n\nexport async function getLanguageIds({username, resourceIds}) {\n  let languageIds = [];\n  const promises = resourceIds.map(resourceId => {\n    return getLanguageIdsByResource({username, resourceId});\n  });\n  const languageIdsArray = await Promise.all(promises);\n  const _languageIds = languageIdsArray.flat();\n  _languageIds.forEach(languageId => {\n    const languageAdded = languageIds.includes(languageId);\n    if (!languageAdded) languageIds.push(languageId);\n  });\n  return languageIds;\n}\n\n// /repos/search?q=ulb&uid=4598&limit=50&exclusive=true\nexport async function getLanguageIdsByResource({username, resourceId}) {\n  let languageIds = [];\n  const uid = await getUID({username});\n  const params = {q: resourceId, uid, limit: 50, exclusive: true};\n  const uri = Path.join(apiPath, `repos/search`);\n  const repos = await get({uri, params});\n  if (repos && repos.data) {\n    languageIds = repos.data.map(repo => repo.name.split('_')[0]);\n  }\n  return languageIds;\n};\n\nexport async function fetchManifest({username, repository}) {\n  const yaml = await fetchFileFromServer({username, repository, path: 'manifest.yaml'});\n  const json = (yaml) ? YAML.safeLoad(yaml) : null;\n  return json;\n};\n\n// https://git.door43.org/unfoldingword/en_ult/raw/branch/master/manifest.yaml\nexport async function fetchFileFromServer({username, repository, path, branch='master'}) {\n  const repoExists = await repositoryExists({username, repository});\n  if (repoExists) {\n    const uri = Path.join(username, repository, 'raw/branch', branch, path);\n    try {\n      const data = await get({uri});\n      return data;\n    }\n    catch(error) {\n      return null;\n    }\n  } else {\n    return null;\n  }\n};\n\nexport async function getUID({username}) {\n  const uri = Path.join(apiPath, 'users', username);\n  const user = await get({uri});\n  const {id: uid} = user;\n  return uid;\n}\nexport async function repositoryExists({username, repository}) {\n  const uid = await getUID({username});\n  const params = { q: repository, uid };\n  const uri = Path.join(apiPath, 'repos', `search`);\n  const {data: repos} = await get({uri, params});\n  const repo = repos.filter(repo => repo.name === repository)[0];\n  return !!repo;\n};\n\nasync function get({uri, params}) {\n  const {data} = await api.get(uri, { params });\n  return data;\n};\n\n// http://bg.door43.org/api/v1/repos/unfoldingword/en_ugl/git/trees/master\nexport async function fetchTree({username, repository, sha='master'}) {\n  try {\n    const uri = Path.join('api/v1/repos', username, repository, 'git/trees', sha);\n    const data = await get({uri});\n    const tree = JSON.parse(data);\n    return tree;\n  } catch(error) {\n    return null;\n  }\n};\n\nexport async function recursiveTree({username, repository, path, sha}) {\n  let tree = {};\n  const pathArray = path.split();\n  const results = fetchTree({username, repository, sha});\n  const result = results.tree.filter(item => item.path === pathArray[0])[0];\n  if (result) {\n    if (result.type === 'tree') {\n      const childPath = pathArray.slice(1).join('/');\n      const children = recursiveTree({username, repository, path: childPath, sha: result.sha});\n      tree[result.path] = children;\n    } else if (result.type === 'blob') {\n      tree[result.path] = true;\n    }\n  }\n};\n\nexport async function fileExists({username, repository, path, branch}) {\n  // get root listing\n  recursiveTree()\n  // get recursive path listing\n}\n","import * as gitApi from '../../../gitApi';\n\nconst resourceRepository = ({languageId}) => gitApi.resourceRepositories({languageId}).ta;\n// https://git.door43.org/[username]/[languageId]_ta/src/branch/master/translate/figs-metaphor\n// title = title.md\n// markdown = 01.md\nexport async function fetchTitle({username, languageId, path}) {\n  const repository = resourceRepository({languageId});\n  const _path = path.split('/').splice(1).join('/') + '/title.md';\n  const title = await gitApi.fetchFileFromServer({username, repository, path: _path});\n  return title;\n};\n\nexport async function fetchArticle({username, languageId, path}) {\n  let article;\n  const repository = resourceRepository({languageId});\n  const _path = path.split('/').filter(word => word !== 'man').join('/') + '/01.md';\n  try {\n    const _article = await gitApi.fetchFileFromServer({username, repository, path: _path})\n    const prefix = _path.split('/').splice(0,1).join('/');\n    article = _article\n    .split('../').join(`http://${languageId}/ta/${prefix}/`)\n    .split('/01.md').join('')\n    .split('rc://').join('http://');\n  } catch(error) {\n    debugger\n  }\n  return article;\n};\n","import * as gitApi from '../../../gitApi';\n\nconst resourceRepository = ({languageId}) => gitApi.resourceRepositories({languageId}).tw;\n// https://git.door43.org/[username]/[languageId]_ta/src/branch/master/bible/kt/abomination.md\n// title = first line of file\n// markdown = the path + .md\n// rc://en/tw/dict/bible/kt/christ\nexport async function fetchTitle({username, languageId, path}) {\n  let title;\n  const repository = resourceRepository({languageId});\n  const _path = path.split('/').splice(1).join('/') + '.md';\n  const markdown = await gitApi.fetchFileFromServer({username, repository, path: _path});\n  if (markdown) {\n    title = markdown.split(/\\n/)[0].replace(/#/g, '').trim();\n  }\n  return title;\n};\n\nexport async function fetchArticle({username, languageId, path}) {\n  let article;\n  const repository = resourceRepository({languageId});\n  const _path = path.split('/').filter(word => word !== 'dict').join('/') + '.md';\n  const _article = await gitApi.fetchFileFromServer({username, repository, path: _path});\n  if (_article) {\n    const prefix = _path.split('/').splice(0,1).join('/');\n    article = _article\n    .split('../').join(`http://${languageId}/tw/${prefix}/`)\n    .split('.md').join('')\n    .split('rc://').join('http://');\n  }\n  return article;\n};\n","import * as TranslationAcademyHelpers from './TranslationAcademy/helpers';\nimport * as TranslationWordsHelpers from './TranslationWords/helpers';\n\nexport async function fetchTitle({username, languageId, resourceId, path}) {\n  let title;\n  switch (resourceId) {\n    case 'ta':\n      title = await TranslationAcademyHelpers.fetchTitle({username, languageId, path});\n      break;\n    case 'tw':\n      title = await TranslationWordsHelpers.fetchTitle({username, languageId, path});\n      break;\n    case 'tn':\n      break;\n    default:\n      console.log(`resourceId not configured: ${languageId} - ${resourceId} - ${path}`);\n      break;\n  };\n  return title;\n};\n\nexport async function fetchArticle({username, languageId, resourceId, path}) {\n  let article;\n  switch (resourceId) {\n    case 'ta':\n      article = await TranslationAcademyHelpers.fetchArticle({username, languageId, path})\n      break;\n    case 'tw':\n      article = await TranslationWordsHelpers.fetchArticle({username, languageId, path})\n      break;\n    case 'tn':\n      break;\n    default:\n      console.log(`resourceId not configured: ${languageId} - ${resourceId} - ${path}`);\n      break;\n  };\n  return article;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Chip,\n  Typography,\n} from '@material-ui/core';\nimport {\n  Subject,\n} from '@material-ui/icons';\n\nimport * as helpers from './helpers';\n\nclass RCLinkContainer extends React.Component {\n  state = {\n    context: this.props.context,\n    path: null,\n    title: null,\n    article: null,\n    open: null,\n  };\n\n  parseHref({href}) {\n    const {username} = this.props.context;\n    let _match, languageId, resourceId, path, reference, linkedResourceId;\n    if (_match && linkedResourceId) {/* not used, this bypasses linter warning */}\n    const regexpLanguageIdResourcePath = /http:\\/\\/([\\w-_]+)\\/([\\w-_]+)\\/(.+)/;\n    if (regexpLanguageIdResourcePath.test(href)) {\n      const match = regexpLanguageIdResourcePath.exec(href);\n      [_match, languageId, resourceId, path] = match;\n    } else {\n      path = href;\n    }\n    if (resourceId === 'tn') {\n      const regexpReference = /\\/([\\w]+)\\/([\\d]+)\\/([\\d]+)/;\n      if (regexpReference.test(path)) {\n        const match = regexpReference.exec(path);\n        const [_match, bookId, chapter, verse] = match;\n        if (_match) {/* not used, this bypasses linter warning */}\n        if (bookId === 'obs') {\n          resourceId = 'obs';\n          reference = {chapter: parseInt(chapter), verse: parseInt(verse)};\n        } else {\n          resourceId = 'ult';\n          reference = {bookId, chapter: parseInt(chapter), verse: parseInt(verse)};\n        }\n      }\n    }\n    return {\n      context: {\n        username,\n        languageId,\n        resourceId,\n        reference,\n      },\n      path,\n    }\n  };\n\n  componentWillMount() {\n    const {href, children} = this.props;\n    let state = this.parseHref({href});\n    const text = children[0];\n    if (text !== href) {\n      state.title = text;\n    }\n    this.setState(state);\n  };\n\n  componentDidMount() {\n    const {\n      context: {\n        username,\n        languageId,\n        resourceId,\n      },\n      title,\n      path,\n    } = this.state;\n    if (!title && languageId && resourceId && path) {\n      helpers.fetchTitle({username, languageId, resourceId, path})\n      .then(title => {\n        this.setState({\n          title: title,\n        });\n      });\n    }\n  };\n\n  handleOpen = () => {\n    const {\n      context: {\n        username,\n        languageId,\n        resourceId,\n        reference,\n      },\n      path,\n      title,\n    } = this.state;\n    if (reference) {\n      let context = {...this.props.context};\n      if (['ult','obs'].includes(resourceId)) context.resourceId = resourceId;\n      context.reference = reference;\n      this.props.setContext(context);\n    } else {\n      helpers.fetchArticle({username, languageId, resourceId, path})\n      .then(article => {\n        const tab = {\n          title: title || path,\n          text: article,\n        };\n        this.props.addTab(tab);\n      });\n    }\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    const {title, path} = this.state;\n    const {classes} = this.props;\n\n    return (\n      <Chip\n        label={\n          <Typography noWrap component='span'>\n            {title || path}\n          </Typography>\n        }\n        component='span'\n        className={classes.chip}\n        classes={{label: classes.label}}\n        onClick={this.handleOpen}\n        variant='outlined'\n        icon={<Subject />}\n        color='primary'\n        clickable\n      />\n    );\n  }\n};\n\nRCLinkContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  href: PropTypes.string.isRequired,\n  addTab: PropTypes.func.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\n\nconst styles = theme => ({\n  chip: {\n    height: 'unset',\n    maxWidth: '95%',\n  },\n  label: {\n    maxWidth: '81%',\n  }\n});\n\nexport default withStyles(styles, { withTheme: true })(RCLinkContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport remark from 'remark';\nimport remark2react from 'remark-react';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport RCLinkContainer from './RCLinkContainer';\n\nclass TextComponentWithRCLinks extends React.Component {\n  state = {\n    component: null,\n  };\n\n  componentDidMount() {\n    const {text, addTab, context, setContext} = this.props;\n    const options = {\n      remarkReactComponents: {\n        a: (props) => (\n          <RCLinkContainer\n            {...props}\n            context={context}\n            setContext={setContext}\n            addTab={addTab}\n          />\n        ),\n        div: (props) => <div {...props} style={{width: '100%'}}/>,\n      }\n    };\n    const component = remark()\n    .use(remark2react, options)\n    .processSync(text).contents;\n    this.setState({\n      component,\n    });\n  };\n\n  render() {\n    return this.state.component;\n  };\n};\n\nTextComponentWithRCLinks.propTypes = {\n  text: PropTypes.string.isRequired,\n  addTab: PropTypes.func.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default TextComponentWithRCLinks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n} from '@material-ui/core';\n\nexport const Component = ({\n  classes,\n  verseObject,\n  senses\n}) => {\n\n  return (\n    <div>\n      <Typography>\n        <span><strong>{verseObject.text || verseObject.content}</strong> -</span>\n        <span> <em>lemma:</em> {verseObject.lemma}</span>\n        <span> <em>strong:</em> {verseObject.strong}</span>\n        <br/>\n        <span> <em>morph:</em> {verseObject.morph}</span>\n      </Typography>\n      {\n        senses.map((sense, index) =>\n          <Typography key={index}>\n            <sup>{index + 1}</sup>\n            {\n              sense.gloss ?\n              <span> <em>Gloss:</em> {sense.gloss}</span>\n              : ''\n            }\n            {\n              sense.definition ?\n              <span> <em>Definition:</em> {sense.definition}</span>\n              : ''\n            }\n          </Typography>\n        )\n      }\n    </div>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n  senses: PropTypes.array,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Path from 'path';\nimport * as gitApi from '../../../../../../gitApi';\n\n/* TODO:\n  remove hardcoded username and languageId\n  pass directly through components\n*/\nconst username = 'unfoldingword';\nconst languageId = 'en'\nconst repositories = gitApi.resourceRepositories({languageId});\n\nexport const parseSenses = ({lexiconMarkdown}) => {\n  let uniqueSenses = [];\n  if (lexiconMarkdown) {\n    let senses = [];\n    const sensesSection = lexiconMarkdown.split(/##\\s*Senses/)[1];\n    const senseSections = sensesSection.split(/###\\s*Sense/).splice(1);\n    senseSections.forEach(senseSection => {\n      const definitionRegexp = /####\\s*Definitions?.*?[\\n\\s]+(.*?)\\n/;\n      const glossRegexp = /####\\s*Glosse?s?.*?[\\n\\s]+(.*?)\\n/;\n      let definition = definitionRegexp.test(senseSection) ? definitionRegexp.exec(senseSection)[1] : null;\n      definition = (!/#/.test(definition)) ? definition : null;\n      let gloss = glossRegexp.test(senseSection) ? glossRegexp.exec(senseSection)[1] : null;\n      gloss = (!/#/.test(gloss)) ? gloss : null;\n      const sense = {\n        definition: definition,\n        gloss: gloss,\n      };\n      senses.push(sense);\n    });\n    uniqueSenses = unique({array: senses});\n  }\n  return uniqueSenses;\n};\n\nexport async function senses({strong}) {\n  let senses, repository, path;\n  if (/H\\d+/.test(strong)) {\n    repository = repositories.uhal;\n    const _strong = strong.match(/H\\d+/)[0];\n    path = Path.join('content', _strong + '.md');\n  }\n  if (/G\\d+/.test(strong)) {\n    repository = repositories.ugl;\n    path = Path.join('content', strong, '01.md');\n  }\n  if (repository && path) {\n    const lexiconMarkdown = await gitApi.fetchFileFromServer({username, repository, path});\n    senses = parseSenses({lexiconMarkdown});\n  }\n  if (!senses) throw(Error(`Could not find sense info for: ${strong}`));\n  return senses;\n};\n\nexport const unique = ({array, response=[]}) => {\n  let _array = array;\n  array.forEach(object => {\n    _array = _array.filter(_object =>\n      !(object.gloss === _object.gloss && object.definition === _object.definition)\n    );\n    _array.push(object);\n  });\n  return _array;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Component from './Component';\nimport * as helpers from './helpers';\n\nclass Container extends React.Component {\n  state = {\n    senses: [],\n  };\n\n  componentDidMount() {\n    const {strong} = this.props.verseObject;\n/* TODO:\n  remove hardcoded username and languageId\n  pass directly through components\n*/\n    helpers.senses({strong})\n    .then(senses => {\n      if (!this.unmounted) {\n        this.setState({\n          senses,\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  componentWillUnmount() {\n    this.unmounted = true;\n  }\n\n  render() {\n    return (\n      <Component\n        verseObject={this.props.verseObject}\n        senses={this.state.senses}\n      />\n    );\n  };\n};\n\nContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n});\n\nexport default withStyles(styles, { withTheme: true })(Container);\n","import Container from './Container';\nexport default Container;\n","export const styles = theme => ({\n  root: {\n  },\n  paper: {\n    padding: theme.spacing.unit * 2,\n  },\n  column: {\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  verse: {\n    margin: 0,\n  },\n  tabVerse: {\n    margin: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 0}px ${theme.spacing.unit * 0}px`,\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  expansionPanelDetails: {\n    padding: 0,\n  },\n  expansionPanelActions: {\n    padding: 0,\n  },\n});\n\nexport default styles;\n","import usfmjs from 'usfm-js';\n\n// Purpose: application wide\n// Scope: limited to resource files and parsing\n// Notes: pass in manifests don't fetch them\n\nimport * as gitApi from '../../gitApi';\n\nexport async function fetchResources({\n  context: {\n    username,\n    languageId,\n    reference: {\n      bookId,\n    },\n  },\n  manifests,\n}) {\n  let resources = {\n    ult: null,\n    ust: null,\n    ulb: null,\n    udb: null,\n    irv: null,\n    tn: null,\n    original: null,\n  };\n  const { uhb: uhbManifest, ugnt: ugntManifest} = manifests;\n  const testament = whichTestament({bookId, uhbManifest, ugntManifest})\n  const originalManifest = (testament === 'old') ? uhbManifest : ugntManifest;\n\n  const resourceIds = ['ult','ust','ulb','udb','irv','tn','original'];\n  const promises = resourceIds.map(async (resourceId) => {\n    let manifest;\n    if (['ult','ust','ulb','udb','irv'].includes(resourceId) && manifests[resourceId]) {\n      manifest = manifests[resourceId];\n      return fetchBook({username, languageId, resourceId, bookId, manifest});\n    }\n    if (resourceId === 'tn' && manifests[resourceId]) {\n      manifest = manifests[resourceId];\n      return translationNotes({username, languageId, bookId, manifest});\n    }\n    if (resourceId === 'original') {\n      return fetchOriginalBook({username, languageId, bookId, uhbManifest, ugntManifest});\n    }\n  });\n  const resourcesArray = await Promise.all(promises);\n  resourceIds.forEach((resourceId, index) => {\n    const data = resourcesArray[index];\n    const manifest = (resourceId === 'original') ? originalManifest : manifests[resourceId];\n    resources[resourceId] = {\n      manifest,\n      data\n    };\n  });\n  return resources;\n};\n\nexport async function fetchBook({username, languageId, resourceId, bookId, manifest}) {\n  const {projects} = manifest;\n  if (!projectByBookId({projects, bookId})) return null;\n  const repository = gitApi.resourceRepositories({languageId})[resourceId];\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json.chapters;\n};\n\nexport const whichTestament = ({bookId, uhbManifest, ugntManifest}) => {\n  let testament;\n  const uhbProject = projectByBookId({projects: uhbManifest.projects, bookId});\n  const ugntProject = projectByBookId({projects: ugntManifest.projects, bookId});\n  if (uhbProject) testament = 'old';\n  if (ugntProject) testament = 'new';\n  return testament;\n}\n\nexport async function fetchOriginalBook({username, languageId, bookId, uhbManifest, ugntManifest}) {\n  let manifest, repository;\n  const testament = whichTestament({bookId, uhbManifest, ugntManifest});\n  const repositories = gitApi.resourceRepositories({languageId});\n  if (testament === 'old') {\n    manifest = uhbManifest;\n    repository = repositories.uhb;\n  };\n  if (testament === 'new') {\n    manifest = ugntManifest;\n    repository = repositories.ugnt;\n  };\n  const usfm = await fetchFileByBookId({username: 'unfoldingword', repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json.chapters;\n};\n\nexport async function fetchUGNTBook({username, languageId, bookId, manifest}) {\n  const repository = gitApi.resourceRepositories({languageId}).ugnt;\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json;\n};\n\nexport async function fetchUHBBook({username, languageId, bookId, manifest}) {\n  const repository = gitApi.resourceRepositories({languageId}).uhb;\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json;\n};\n\nexport const pivotTranslationNotes = ({tn}) => {\n  if (!tn) return {};\n  let translationNotesObject = {};\n  let array = JSON.parse(JSON.stringify(tn));\n  array.shift();\n  array.forEach(item => {\n    let [book, chapter, verse, id, support_reference, original_quote, occurrence, gl_quote, occurrence_note] = item;\n    if (book && chapter && verse) {\n      if (!translationNotesObject[chapter]) translationNotesObject[chapter] = {};\n      if (!translationNotesObject[chapter][verse]) translationNotesObject[chapter][verse] = [];\n      occurrence_note = (!!occurrence_note) ? occurrence_note.replace(/<br>/g,'\\n') : occurrence_note;\n      let object = {\n        id,\n        support_reference,\n        original_quote,\n        occurrence,\n        gl_quote,\n        occurrence_note,\n      };\n      translationNotesObject[chapter][verse].push(object);\n    }\n  });\n  return translationNotesObject\n}\n\nexport async function translationNotes({username, languageId, bookId, manifest}) {\n  const data = await fetchNotes({username, languageId, bookId, manifest});\n  return data;\n};\n\nexport async function fetchNotes({username, languageId, bookId, manifest}) {\n  const repository = gitApi.resourceRepositories({languageId}).tn;\n  const tsv = await fetchFileByBookId({username, repository, bookId, manifest});\n  const data = tsvParse({tsv});\n  return data;\n};\n\nexport async function fetchFileByBookId({username, repository, bookId, manifest}) {\n  let data;\n  const {projects} = manifest;\n  const project = projectByBookId({projects, bookId});\n  let path;\n  if (project && project.path) {\n    path = project.path.replace(/^\\.\\//, '');\n    data = await gitApi.fetchFileFromServer({username, repository, path});\n  }\n  return data;\n};\n\nexport const projectByBookId = ({projects, bookId}) => {\n  const _projects = projects.filter(item => item.identifier === bookId);\n  let project;\n  if (_projects.length > 0) {\n    project = _projects[0];\n  }\n  return project;\n};\n\nexport const tsvParse = ({tsv}) => {\n  try {\n    return tsv.split('\\n').map(row => row.trim().split('\\t'));\n  } catch(error) {\n    return null;\n  }\n};\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n} from '@material-ui/core';\n\nconst Component = lazy(() => Promise.resolve().then(() => require('./Component')));\n\nclass Container extends React.Component {\n  state = {\n    id: Math.random(),\n    tabIndex: 0,\n    tabs: this.props.tabs,\n  };\n\n  handleChangeIndex = (_index, __index) => {\n    const index = (__index !== undefined) ? __index : _index;\n    this.setState({ tabIndex: index });\n    this.scrollToId(this.state.id);\n  };\n\n  addTab = (tab) => {\n    let {tabs} = this.state;\n    tabs.push(tab);\n    this.setState({\n      tabs,\n      tabIndex: tabs.length - 1,\n    });\n    this.scrollToId(this.state.id);\n  };\n\n  scrollToId = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  render() {\n    const {props} = this;\n    const {tabs, tabIndex, id} = this.state;\n    return (\n      <Suspense fallback={<div />}>\n        <Component\n          {...props}\n          id={id}\n          tabs={tabs}\n          tabIndex={tabIndex}\n          addTab={this.addTab.bind(this)}\n          handleChangeIndex={this.handleChangeIndex.bind(this)}\n        />\n      </Suspense>\n    )\n  }\n}\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  tabs: PropTypes.array.isRequired,\n};\n\nexport default Container;\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  Button,\n  Typography,\n} from '@material-ui/core';\n\nconst Component = ({\n  classes,\n  manifest,\n  manifest: {\n    dublin_core: {\n      identifier,\n      subject,\n      title,\n      description,\n      publisher,\n      language,\n      rights,\n      contributors,\n    }\n  },\n  context: {\n    username,\n    languageId,\n  },\n  setContext,\n}) => {\n  return (\n    <Card className={classes.card}>\n      <CardContent>\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n          {subject}\n        </Typography>\n        <Typography variant=\"h5\" component=\"h2\">\n          {title}\n        </Typography>\n        <Typography className={classes.pos} color=\"textSecondary\">\n          {rights}\n        </Typography>\n        <Typography component=\"p\">\n          {description}\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.actions}>\n        <Button\n          size=\"small\"\n          variant=\"contained\"\n          className={classes.button}\n          color=\"primary\"\n          onClick={() => {\n            const resourceId = identifier;\n            const context = {username, languageId, resourceId};\n            setContext(context);\n          }}\n        >\n          Open\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  manifest: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = {\n  card: {\n    minWidth: 275,\n    marginBottom: '1em',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  actions: {\n    width: '100%',\n    textAlign: 'right',\n  },\n  button: {\n    marginLeft: 'auto',\n  },\n};\n\nexport default withStyles(styles)(Component);\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  AppBar,\n  Tabs,\n  Tab,\n  Badge,\n} from '@material-ui/core';\n\nimport styles from './styles';\n\nconst HelpsTab = lazy(() => Promise.resolve().then(() => require('./HelpsTab')));\n\nexport const Component = ({\n  classes,\n  context,\n  setContext,\n  tabs,\n  addTab,\n  tabIndex,\n  handleChangeIndex,\n  id,\n}) => {\n  let tabLabels = [];\n  let tabContents = [];\n  let badgeCount = 0;\n\n  tabs.forEach((tab, index) => {\n    if (tab.text) {\n      badgeCount = 0;\n    } else if (tab.notes) {\n      badgeCount = tab.notes.length;\n    } else if (tab.original) {\n      const wordObjects = tab.original;\n      badgeCount = wordObjects.length;\n    } else if (tab.words) {\n      badgeCount = tab.words.length;\n    } else if (tab.content) {\n      badgeCount = tab.content.length;\n    }\n    const badge = (\n      <Badge className={classes.padding} color=\"primary\" badgeContent={badgeCount}>\n        {tab.title}\n      </Badge>\n    );\n    tabLabels.push(\n      <Tab key={tabLabels.length} label={ (badgeCount > 0) ? badge : tab.title } />\n    );\n    const open = (index === tabIndex);\n    tabContents.push(\n      <div key={tabContents.length} className={ open ? classes.tabContent : classes.hidden }>\n        <Suspense fallback={<div />}>\n          <HelpsTab\n            tab={tab}\n            addTab={addTab}\n            open={open}\n            context={context}\n            setContext={setContext}\n          />\n        </Suspense>\n      </div>);\n  });\n\n  const currentTab = tabContents[tabIndex];\n\n  return (\n    <div id={id} className={classes.root}>\n      <AppBar className={classes.appBar} position=\"sticky\" color=\"default\">\n        <Tabs\n          className={classes.width}\n          value={tabIndex}\n          onChange={handleChangeIndex}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"scrollable\"\n          scrollButtons=\"auto\"\n        >\n          {tabLabels}\n        </Tabs>\n      </AppBar>\n      <div className={classes.width}>\n        {currentTab}\n      </div>\n    </div>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  tabs: PropTypes.array.isRequired,\n  addTab: PropTypes.func.isRequired,\n  handleChangeIndex: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Divider,\n} from '@material-ui/core';\n\nimport styles from './styles';\n\nconst TextComponentWithRCLinks = lazy(() => Promise.resolve().then(() => require('./TextComponentWithRCLinks')));\nconst TranslationNotes = lazy(() => Promise.resolve().then(() => require('./TranslationNotes')));\nconst AlignedWord = lazy(() => Promise.resolve().then(() => require('../Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord')));\n\nexport const Component = ({\n  classes,\n  tab,\n  addTab,\n  open,\n  context,\n  setContext,\n}) => {\n\n  let content = <div/>;\n  if (open) {\n    if (tab.text) {\n      content = <TextComponentWithRCLinks\n        text={tab.text}\n        addTab={addTab}\n        context={context}\n        setContext={setContext}\n      />;\n    } else if (tab.notes) {\n      content = tab.notes.map((note, index) =>\n        <TranslationNotes\n          key={index}\n          note={note}\n          addTab={addTab}\n          context={context}\n          setContext={setContext}\n        />\n      );\n    } else if (tab.original) {\n      const wordObjects = tab.original;\n      content = wordObjects.map((wordObject, index) => {\n        const link = wordObject.link.replace('rc://*/', `http://${context.languageId}/`);\n        const originalWords = wordObject.originalWords.map((verseObject, index) =>\n          <AlignedWord key={index} verseObject={verseObject} />\n        );\n        const text = `${link}`;\n        return (\n          <div key={index}>\n            <Divider />\n            <TextComponentWithRCLinks\n              text={text}\n              addTab={addTab}\n              context={context}\n              setContext={setContext}\n            />\n            {originalWords}\n          </div>\n        );\n      });\n    } else if (tab.words) {\n      content = tab.words.map((word, index) => {\n        return (\n          <div key={index}>\n            <Divider />\n            <TextComponentWithRCLinks\n              text={word}\n              addTab={addTab}\n              context={context}\n              setContext={setContext}\n            />\n          </div>\n        );\n      });\n    } else if (tab.content) {\n      content = tab.content;\n    }\n  }\n\n  return (\n    <Suspense fallback={<div/>}>\n      {content}\n    </Suspense>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  tab: PropTypes.object.isRequired,\n  addTab: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Book,\n  BookOutlined,\n} from '@material-ui/icons';\n\nimport * as chaptersAndVerses from '../../../chaptersAndVerses';\n\nexport const Component = ({\n  classes,\n  bookMetadata,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) => {\n  const bookId = bookMetadata.identifier;\n  const chapterCount = chaptersAndVerses.chaptersInBook({bookId}).length;\n  return (\n    <ListItem\n      button\n      selected={reference && reference.bookId === bookMetadata.identifier}\n      className={classes.bookListItem}\n      style={{\n        paddingLeft: '2.2em',\n        paddingRight: '0.7em',\n      }}\n      onClick={() => {\n        const reference = {\n          bookId: bookId\n        };\n        const _context = {...context, reference};\n        setContext(_context);\n      }}\n    >\n      <ListItemIcon className={classes.listItemIcon}>\n        {\n          (reference && reference.bookId === bookMetadata.identifier) ?\n          <Book /> :\n          <BookOutlined />\n        }\n      </ListItemIcon>\n      <ListItemText\n        className={classes.listItemText}\n        primary={bookMetadata.title}\n        secondary={chapterCount + ' Chapters' }\n      />\n    </ListItem>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  bookMetadata: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Collapse,\n} from '@material-ui/core';\nimport {\n  Bookmarks,\n  BookmarksOutlined,\n} from '@material-ui/icons';\n\nimport Book from '../Book';\n\nexport const Component = ({\n  classes,\n  testamentId,\n  books,\n  context,\n  setContext,\n  open,\n  toggle\n}) => {\n  const bookComponents = books ?\n    books.map((bookMetadata) =>\n      <Book\n        key={bookMetadata.identifier}\n        bookMetadata={bookMetadata}\n        context={context}\n        setContext={setContext}\n      />\n    ) : [];\n\n  return (\n    <div>\n      <ListItem\n        button\n        selected={open}\n        className={classes.fileList}\n        style={{\n          paddingLeft: '1em',\n          paddingRight: '0.5em',\n        }}\n        onClick={toggle}\n      >\n        <ListItemIcon className={classes.listItemIcon}>\n          {\n            open ?\n            <Bookmarks /> :\n            <BookmarksOutlined />\n          }\n        </ListItemIcon>\n        <ListItemText\n          inset\n          className={classes.listItemText}\n          primary={testamentId}\n          secondary={books.length + ' Books'}\n        />\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <List dense className={classes.list}>\n          {bookComponents}\n        </List>\n      </Collapse>\n    </div>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  testamentId: PropTypes.string.isRequired,\n  books: PropTypes.array.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n}\nconst styles = theme => ({\n  list: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n    open: false,\n  };\n\n  toggle() {\n    this.setState({\n      open: !this.state.open\n    })\n  };\n\n  render() {\n    const props = this.props;\n    const {open} = this.state;\n    return (\n      <Component\n        {...props}\n        open={open}\n        toggle={this.toggle.bind(this)}\n      />\n    );\n  };\n};\n\nContainer.propTypes = {\n  testamentId: PropTypes.string.isRequired,\n  books: PropTypes.array.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n}\n\nexport default Container;\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport Testament from './Testament';\n\nexport const Component = ({classes, manifests, context, setContext}) => {\n  let bible = {};\n  const bibleManifest = manifests[context.resourceId];\n  if (bibleManifest) {\n    let projects = bibleManifest.projects.slice(0);\n    projects.sort((a,b) => { return a.sort - b.sort });\n    projects.forEach(project => {\n      const testamentId = project.categories.includes('bible-ot') ? 'Old Testament': 'New Testament';\n      if (!bible[testamentId]) bible[testamentId] = [];\n      bible[testamentId].push(project);\n    });\n  }\n  return (\n    <Paper className={classes.bible}>\n      <List\n        className={classes.bible}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.bibleList}>\n          {\n            Object.keys(bible).map(testamentId =>\n              <Testament\n                key={testamentId}\n                testamentId={testamentId}\n                books={bible[testamentId]}\n                context={context}\n                setContext={setContext}\n              />\n            )\n          }\n        </div>\n      </List>\n    </Paper>\n    )\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  bible: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  bibleList: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Bookmark,\n  BookmarkBorder,\n} from '@material-ui/icons';\n\nexport const Component = ({\n  classes,\n  chapter,\n  verses,\n  setContext,\n  context,\n  context: {\n    reference,\n  },\n}) => {\n  return (\n    <ListItem\n      button\n      selected={reference.chapter === chapter}\n      className={classes.bookListItem}\n      style={{\n        paddingLeft: '2em',\n        paddingRight: '0.7em',\n      }}\n      onClick={() => {\n        const _reference = {\n          bookId: reference.bookId,\n          chapter,\n        };\n        const _context = {...context, reference: _reference};\n        setContext(_context);\n      }}\n    >\n      <ListItemIcon className={classes.listItemIcon}>\n        {\n          (reference.chapter === chapter) ?\n          <Bookmark /> :\n          <BookmarkBorder />\n        }\n      </ListItemIcon>\n      <ListItemText\n        className={classes.listItemText}\n        primary={'Chapter ' + chapter}\n        secondary={verses + ' Verses' }\n      />\n    </ListItem>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  chapter: PropTypes.number.isRequired,\n  verses: PropTypes.number.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport Chapter from './Chapter';\n\nimport * as chaptersAndVerses from '../../../chaptersAndVerses';\n\nexport const Component = ({\n  classes,\n  bookData,\n  context,\n  setContext,\n  context: {\n    reference,\n    reference: {\n      bookId,\n    },\n  },\n}) => {\n  const chapters = chaptersAndVerses.chaptersInBook({bookId})\n  .map((verses, index) =>\n    <Chapter\n      key={index}\n      chapter={index+1}\n      verses={verses}\n      context={context}\n      setContext={setContext}\n    />\n  );\n\n  return (\n    <Paper className={classes.root}>\n      <List\n        className={classes.root}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.list}>\n          {chapters}\n        </div>\n      </List>\n    </Paper>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  list: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n  ExpansionPanelActions,\n  IconButton,\n} from '@material-ui/core';\nimport {\n  ExpandMore,\n  ExpandLess,\n} from '@material-ui/icons';\n\nimport styles from '../../../styles';\n\nexport const Component = ({\n  classes,\n  summary,\n  details,\n  id,\n  open,\n  handleToggle,\n  handleClose\n}) => {\n  return (\n    <ExpansionPanel expanded={open} className={classes.column} onChange={handleToggle}>\n      <ExpansionPanelSummary expandIcon={<ExpandMore />}>\n        <span id={id} style={{position: 'absolute', top: '-5em'}}></span>\n        {summary}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n      {\n        open ?\n          <div className={classes.fullWidth}>\n            {details}\n          </div>\n        : ''\n      }\n      </ExpansionPanelDetails>\n      <ExpansionPanelActions className={classes.expansionPanelActions}>\n        <IconButton\n          className={classes.button}\n          aria-label=\"Close\"\n          onClick={handleClose}\n        >\n          <ExpandLess />\n        </IconButton>\n      </ExpansionPanelActions>\n    </ExpansionPanel>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  summary: PropTypes.object.isRequired,\n  details: PropTypes.object,\n  open: PropTypes.bool.isRequired,\n  id: PropTypes.number.isRequired,\n  handleToggle: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n} from '@material-ui/core';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n    id: Math.random(),\n    open: false,\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n    this.scrollToId(this.state.id);\n  };\n\n  handleToggle = () => {\n    this.setState({ open: !this.state.open });\n    this.scrollToId(this.state.id);\n  };\n\n  scrollToId = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  render() {\n    const {props} = this;\n    const {open, id} = this.state;\n    return (\n      <Component\n        {...props}\n        id={id}\n        open={open}\n        handleClose={this.handleClose.bind(this)}\n        handleToggle={this.handleToggle.bind(this)}\n      />\n    )\n  }\n}\n\nContainer.propTypes = {\n  summary: PropTypes.object.isRequired,\n  details: PropTypes.object,\n};\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nexport const Word = ({\n  classes,\n  verseObject,\n}) => {\n  return (\n    <span>\n      {' '}{verseObject.text || verseObject.content}\n    </span>\n  );\n};\n\nWord.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(Word);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Popover,\n} from '@material-ui/core';\n\nimport Word from '../Word';\nimport AlignedWord from './AlignedWord';\n\nclass Container extends React.Component {\n  state = {\n    anchorEl: null,\n  };\n\n  handlePopoverOpen = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handlePopoverClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n    const { classes, children, originalWords } = this.props;\n    const { anchorEl } = this.state;\n    const open = Boolean(anchorEl);\n    return (\n      <span>\n        <span\n          aria-owns={open ? 'mouse-over-popover' : undefined}\n          aria-haspopup=\"true\"\n          onMouseEnter={this.handlePopoverOpen}\n          onMouseLeave={this.handlePopoverClose}\n          className={(open ? classes.open : classes.closed)}\n        >\n          {\n            children.map((verseObject, index) =>\n              <Word key={index} verseObject={verseObject} />\n            )\n          }\n        </span>\n        <Popover\n          id=\"mouse-over-popover\"\n          className={classes.popover}\n          classes={{\n            paper: classes.paper,\n          }}\n          open={open}\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'left',\n          }}\n          onClose={this.handlePopoverClose}\n          disableRestoreFocus\n        >\n        {\n          originalWords.map((verseObject, index) =>\n            <AlignedWord key={index} verseObject={verseObject} />\n          )\n        }\n        </Popover>\n      </span>\n    );\n  }\n}\n\nContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  children: PropTypes.array.isRequired,\n  originalWords: PropTypes.array,\n};\n\nconst styles = theme => ({\n  open: {\n    backgroundColor: 'lightgoldenrodyellow',\n  },\n  closed: {\n  },\n  popover: {\n    pointerEvents: 'none',\n  },\n  paper: {\n    padding: theme.spacing.unit,\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(Container);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport VerseObject from '../VerseObject';\nimport AlignedWords from './AlignedWords';\n\nexport const Milestone = ({\n  classes,\n  originalWords,\n  verseObject: {\n    tag,\n    children,\n    tw,\n    strong,\n    lemma,\n    morph,\n    occurrence,\n    occurrences,\n    content,\n  },\n}) => {\n  let component;\n  switch (tag) {\n    case 'k':\n      component = children.map((child, index) =>\n        <VerseObject\n          key={index}\n          verseObject={child}\n        />\n      );\n      break;\n    case 'zaln':\n      const originalWord = {\n        strong,\n        lemma,\n        morph,\n        occurrence,\n        occurrences,\n        content,\n      };\n      let _originalWords = JSON.parse(JSON.stringify(originalWords));\n      _originalWords.push(originalWord);\n      if (children.length === 1 && children[0].type === 'milestone') {\n        component = (\n          <VerseObject\n            verseObject={children[0]}\n            originalWords={_originalWords}\n          />\n        );\n      } else {\n        component = (\n          <AlignedWords\n            originalWords={_originalWords}\n            children={children}\n          />\n        );\n      }\n      break;\n    default:\n      component = (<div/>);\n      break;\n  }\n\n  return component;\n};\n\nMilestone.propTypes = {\n  verseObject: PropTypes.object.isRequired,\n  originalWords: PropTypes.array,\n};\n\nexport default Milestone;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nexport const Text = ({classes, verseObject}) => {\n  return (\n    <span>\n      {verseObject.text}\n    </span>\n  );\n};\n\nText.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(Text);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Milestone from './Milestone';\nimport Text from './Text';\nimport Word from './Word';\nimport AlignedWords from './AlignedWords';\n\nexport const Component = ({\n  classes,\n  verseObject,\n  originalWords=[],\n}) => {\n  const {type} = verseObject;\n  let component;\n\n  switch (type) {\n    case 'text':\n      component = <Text verseObject={verseObject} />;\n      break;\n    case 'quote':\n      component = <Text verseObject={verseObject} />;\n      break;\n    case 'milestone':\n      component = (\n        <Milestone\n          verseObject={verseObject}\n          originalWords={originalWords}\n        />\n      );\n      break;\n    case 'word':\n      if (verseObject.strong) {\n        component = (\n          <AlignedWords\n            children={[verseObject]}\n            originalWords={[verseObject]}\n          />\n        );\n      } else {\n        component = <Word verseObject={verseObject} />;\n      }\n      break;\n    case 'section':\n      component = <span/>;\n      break;\n    case 'paragraph':\n      component = <span/>;\n      break;\n    case 'footnote':\n      component = <sup>f</sup>;\n      break;\n    default:\n      debugger\n      component = (\n        <span>\n          <sup>*</sup>\n          <Text verseObject={verseObject} />\n          <sup>*</sup>\n        </span>\n      );\n      break;\n  };\n\n  return (\n    <span data-verse-object={JSON.stringify(verseObject)}>\n      {component}\n      {verseObject.nextChar}\n    </span>\n  );\n};\n\nComponent.propTypes = {\n  verseObject: PropTypes.object.isRequired,\n  originalWords: PropTypes.array,\n};\n\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Chip,\n  Typography,\n} from '@material-ui/core';\nimport {\n  LibraryBooksOutlined,\n} from '@material-ui/icons';\n\nexport const Title = ({\n  manifest: {\n    dublin_core: {\n      identifier,\n      title,\n    },\n  },\n}) => (\n  <div style={{width: '100%', textAlign: 'right', marginBottom: '0.5em',}}>\n    <Chip\n      label={\n        <Typography variant='caption'>\n          <strong>{identifier.toUpperCase()}</strong> ({title})\n        </Typography>\n      }\n      icon={\n        <LibraryBooksOutlined fontSize='small' />\n      }\n      style={{height: '25px'}}\n    />\n  </div>\n);\n\nTitle.propTypes = {\n  manifest: PropTypes.object.isRequired,\n};\n\nexport default Title;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from '../../../styles';\n\nimport VerseObject from '../VerseObject';\nimport Title from './Title';\n\nexport const Reference = ({\n  classes,\n  verseKey,\n  context: {\n    reference: {\n      chapter,\n    },\n  },\n  resource: {\n    manifest,\n    manifest: {\n      dublin_core:{\n        language: {\n          direction,\n        },\n      },\n    },\n    data,\n  },\n  noTitle,\n}) => {\n\n  let verse = <span />;\n  if (data[chapter][verseKey].verseObjects) {\n    verse = data[chapter][verseKey].verseObjects.map((verseObject, index) =>\n      <VerseObject\n        key={index}\n        verseObject={verseObject}\n      />\n    );\n  }\n\n  let titleComponent = <span />;\n  if (!noTitle) {\n    titleComponent = (\n      <Title\n        manifest={manifest}\n      />\n    );\n  }\n\n  return (\n    <div className={classes.verse}>\n      <div style={{direction: direction}}>\n        <sup>{verseKey} </sup>\n        {verse}\n      </div>\n      {titleComponent}\n    </div>\n  );\n};\n\nReference.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseKey: PropTypes.string.isRequired,\n  resource: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  noTitle: PropTypes.bool,\n};\n\nexport default withStyles(styles, { withTheme: true })(Reference);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Divider,\n} from '@material-ui/core';\n\nimport styles from '../../../styles';\n\nimport ExpansionPanel from '../ExpansionPanel';\nimport TranslationHelps from '../../../TranslationHelps';\nimport Reference from './Reference';\nimport Title from './Title';\n\nimport * as originalHelpers from '../../../TranslationHelps/Original/helpers';\n\nexport const VerseComponent = ({\n  classes,\n  languageId,\n  verseKey,\n  resources,\n  resources: {\n    ust,\n    original,\n    tn,\n  },\n  context,\n  setContext,\n  context: {\n    resourceId,\n    reference: {\n      bookId,\n      chapter,\n    },\n  },\n}) => {\n\n  let tabs = [];\n\n  const referenceResources = ['ult','ust','ulb','udb','irv']\n  .filter(_resourceId => _resourceId !== resourceId)\n  .filter(_resourceId => !!(resources[_resourceId] && resources[_resourceId].data))\n  .map(_resourceId => (\n    <div key={_resourceId + verseKey}>\n      <Reference\n        verseKey={verseKey}\n        resource={resources[_resourceId]}\n        context={context}\n      />\n      <Divider variant=\"middle\" />\n    </div>\n  ));\n  const scriptureComponent = (\n    <div style={{paddingTop: '1em'}}>\n      {referenceResources}\n      <Reference\n        verseKey={verseKey}\n        resource={original}\n        context={context}\n      />\n    </div>\n  );\n\n  const scriptureTab = {\n    title: 'Reference',\n    content: scriptureComponent,\n  }\n  tabs.push(scriptureTab);\n\n  if (original.data[chapter][verseKey]) {\n    const {verseObjects} = original.data[chapter][verseKey];\n    const wordObjects = originalHelpers.taggedWords({verseObjects});\n    if (wordObjects.length > 0) {\n      const wordsTab = {\n        title: 'Words',\n        original: wordObjects,\n      };\n      tabs.push(wordsTab);\n    }\n  }\n  if (tn.data && tn.data[chapter] && tn.data[chapter][verseKey]) {\n    const notesTab = {\n      title: 'Notes',\n      notes: tn.data[chapter][verseKey],\n    };\n    tabs.push(notesTab);\n  };\n  const resource = resources[context.resourceId];\n  const details = (\n    <div>\n      <div style={{paddingRight: '24px'}}>\n        <Title\n          manifest={resource.manifest}\n        />\n      </div>\n      {\n        (tabs.length > 0) ?\n        <TranslationHelps\n          context={context}\n          setContext={setContext}\n          tabs={tabs}\n        /> : null\n      }\n    </div>\n  )\n  const id = `${bookId}_${chapter}_${verseKey}`;\n\n  return (\n    <ExpansionPanel\n      summary={\n        <div>\n          <span id={id} style={{position: 'absolute', top: '-5em'}}></span>\n          <div className={classes.verse}>\n            <Reference\n              verseKey={verseKey}\n              resource={resource}\n              context={context}\n              noTitle\n            />\n          </div>\n        </div>\n      }\n      details={details}\n    />\n  );\n};\n\nVerseComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  verseKey: PropTypes.string.isRequired,\n  resources: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(VerseComponent);\n","\nexport const taggedWords = ({verseObjects}) => {\n  if (!verseObjects) return [];\n  const wordLinks = verseObjects\n  .filter(verseObject => verseObject.tw)\n  .map(verseObject => {\n    let originalWords = [];\n    if (verseObject.type === 'word') originalWords.push(verseObject);\n    if (verseObject.children) originalWords = originalWords.concat(verseObject.children);\n    let wordObject = {\n      link: verseObject.tw,\n      originalWords,\n    };\n    return wordObject;\n  });\n  return wordLinks;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from '../../styles';\n\nimport TranslationHelps from '../../TranslationHelps';\nimport ExpansionPanel from './ExpansionPanel';\nimport Verse from './Verse';\n\nexport const Chapter = ({\n  classes,\n  context,\n  context: {\n    resourceId,\n    reference,\n    reference: {\n      chapter,\n    }\n  },\n  setContext,\n  lemmaIndex,\n  resources,\n  resources: {\n    tn,\n  }\n}) => {\n  const resource = resources[resourceId];\n  const verses = Object.keys(resource.data[chapter])\n  .filter(verseKey => {\n    return /\\d+/g.test(verseKey); // don't show front/intro\n  })\n  .map(verseKey =>\n    <Verse\n      key={`${reference.chapter}-${verseKey}`}\n      context={context}\n      setContext={setContext}\n      lemmaIndex={lemmaIndex}\n      verseKey={verseKey}\n      resources={resources}\n    />\n  );\n  let intro;\n  let tabs = [];\n  if (!!tn.data && tn.data[chapter]) {\n    intro = (tn.data[chapter]['intro'] && tn.data[chapter]['intro'][0]) ?\n    tn.data[chapter]['intro'][0]['occurrence_note']\n    .replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '')\n    : '';\n    tabs = [{\n      title: 'Chapter Notes',\n      text: intro,\n    }];\n  }\n  const introPanel = (\n    <ExpansionPanel\n      key={'chapter'+reference.chapter}\n      summary={<h2>Chapter {reference.chapter}</h2>}\n      details={\n        <TranslationHelps\n          context={context}\n          setContext={setContext}\n          tabs={tabs}\n        />\n      }\n    />\n  );\n  const panels = [introPanel].concat(verses);\n\n  return panels;\n};\n\nChapter.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  lemmaIndex: PropTypes.object,\n  resources: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Chapter);\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst getMuiTheme = () => createMuiTheme({\n  overrides: {\n    MuiPaper: {\n      elevation4: {\n        boxShadow: 'none',\n      },\n      rounded: {\n        borderRadius: 'unset',\n      },\n      root: {\n        backgroundColor: '#FFF',\n      }\n    },\n    MuiTableCell: {\n      root: {\n        padding: '0 8px 0 8px',\n      }\n    },\n    MUIDataTableHeadCell: {\n      fixedHeader: {\n        zIndex: 'unset',\n      }\n    },\n    MUIDataTable: {\n      responsiveScroll: {\n        maxHeight: 'unset',\n      }\n    },\n    MuiTableRow: {\n      root: {\n        height: 'unset',\n      }\n    },\n  }\n});\n\nexport default getMuiTheme;\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MUIDataTable from 'mui-datatables';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport * as helpers from './helpers';\nimport getMuiTheme from '../theme';\n\nexport const AlignmentsTable = ({\n  lemmaIndex,\n}) => {\n  const columns = [\n    {\n      name: \"Strong's: Lemma\",\n      options: {\n        filter: false,\n        sort: true,\n      }\n    },\n    {\n      name: \"UGNT\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n    {\n      name: \"ULT\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n    {\n      name: \"C:V\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n  ];\n\n  let data = [];\n  Object.keys(lemmaIndex).forEach(lemma => {\n    const lemmaRows = lemmaIndex[lemma].map(entry => {\n      const {\n        strong,\n        alignment,\n        reference: {\n          chapter,\n          verse,\n        },\n      } = entry;\n      const {originalTexts, targetTexts} = helpers.textFromVerseObject({verseObject: alignment});\n      const original = originalTexts.join(' ');\n      const target = targetTexts.join(' ');\n      const reference = `${chapter}:${verse}`;\n      return [\n        `${strong}: ${lemma}`,\n        original,\n        target,\n        reference\n      ];\n    });\n    data = data.concat(lemmaRows);\n  });\n\n  const options = {\n    filterType: 'checkbox',\n    selectableRows: false,\n    responsive: 'scroll',\n    download: false,\n    print: false,\n    filter: false,\n    viewColumns: false,\n  };\n\n  return (\n    <MuiThemeProvider theme={getMuiTheme()}>\n      <MUIDataTable\n        title={\"Search UGNT and ULT for this book\"}\n        data={data}\n        columns={columns}\n        options={options}\n      />\n    </MuiThemeProvider>\n  );\n};\n\nAlignmentsTable.propTypes = {\n  lemmaIndex: PropTypes.object.isRequired,\n};\n\nexport default AlignmentsTable;\n","\nexport const textFromVerseObject = ({verseObject, originalTexts=[], targetTexts=[]}) => {\n  const {content, text, children} = verseObject;\n  if (content) originalTexts.push(content);\n  if (text) targetTexts.push(text);\n  if (children) {\n    children.forEach(_verseObject => {\n      const {_originalTexts, _targetTexts} = textFromVerseObject({verseObject: _verseObject, originalTexts, targetTexts})\n      originalTexts.concat(_originalTexts);\n      targetTexts.concat(_targetTexts);\n    });\n  }\n  return {\n    originalTexts,\n    targetTexts,\n  };\n};\n\nexport const flattenVerseObjects = ({verseObjects}) => {\n  let flattenedVerseObjects = [];\n  verseObjects.forEach(verseObject => {\n    const _flattenedVerseObject = flattenVerseObject({verseObject});\n    flattenedVerseObjects = flattenedVerseObjects.concat(_flattenedVerseObject);\n  });\n  return flattenedVerseObjects;\n};\n\nexport const flattenVerseObject = ({verseObject, verseObjects=[]}) => {\n  const {type, children} = verseObject;\n  if (type === 'word') verseObjects.push(verseObject);\n  if (children) {\n    children.forEach(_verseObject => {\n      const _verseObjects = flattenVerseObject({verseObject: _verseObject, verseObjects})\n      verseObjects = verseObjects.concat(_verseObjects);\n    });\n  }\n  return verseObjects;\n};\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MUIDataTable from \"mui-datatables\";\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\n\nimport getMuiTheme from '../theme';\n\nexport const AlignmentsTable = ({\n  tn,\n}) => {\n  const columns = [\n    {\n      name: \"C:V\",\n      options: {\n        filter: false,\n        sort: true,\n      }\n    },\n    {\n      name: \"ID\",\n      options: {\n       filter: false,\n       sort: true,\n       display: 'false',\n      }\n    },\n    {\n      name: \"Type\",\n      options: {\n       filter: true,\n       sort: true,\n      }\n    },\n    {\n      name: \"Original\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n    {\n      name: \"Occurrence\",\n      options: {\n       filter: false,\n       sort: true,\n       display: 'false',\n      }\n    },\n    {\n      name: \"Gateway\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n    {\n      name: \"Note\",\n      options: {\n       filter: false,\n       sort: true,\n       display: 'false',\n       customBodyRender: (value, tableMeta, updateValue) => {\n         const maxNoteLength = 100;\n         const note = (value.length <= (maxNoteLength - 3)) ? value :\n           value.substring(0,maxNoteLength) + '...';\n         return (\n           <div>\n            {note}\n           </div>\n         );\n        },\n      }\n    },\n  ];\n  tn.shift();\n  tn.pop();\n  let data = tn.map(row => {\n    const [book, chapter, verse, id, supportReference, origQuote, occurrence, glQuote, note] = row;\n    if (book) {/* book not used, this bypasses linter warning */}\n    const type = (!supportReference) ? 'general' : supportReference;\n    return [\n      `${chapter}:${verse}`,\n      id,\n      type,\n      origQuote,\n      occurrence,\n      glQuote,\n      note,\n    ];\n  });\n\n  const options = {\n    filterType: 'checkbox',\n    selectableRows: false,\n    responsive: 'scroll',\n    download: false,\n    print: false,\n    filter: true,\n    viewColumns: true,\n  };\n\n  return (\n    <MuiThemeProvider theme={getMuiTheme()}>\n      <MUIDataTable\n        title={\"Search translationNotes\"}\n        data={data}\n        columns={columns}\n        options={options}\n      />\n    </MuiThemeProvider>\n  );\n};\n\nAlignmentsTable.propTypes = {\n  tn: PropTypes.array.isRequired,\n};\n\nexport default AlignmentsTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MUIDataTable from \"mui-datatables\";\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\n\nimport getMuiTheme from './theme';\n\nexport const VerseCountTable = ({\n  columns,\n  data,\n}) => {\n  const options = {\n    filterType: 'checkbox',\n    selectableRows: false,\n    responsive: 'scroll',\n    download: false,\n    print: false,\n    filter: true,\n    viewColumns: true,\n  };\n\n  return (\n    <MuiThemeProvider theme={getMuiTheme()}>\n      <MUIDataTable\n        title={\"Verse Counts\"}\n        data={data}\n        columns={columns}\n        options={options}\n      />\n    </MuiThemeProvider>\n  );\n};\n\nVerseCountTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  data: PropTypes.array.isRequired,\n};\n\nexport default VerseCountTable;\n","import React, {\n  createContext,\n  useState\n} from 'react';\nimport deepFreeze from 'deep-freeze';\n\nimport * as helpers from './helpers';\n\nexport const ResourcesContext = createContext();\n\nexport function ResourcesContextProvider({children}) {\n  const [resources, setResources] = useState({});\n  const [contextLoaded, setContextLoaded] = useState({});\n  const [verseCountTableData, setVerseCountTableData] = useState();\n\n  const populateResources = async ({\n    manifests,\n    context,\n    context: {\n      reference,\n    },\n  }) => {\n    const {ult, ust, ulb, irv, obs} = resources;\n    const referenceChanged = (\n      (reference && !contextLoaded.reference) ||\n      (reference && (reference.bookId !== contextLoaded.reference.bookId))\n    );\n    const emptyBookData = (!(ult || ust || ulb || irv || obs));\n    const needToFetch = (emptyBookData || referenceChanged)\n    const canFetch = (reference && reference.bookId && Object.keys(manifests).length > 0);\n    if (canFetch && needToFetch) {\n      const _resources = await helpers.fetchResources({manifests, context});\n      setResources(_resources);\n      setContextLoaded(context);\n    }\n  };\n\n  const populateVerseCountTableData = () => {\n    let columns = ['bookId', 'chapter'];\n    let data = [];\n    let index = {};\n    const {reference: {bookId}} = contextLoaded;\n    const resourceIds = Object.keys(resources);\n    resourceIds.forEach(resourceId => {\n      const resource = resources[resourceId];\n      if (resource.data && /usfm/.test(resource.manifest.dublin_core.format)) {\n        columns.push(resourceId);\n        const chapterKeys = Object.keys(resource.data);\n        chapterKeys.forEach(chapterKey => {\n          index[chapterKey] = index[chapterKey] || {};\n          const chapterData = resource.data[chapterKey];\n          const verseCount = Object.keys(chapterData).length;\n          index[chapterKey][resourceId] = verseCount;\n        });\n      }\n    });\n    const chapterKeys = Object.keys(index);\n    chapterKeys.forEach(chapterKey => {\n      const chapterIndex = index[chapterKey];\n      const resourceIds = Object.keys(chapterIndex);\n      let row = [bookId, chapterKey];\n      resourceIds.forEach(resourceId => {\n        const verseCount = chapterIndex[resourceId];\n        row.push(verseCount);\n      });\n      data.push(row);\n    });\n    const _verseCountTableData = {columns, data};\n    setVerseCountTableData(_verseCountTableData);\n  };\n\n  const _resources = deepFreeze(resources);\n\n  const value = {\n    resources: _resources,\n    populateResources,\n    contextLoaded,\n    verseCountTableData,\n    populateVerseCountTableData,\n  };\n\n  return (\n    <ResourcesContext.Provider value={value}>\n      {children}\n    </ResourcesContext.Provider>\n  );\n};\n","\nexport const index = ({data}) => {\n  if (!data) return {};\n  console.time('indexing');\n  let lemmaIndex = {};\n  const chapterKeys = Object.keys(data);\n  chapterKeys.forEach(chapterKey => {\n    const chapter = data[chapterKey];\n    const verseKeys = Object.keys(chapter);\n    verseKeys.forEach(verseKey => {\n      const verse = chapter[verseKey];\n      const {verseObjects} = verse;\n      verseObjects.forEach(verseObject => {\n        const originalWords = getWords({verseObject});\n        originalWords.forEach(originalWord => {\n          const {lemma, strong} = originalWord;\n          const entry = {\n            reference: {chapter: chapterKey, verse: verseKey},\n            alignment: verseObject,\n            strong,\n          };\n          if (!lemmaIndex[lemma]) lemmaIndex[lemma] = [];\n          lemmaIndex[lemma].push(entry);\n        })\n      });\n    });\n  });\n  console.timeEnd('indexing');\n  return lemmaIndex;\n};\n\nexport const getWords = ({verseObject, originalWords=[]}) => {\n  if (verseObject.type === 'milestone') {\n    let originalWord = JSON.parse(JSON.stringify(verseObject));\n    delete originalWord.children;\n    originalWords.push(originalWord);\n    const {children} = verseObject;\n    children.forEach(_verseObject => {\n      getWords({verseObject: _verseObject, originalWords});\n    });\n  }\n  return originalWords;\n};\n","import React, {\n  createContext,\n  useState\n} from 'react';\nimport deepFreeze from 'deep-freeze';\n\nimport * as AlignmentHelpers from './Alignment/helpers';\n\nexport const LemmaIndexContext = createContext();\n\nexport function LemmaIndexContextProvider({children}) {\n  const [lemmaIndex, setLemmaIndex] = useState();\n\n  const populateLemmaIndex = ({data}) => {\n    const _lemmaIndex = AlignmentHelpers.index({data});\n    setLemmaIndex(_lemmaIndex);\n  }\n\n  const _lemmaIndex = lemmaIndex ? deepFreeze(lemmaIndex) : undefined;\n\n  const value = {\n    lemmaIndex: _lemmaIndex,\n    populateLemmaIndex,\n  };\n\n  return (\n    <LemmaIndexContext.Provider value={value}>\n      {children}\n    </LemmaIndexContext.Provider>\n  );\n};\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport ReactMarkdown from 'react-markdown';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from '../../styles';\n\nimport ExpansionPanel from './ExpansionPanel';\nimport Chapter from './Chapter';\nimport TranslationHelps from '../../TranslationHelps';\nimport AlignmentsTable from './AlignmentsTable';\nimport TranslationNotesTable from './TranslationNotesTable';\nimport VerseCountTable from './VerseCountTable';\n\nimport * as helpers from '../helpers';\nimport * as ScriptureHelpers from '../helpers';\n\nimport {ResourcesContext} from '../Resources.context';\nimport {LemmaIndexContext} from '../LemmaIndex.context';\n\nexport const ScriptureView = ({\n  classes,\n  context,\n  setContext,\n  context: {\n    resourceId,\n    reference: {\n      bookId,\n      chapter,\n    },\n  },\n}) => {\n  const {\n    resources,\n    contextLoaded,\n    verseCountTableData,\n    populateVerseCountTableData,\n  } = useContext(ResourcesContext);\n  const {lemmaIndex, populateLemmaIndex} = useContext(LemmaIndexContext);\n  const {data} = resources[resourceId];\n  if (!lemmaIndex && contextLoaded.reference && data) {\n    populateLemmaIndex({data});\n  }\n  if (contextLoaded.reference && data && !verseCountTableData) {\n    populateVerseCountTableData();\n  }\n\n  let tabs = [];\n  let tnObject = {};\n  let intro;\n\n  if (resources && resources.tn && resources.tn.data) {\n    const { tn } = resources;\n    tnObject = helpers.pivotTranslationNotes({tn: tn.data});\n\n    intro = tnObject['front']['intro'][0]['occurrence_note'];\n    const introDetails = intro.split('\\n').splice(1).join('\\n')\n    .replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '');\n    tabs.push({ title: 'Book Notes', text: introDetails});\n\n    if (!!tn) {\n      const content = (\n        <TranslationNotesTable\n          tn={tn.data}\n        />\n      );\n      tabs.push({ title: 'Search Notes', content });\n    }\n  }\n\n  if (verseCountTableData && Object.keys(verseCountTableData).length > 0) {\n    const content = (\n      <VerseCountTable\n        columns={verseCountTableData.columns}\n        data={verseCountTableData.data}\n      />\n    );\n    tabs.push({ title: \"Verse Counts\", content });\n  }\n\n  if (lemmaIndex && Object.keys(lemmaIndex).length > 0) {\n    const content = (\n      <AlignmentsTable\n        lemmaIndex={lemmaIndex}\n      />\n    );\n    tabs.push({ title: \"Search Words\", content });\n  }\n  const tnManifest = resources.tn ? resources.tn.manifest : {};\n  const _resources = {\n    ...resources,\n    tn: {\n      manifest: tnManifest,\n      data: tnObject,\n    },\n  };\n  const chapterComponent = (\n    <Chapter\n      context={context}\n      setContext={setContext}\n      resources={_resources}\n      translationNotesChapterData={tnObject[chapter]}\n    />\n  );\n  const resource = resources[resourceId];\n  const {projects} = resource.manifest;\n  const project = ScriptureHelpers.projectByBookId({projects, bookId});\n  const bookName = project ? project.title : '';\n  return (\n    <div className={classes.root}>\n      <ExpansionPanel\n        key={''+context.reference.bookId+'intro'}\n        summary={\n          <ReactMarkdown\n            source={`# ${bookName}`}\n            escapeHtml={false}\n          />\n        }\n        details={\n          <TranslationHelps\n            context={context}\n            setContext={setContext}\n            tabs={tabs}\n          />\n        }\n      />\n      {chapterComponent}\n    </div>\n  );\n};\n\nScriptureView.propTypes = {\n  classes: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  context: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ScriptureView);\n","import ScriptureView from './ScriptureView';\nexport default ScriptureView;\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport BookSelection from './BookSelection';\nimport ChapterSelection from './ChapterSelection';\nimport ScriptureView from './ScriptureView';\n\nimport {ResourcesContext} from './Resources.context';\n\nexport const Scripture = ({\n  classes,\n  manifests,\n  context,\n  setContext,\n  context: {\n    reference\n  },\n  lemmaIndex,\n}) => {\n  const {populateResources, contextLoaded} = useContext(ResourcesContext);\n  populateResources({manifests, context});\n\n  const bookSelection = (\n    <BookSelection\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const chapterSelection = (\n    <ChapterSelection\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const scriptureView = (\n    <ScriptureView\n      context={context}\n      setContext={setContext}\n    />\n  );\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowBookSelection = (!reference || !reference.bookId);\n  const shouldShowChapterSelection = (reference && reference.bookId && !reference.chapter);\n  const shouldShowScriptureView = (contextLoaded.reference && contextLoaded.reference.bookId);\n\n  if (shouldShowBookSelection) component = bookSelection;\n  else if (shouldShowChapterSelection) component = chapterSelection;\n  else if (shouldShowScriptureView) component = scriptureView;\n  return (\n    <div className={classes.root}>\n      {component}\n    </div>\n  );\n}\n\nScripture.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(Scripture);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Scripture from './Scripture';\n\nimport {ResourcesContextProvider} from './Resources.context';\nimport {LemmaIndexContextProvider} from './LemmaIndex.context';\n\nclass Container extends React.Component {\n  componentDidUpdate() {\n    const {reference} = this.props.context;\n    if (reference) {\n      const {bookId, chapter, verse} = reference;\n      const id = `${bookId}_${chapter}_${verse}`;\n      const element = document.getElementById(id);\n      if (element) {\n        element.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    }\n  };\n\n  render() {\n    const props = this.props;\n    return (\n      <ResourcesContextProvider>\n        <LemmaIndexContextProvider>\n          <Scripture\n            {...props}\n          />\n        </LemmaIndexContextProvider>\n      </ResourcesContextProvider>\n    );\n  };\n};\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default Container;\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Bookmark,\n  BookmarkBorder,\n} from '@material-ui/icons';\n\nexport const Component = ({\n  classes,\n  storyKey,\n  frames,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) =>\n  <ListItem\n    button\n    selected={reference.chapter === storyKey}\n    className={classes.bookListItem}\n    style={{\n      paddingLeft: '2em',\n      paddingRight: '0.7em',\n    }}\n    onClick={() => {\n      const _reference = {\n        bookId: reference.bookId,\n        chapter: storyKey,\n      };\n      const _context = {...context, reference: _reference};\n      setContext(_context);\n    }}\n  >\n    <ListItemIcon className={classes.listItemIcon}>\n      {\n        (reference.chapter === storyKey) ?\n        <Bookmark /> :\n        <BookmarkBorder />\n      }\n    </ListItemIcon>\n    <ListItemText\n      className={classes.listItemText}\n      primary={`Story ${frames[0].text.replace('#','').trim()}`}\n      secondary={Object.keys(frames).length + ' Frames' }\n    />\n  </ListItem>\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  storyKey: PropTypes.number.isRequired,\n  frames: PropTypes.object.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport Story from './Story';\n\nexport const Component = ({\n  classes,\n  stories,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) => {\n  const components = Object.keys(stories).map(_storyKey => {\n    const storyKey = parseInt(_storyKey);\n    const frames = stories[storyKey];\n    return (<Story\n      key={storyKey}\n      context={context}\n      setContext={setContext}\n      storyKey={storyKey}\n      frames={frames}\n    />);\n  });\n\n  return (\n    <Paper className={classes.root}>\n      <List\n        className={classes.root}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.list}>\n          {components}\n        </div>\n      </List>\n    </Paper>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  stories: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  list: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactPlayer from 'react-player';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  CardMedia,\n  IconButton,\n  Collapse,\n} from '@material-ui/core';\nimport {\n  ExpandMore,\n  ExpandLess,\n} from '@material-ui/icons';\n\nexport const Component = ({\n  classes,\n  open,\n  handleToggleOpen,\n  content,\n  details,\n  image,\n  youtubeId,\n}) => {\n  let videoFrame;\n  if (youtubeId) {\n    const videoUrl = `https://www.youtube.com/watch?v=${youtubeId}`;\n    const config = {\n      youtube: {\n        playerVars: {\n          rel: 0,\n          modestbranding: 1,\n        },\n      },\n    };\n    videoFrame = (\n      <div className={classes.media}>\n        <ReactPlayer\n          className={classes.player}\n          url={videoUrl}\n          controls={true}\n          config={config}\n          height=\"100%\"\n          width=\"100%\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <Card className={classes.card}>\n      {\n        image ?\n        <CardMedia\n          className={classes.media}\n          image={image}\n          title=\"Open Bible Stories Image\"\n        />\n        : videoFrame\n      }\n      <CardContent className={classes.content}>\n        {content}\n      </CardContent>\n      <CardActions className={classes.actions} disableActionSpacing>\n        <IconButton\n          className={classes.button}\n          onClick={handleToggleOpen}\n          aria-expanded={open}\n          aria-label=\"Show more\"\n        >\n          {open ? <ExpandLess /> : <ExpandMore />}\n        </IconButton>\n      </CardActions>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <CardContent className={classes.details}>\n          {details}\n        </CardContent>\n        <CardActions className={classes.actions} disableActionSpacing>\n          <IconButton\n            className={classes.button}\n            onClick={handleToggleOpen}\n            aria-expanded={open}\n            aria-label=\"collapse\"\n          >\n            {open ? <ExpandLess /> : <ExpandMore />}\n          </IconButton>\n        </CardActions>\n      </Collapse>\n    </Card>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  handleToggleOpen: PropTypes.func.isRequired,\n  content: PropTypes.element.isRequired,\n  details: PropTypes.element.isRequired,\n  image: PropTypes.string,\n  youtubeId: PropTypes.string,\n};\n\nconst styles = {\n  card: {\n    marginBottom: '1em',\n  },\n  media: {\n    width: 'calc(100vw - 1.9em)',\n    height: 'calc((100vw - 1.9em) * 9/16)',\n    maxWidth: '40em',\n    maxHeight: 'calc(40em * 9/16)',\n  },\n  content: {\n    paddingBottom: 0,\n  },\n  details: {\n    padding: 0,\n  },\n  actions: {\n    padding: 0,\n  },\n  button: {\n    marginLeft: 'auto',\n  },\n  player: {\n    width: '100%',\n    height: '100%',\n  },\n};\n\nexport default withStyles(styles)(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n    open: false,\n    id: Math.random(),\n    helps: {},\n  };\n\n  handleToggleOpen = () => {\n    this.setState({open: !this.state.open});\n    this.scrollToId();\n  };\n\n  scrollToId = () => {\n    const element = document.getElementById(this.state.id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  componentWillMount() {\n    const {\n      frameKey,\n      context: {\n        reference,\n      },\n    } = this.props;\n    if (parseInt(reference.verse) === parseInt(frameKey)) {\n      this.scrollToId();\n    }\n  };\n\n  render() {\n    const {open, id} = this.state;\n    const {props} = this;\n    return (\n      <div id={id}>\n        <Component\n          {...props}\n          open={open}\n          handleToggleOpen={this.handleToggleOpen.bind(this)}\n        />\n      </div>\n    );\n  }\n};\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  content: PropTypes.element.isRequired,\n  details: PropTypes.element.isRequired,\n  image: PropTypes.string,\n  youtubeId: PropTypes.string,\n};\n\nexport default Container;\n","const youtubeIds = [\n  \"UHEzSQE6TOs\",\n  \"OkJWjWFVvV4\",\n  \"2ycsRNjhYjU\",\n  \"aBPANcV67nk\",\n  \"I84GIPjHW0Q\",\n  \"lNzawXS8iKk\",\n  \"hDPJKRZa7U4\",\n  \"l0G3AQOYPR0\",\n  \"lfwMHrfoki0\",\n  \"SPSRlFyq_CQ\",\n  \"RpidswdLDWs\",\n  \"ZJKdHg9yVRs\",\n  \"MIk6i62zQ9A\",\n  \"Xg5dWR59sR8\",\n  \"vM4EzYDNSSM\",\n  \"IHwCxln7EbA\",\n  \"UL2pNVepgY8\",\n  \"DZxkuz2NEe8\",\n  \"KMoK1oITeBQ\",\n  \"jBCf1YY5pzM\",\n  \"sgABmFUZKx0\",\n  \"78PNW7qpufE\",\n  \"DxqwSFPTp3A\",\n  \"O0c_U3rPW0Q\",\n  \"im9mN_i_Y44\",\n  \"y3y27a90cBs\",\n  \"ie03EnZJ8kE\",\n  \"g6L2xbnpgCg\",\n  \"p7F8u3ymfn8\",\n  \"uFvINl8a7Ow\",\n  \"y0RYWZZw9Nc\",\n  \"MzdAo6p3J48\",\n  \"Htgd5jnKzPc\",\n  \"jCy9BJhwg6w\",\n  \"deYD2wxIQlA\",\n  \"gC6jkPn9sks\",\n  \"4srXPVgYU0w\",\n  \"F-CEE6hc1aE\",\n  \"4gFX7PnhfdI\",\n  \"RlOsDbJ9hEc\",\n  \"MAhIbNxMlPI\",\n  \"vCaywUPxzy4\",\n  \"kDMNXa4Z_M0\",\n  \"wb5owhurDXc\",\n  \"WUcXHSmjvgw\",\n  \"Ij34FKUaUJM\",\n  \"ioqNQiAUz0E\",\n  \"ep6RD36iDFw\",\n  \"ZWl5kehifDU\",\n  \"CnSJk-p087Y\"\n];\n\nexport default youtubeIds;\n","import * as gitApi from '../../gitApi';\nimport youtubeIds from './youtubeIds';\n\nexport const framesFromStory = ({storyMarkdown}) => {\n  let frames = {};\n  storyMarkdown.split(/\\s*?\\n\\s*?\\n\\s*?[!]/)\n  .forEach((frameMarkdown, index) => {\n    frames[index] = frameData({frameMarkdown});\n  });\n  return frames;\n}\n\nexport const frameData = ({frameMarkdown}) => {\n  let data = {};\n  const imageRegexp = /\\((http.*?\\.jpg).*?\\)/;\n  if (imageRegexp.test(frameMarkdown)) {\n    const [match, image] = imageRegexp.exec(frameMarkdown);\n    if (match) {/* not used, this bypasses linter warning */}\n    data.image = image;\n  }\n  data.text = frameMarkdown.replace(/\\s*\\[.*?\\]\\(.*?\\)\\s*/,'').trim();\n  return data;\n}\n\nexport async function fetchStory({username, languageId, storyId}) {\n  const repository = gitApi.resourceRepositories({languageId}).obs;\n  const numberPadded = (storyId < 10) ? `0${storyId}` : `${storyId}`;\n  const path = `content/${numberPadded}.md`;\n  const storyMarkdown = await gitApi.fetchFileFromServer({username, repository, path});\n  const frames = framesFromStory({storyMarkdown});\n  return frames;\n};\n\nexport async function fetchOpenBibleStories({username, languageId}) {\n  const storyIds = [...Array(51).keys()].splice(1);\n  let stories = {};\n  const promises = storyIds.map(storyId =>\n    fetchStory({username, languageId, storyId})\n  );\n  const storyArray = await Promise.all(promises);\n  storyIds.forEach((storyId, index) => {\n    stories[storyId] = storyArray[index];\n  });\n  return stories;\n};\n\nexport const youtubeId = ({storyKey}) => {\n  return youtubeIds[storyKey - 1];\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport remark from 'remark';\nimport remark2react from 'remark-react';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Card from '../Card';\nimport TranslationHelps from '../../../TranslationHelps';\nimport * as helpers from '../../helpers';\n\nexport const Component = ({\n  classes,\n  context,\n  setContext,\n  open,\n  handleToggleOpen,\n  storyKey,\n  frameKey,\n  image,\n  text,\n  helps,\n}) => {\n  let tabs = [];\n  if (helps) {\n    const {\n      notes,\n      words,\n      questions,\n      studyNotes,\n      studyQuestions,\n    } = helps;\n    if (studyQuestions) tabs.push({ title: 'Study Questions', text: helps.studyQuestions });\n    if (notes) tabs.push({ title: 'Notes', notes });\n    if (words) tabs.push({ title: 'Words', words });\n    if (questions) tabs.push({ title: 'Questions', notes: questions });\n    if (studyNotes) tabs.push({ title: 'Study Notes', notes: helps.studyNotes });\n  }\n\n  const details = (tabs.length > 0) ?\n    <TranslationHelps\n      context={context}\n      setContext={setContext}\n      tabs={tabs}\n    /> : <div />;\n\n  const options = {\n    remarkReactComponents: {\n      strong: 'sup',\n    }\n  };\n  const _text = (frameKey > 0) ? `**${frameKey}** ${text}` : text;\n  const content = remark().use(remark2react, options).processSync(_text).contents;\n\n  let youtubeId;\n  if (parseInt(frameKey) === 0) {\n    youtubeId = helpers.youtubeId({storyKey});\n  }\n\n  return (\n    <Card\n      context={context}\n      content={content}\n      details={details}\n      image={image}\n      youtubeId={youtubeId}\n    />\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  handleToggleOpen: PropTypes.func.isRequired,\n  frameKey: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  image: PropTypes.string,\n  helps: PropTypes.object.isRequired,\n};\n\nconst styles = {\n};\n\nexport default withStyles(styles)(Component);\n","import * as gitApi from '../../../gitApi';\n\nexport async function fetchHelps({username, languageId, storyKey, frameKey}) {\n  let helps = {};\n  const resourceIds = [\n    'obs-tn',\n    'obs-tq',\n    'obs-sn',\n  ];\n  const promises = resourceIds.map(resourceId => {\n    let promise;\n    if (resourceId === 'obs-tn')\n      promise = fetchNotesAndWords({username, languageId, storyKey, frameKey});\n    if (resourceId === 'obs-tq')\n      promise = fetchQuestions({username, languageId, storyKey, frameKey});\n    if (resourceId === 'obs-sn')\n      promise = fetchStudyNotes({username, languageId, storyKey, frameKey});\n    return promise;\n  });\n  const helpsArray = await Promise.all(promises);\n  resourceIds.forEach((resourceId, index) => {\n    if (resourceId === 'obs-tn') {\n      helps.notes = helpsArray[index].notes;\n      helps.words = helpsArray[index].words;\n    }\n    if (resourceId === 'obs-tq')\n      helps.questions = helpsArray[index];\n    if (resourceId === 'obs-sn')\n      helps.studyNotes = helpsArray[index];\n  });\n  return helps;\n};\n\nexport async function fetchStudyQuestions({username, languageId, storyKey}) {\n  const repository = gitApi.resourceRepositories({languageId})['obs-sq'];\n  const file = pad(storyKey) + '.md';\n  const path = ['content', file].join('/');\n  const markdown = await gitApi.fetchFileFromServer({username, repository, path});\n  return markdown;\n};\n\nexport async function fetchStudyNotes({username, languageId, storyKey, frameKey}) {\n  const repository = gitApi.resourceRepositories({languageId})['obs-sn'];\n  const file = pad(frameKey) + '.md';\n  const path = ['content', pad(storyKey), file].join('/');\n  const markdown = await gitApi.fetchFileFromServer({username, repository, path});\n  const data = parseStudyNotes({markdown});\n  return data;\n};\n\nexport async function fetchQuestions({username, languageId, storyKey, frameKey}) {\n  const repository = gitApi.resourceRepositories({languageId})['obs-tq'];\n  const file = pad(frameKey) + '.md';\n  const path = ['content', pad(storyKey), file].join('/');\n  const markdown = await gitApi.fetchFileFromServer({username, repository, path});\n  const questions = parseQuestions({markdown});\n  return questions;\n};\n\nexport async function fetchNotesAndWords({username, languageId, storyKey, frameKey}) {\n  const repository = gitApi.resourceRepositories({languageId})['obs-tn'];\n  const file = pad(frameKey) + '.md';\n  const path = ['content', pad(storyKey), file].join('/');\n  const markdown = await gitApi.fetchFileFromServer({username, repository, path});\n  const helps = parseNotes({markdown});\n  return helps;\n};\n\nexport const pad = (number) => `${(number < 10) ? 0 : ''}${number}`;\n\nexport const parseQuestions = ({markdown}) => {\n  if (!markdown) return null;\n  const questions = markdown.split(/\\n\\s*#\\s*/m)\n  .map(questionItem => {\n    const [questionText, ...answerLines] = questionItem.split(/\\n\\s*/m);\n    const question = questionText.replace(/\\s*#\\s*/,'');\n    const answer = answerLines.join('\\n\\n');\n    return {\n      gl_quote: question,\n      occurrence_note: answer,\n    };\n  });\n  return questions;\n}\n\nexport const parseNotes = ({markdown}) => {\n  if (!markdown) return {};\n  const [notesMarkdown, wordsMarkdown] = markdown.split(/#+\\s*translationWords\\s*/m);\n  const notes = notesMarkdown.split(/\\n\\s*#\\s*/m)\n  .map(noteText => {\n    const [quote, ...noteLines] = noteText.split(/\\n\\s*\\n/m);\n    const gl_quote = quote.replace(/\\s*#\\s*/,'');\n    const occurrence_note = noteLines.join('\\n\\n')\n    return {\n      gl_quote,\n      occurrence_note,\n    };\n  });\n  let words;\n  if (wordsMarkdown && /\\w+/.test(wordsMarkdown)) {\n    words = wordsMarkdown.split(/\\n?\\s*\\*\\s*/m)\n    .filter(word => word !== '')\n    .map(word => word.replace(/\\[\\[rc/,'http').replace(/\\]\\]/,''));\n  }\n  const helps = {\n    notes,\n    words,\n  };\n  return helps;\n}\n\nexport const parseStudyNotes = ({markdown}) => {\n  if (!markdown) return null;\n  const data = markdown.split(/\\n\\s*#+\\s*/m)\n  .map(noteText => {\n    const [quote, ...noteLines] = noteText.split(/\\n\\s*\\n/m);\n    const gl_quote = quote.replace(/\\s*#\\s*/,'');\n    const occurrence_note = noteLines.join('\\n\\n');\n    return {\n      gl_quote,\n      occurrence_note,\n    };\n  }).filter(note => !/^;/.test(note.occurrence_note));\n  return data;\n}\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nimport * as thHelpers from '../../translationHelps/helpers';\n\nclass Container extends React.Component {\n  state = {\n    open: false,\n    helps: {},\n  };\n\n  handleToggleOpen = () => {\n    this.setState({open: !this.state.open});\n    this.scrollToId();\n  };\n\n  scrollToId = () => {\n    const element = document.getElementById(this.props.frameKey);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  async componentDidMount() {\n    const {\n      storyKey,\n      frameKey,\n      context: {\n        username,\n        languageId,\n        reference,\n      },\n    } = this.props;\n    const helps = await thHelpers.fetchHelps({username, languageId, storyKey, frameKey});\n    this.setState({helps});\n    if (parseInt(reference.verse) === parseInt(frameKey)) {\n      this.scrollToId();\n    }\n  };\n\n  render() {\n    const {open} = this.state;\n    const {props} = this;\n    const helps = {...this.state.helps, ...this.props.helps};\n    return (\n      <div id={props.frameKey}>\n        <Component\n          {...props}\n          helps={helps}\n          open={open}\n          handleToggleOpen={this.handleToggleOpen.bind(this)}\n        />\n      </div>\n    );\n  }\n};\n\nContainer.propTypes = {\n  storyKey: PropTypes.number.isRequired,\n  frameKey: PropTypes.string.isRequired,\n  helps: PropTypes.object,\n  text: PropTypes.string.isRequired,\n  image: PropTypes.string,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport remark from 'remark';\nimport remark2react from 'remark-react';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from '../../../styles';\nimport Card from '../Card';\nimport Frame from '../Frame/';\nimport TranslationHelps from '../../../TranslationHelps';\n\n\nexport const Component = ({\n  classes,\n  storyKey,\n  story,\n  context,\n  setContext,\n  helps,\n  guide,\n  title,\n}) => {\n  let intro;\n  const header = `# ${title}`;\n  const content = remark().use(remark2react).processSync(header).contents;\n  let tabs = [];\n  if (guide) {\n    const title = \"Guide\"\n    const text = guide;\n    tabs.push({ title, text });\n  }\n  const details = (\n    <TranslationHelps\n      context={context}\n      setContext={setContext}\n      tabs={tabs}\n    />\n  );\n  intro = (\n    <Card\n      context={context}\n      content={content}\n      details={details}\n    />\n  );\n  const frames = Object.keys(story).map((frameKey, index) => {\n    const {image, text} = story[frameKey];\n    return (\n      <Frame\n        key={`${storyKey}:${frameKey}`}\n        storyKey={storyKey}\n        helps={index === 0 ? helps : {}}\n        frameKey={frameKey}\n        image={image}\n        text={text}\n        context={context}\n        setContext={setContext}\n      />\n    );\n  });\n  return (\n    <div className={classes.column}>\n      {intro}\n      {frames}\n    </div>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  storyKey: PropTypes.number.isRequired,\n  story: PropTypes.object.isRequired,\n  helps: PropTypes.object,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(Component);\n","import Story from './Story/';\nexport default Story;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nimport * as thHelpers from '../../translationHelps/helpers';\n\nclass Container extends React.Component {\n  state = {\n    open: false,\n    id: Math.random(),\n    helps: null,\n  };\n\n  handleToggleOpen = () => {\n    this.setState({open: !this.state.open});\n    this.scrollToId();\n  };\n\n  scrollToId = () => {\n    const element = document.getElementById(this.state.id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  fetchStudyQuestions({\n    storyKey,\n    context: {\n      username,\n      languageId,\n    },\n  }) {\n    thHelpers.fetchStudyQuestions({username, languageId, storyKey: 0})\n    .then(guide => {\n      thHelpers.fetchStudyQuestions({username, languageId, storyKey})\n      .then(studyQuestions => {\n        const helps = { studyQuestions: studyQuestions };\n        this.setState({\n          helps,\n          guide,\n        });\n      });\n    });\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.fetchStudyQuestions(newProps);\n  }\n\n  componentDidMount() {\n    this.fetchStudyQuestions(this.props);\n  };\n\n  render() {\n    const {helps, guide, open, id} = this.state;\n    const {props} = this;\n    return (\n      <div id={id}>\n        <Component\n          {...props}\n          helps={helps}\n          guide={guide}\n          open={open}\n          handleToggleOpen={this.handleToggleOpen.bind(this)}\n        />\n      </div>\n    );\n  }\n};\n\nContainer.propTypes = {\n  storyKey: PropTypes.number.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\n\nimport StorySelection from './StorySelection';\nimport OpenBibleStoriesView from './OpenBibleStoriesView';\n\nexport const OpenBibleStoriesComponent = ({\n  classes,\n  context,\n  context: {\n    reference\n  },\n  setContext,\n  stories,\n  title,\n}) => {\n\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowStorySelection = (stories && !reference.chapter);\n  const shouldShowOpenBibleStoriesView = (stories && reference.chapter);\n\n  if (shouldShowStorySelection) {\n    const storySelection = (\n      <StorySelection\n        context={context}\n        setContext={setContext}\n        stories={stories}\n      />\n    );\n    component = storySelection;\n  }\n  else if (shouldShowOpenBibleStoriesView) {\n    const openBibleStoriesView = (\n      <OpenBibleStoriesView\n        context={context}\n        setContext={setContext}\n        storyKey={reference.chapter}\n        story={stories[reference.chapter]}\n        title={title}\n      />\n    );\n    component = openBibleStoriesView;\n  }\n\n  return (\n    <div className={classes.root}>\n      {component}\n    </div>\n  );\n}\n\nOpenBibleStoriesComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  stories: PropTypes.object,\n  title: PropTypes.string.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(OpenBibleStoriesComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from './styles';\n\nimport Component from './Component';\n\nimport * as helpers from './helpers';\n\nclass OpenBibleStoriesContainer extends React.Component {\n  state = {\n    stories: null,\n  };\n\n  componentDidMount() {\n    const {username, languageId} = this.props.context;\n    helpers.fetchOpenBibleStories({username, languageId})\n    .then(stories => {\n      this.setState({ stories });\n    });\n  };\n\n  componentDidUpdate() {\n    const {reference: {bookId, chapter, verse}} = this.props.context;\n    const id = `${bookId}_${chapter}_${verse}`;\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  }\n\n  render() {\n    const {stories} = this.state;\n    const {props} = this;\n    const {title} = props.manifests['obs'].dublin_core;\n    return (\n      <Component\n        {...props}\n        stories={stories}\n        title={title}\n      />\n    );\n  }\n};\n\nOpenBibleStoriesContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(OpenBibleStoriesContainer);\n","import Container from './Container';\nexport default Container;\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Headroom from 'react-headroom';\nimport {\n  Typography,\n} from '@material-ui/core';\n\nimport * as ScriptureHelpers from './components/Viewer/Workspace/Scripture/helpers';\n\nconst ApplicationBar = ({\n  classes,\n  applicationName,\n  manifests,\n  context: {\n    resourceId,\n    reference,\n  },\n}) => {\n\n  let bookName = '';\n  let chapter = '';\n  if (manifests[resourceId] && reference) {\n    const { bookId } = reference;\n    chapter = reference.chapter;\n    const {projects} = manifests[resourceId];\n    const project = ScriptureHelpers.projectByBookId({projects, bookId});\n    bookName = project ? project.title : '';\n  }\n  const referenceComponent = (bookName ? <span>&nbsp;&nbsp;{bookName} {chapter}</span> : <span />);\n\n  return (\n    <Headroom>\n      <div className={classes.paper}>\n        <div className={classes.toolbar}>\n          <img className={classes.logo} src=\"./logo.png\" alt=\"unfoldingWord\" />\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.coin} noWrap>\n            {referenceComponent}\n          </Typography>\n        </div>\n      </div>\n    </Headroom>\n  );\n}\n\nApplicationBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  projectName: PropTypes.string,\n};\n\nconst styles = theme => ({\n  paper: {\n    color: '#fff',\n    backgroundColor: '#31ADE3',\n    textAlign: 'center',\n    boxShadow: '0px 1px 5px 0px rgba(0, 0, 0, 0.2),' +\n               '0px 2px 2px 0px rgba(0, 0, 0, 0.14),' +\n               '0px 3px 1px -2px rgba(0, 0, 0, 0.12)',\n  },\n  toolbar: {\n    margin: 'auto',\n    display: 'inline-flex',\n    padding: '1em 0',\n  },\n  logo: {\n    height: '1.8em',\n    paddingTop: '0.25em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(ApplicationBar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  BottomNavigation,\n  BottomNavigationAction,\n} from '@material-ui/core';\nimport {\n  LibraryBooks,\n  Book,\n  Bookmark,\n  History,\n  KeyboardArrowLeft,\n  KeyboardArrowRight,\n} from '@material-ui/icons';\n\nimport {chaptersInBook} from './components/Viewer/chaptersAndVerses';\n\nclass BottomNavContainer extends React.Component {\n  handleChange = (event, value) => {\n    let context = {...this.props.context};\n    let {\n      username,\n      languageId,\n      reference,\n    } = context;\n    switch (value) {\n      case 0:\n        context = this.previousChapter();\n        break;\n      case 1:\n        context = {username, languageId, view: 'history', reference: {}};\n        break;\n      case 2:\n        context = {username, languageId, reference: {}};\n        break;\n      case 3:\n        context.reference = {};\n        break;\n      case 4:\n        if (reference) context.reference = {bookId: reference.bookId};\n        break;\n      case 5:\n        context = this.nextChapter();\n        break;\n      default:\n        break;\n    };\n    this.props.setContext(context);\n  };\n\n  previousChapter = () => {\n    let reference = {...this.props.context.reference}\n    let {chapter} = reference;\n    if (chapter > 1) {\n      reference.chapter = chapter - 1;\n      reference.verse = undefined;\n    }\n    const context = {...this.props.context, reference};\n    return context;\n  };\n\n  nextChapter = () => {\n    let reference = {...this.props.context.reference}\n    let {bookId, chapter} = reference;\n    const bookChapters = chaptersInBook({bookId}).length\n    if (chapter < bookChapters) {\n      reference.chapter = chapter + 1\n      reference.verse = undefined;\n    }\n    const context = {...this.props.context, reference};\n    return context;\n  };\n\n  render() {\n    const { classes, context } = this.props;\n\n    const shouldShowHistory = (context.view === 'history');\n    const couldShowReference = (!context.resourceId);\n    const couldShowBook = (!(context.resourceId === 'obs') && !(context.reference && context.reference.bookId));\n    const couldShowChapter = (!(context.reference && context.reference.chapter));\n\n    let value;\n    if (shouldShowHistory) { value = 1; }\n    else if (couldShowReference) { value = 2; }\n    else if (couldShowBook) { value = 3; }\n    else if (couldShowChapter) { value = 4; }\n\n    return (\n      <Paper className={classes.root}>\n        <BottomNavigation\n          value={value}\n          onChange={this.handleChange}\n          showLabels={true}\n          className={classes.bottomNavigation}\n        >\n          <BottomNavigationAction\n            className={classes.button}\n            icon={<KeyboardArrowLeft />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"History\"\n            icon={<History />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Resources\"\n            icon={<LibraryBooks />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Books\"\n            icon={<Book />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Chapters\"\n            icon={<Bookmark />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            icon={<KeyboardArrowRight />}\n          />\n        </BottomNavigation>\n      </Paper>\n    );\n  }\n}\n\nBottomNavContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  bottomNavigation: {\n    margin: '0 auto',\n    maxWidth: '40em',\n  },\n  button: {\n    paddingLeft: '0',\n    paddingRight: '0',\n    minWidth: '60px',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(BottomNavContainer);\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nconst History = lazy(() => Promise.resolve().then(() => require('./History')));\nconst Resources = lazy(() => Promise.resolve().then(() => require('./Resources')));\nconst OpenBibleStories = lazy(() => Promise.resolve().then(() => require('./OpenBibleStories')));\nconst Scripture = lazy(() => Promise.resolve().then(() => require('./Scripture')));\n\nexport const Component = ({\n  classes,\n  manifests,\n  history,\n  context,\n  setContext,\n  title,\n}) => {\n  const historyComponent = (\n    <History\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n      contexts={history}\n    />\n  );\n  const resources = (\n    <Resources\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const scripture = (\n    <Scripture\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const openBibleStories = (\n    <OpenBibleStories\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowHistory = (context.view === 'history');\n  if (Object.keys(manifests).length > 0) {\n    const shouldShowResources = (!context.resourceId);\n    const shouldShowScripture = (['ult','ust','ulb','udb','irv'].includes(context.resourceId));\n    const shouldShowOpenBibleStories = (context.resourceId === 'obs');\n\n    if (shouldShowHistory) component = historyComponent;\n    else if (shouldShowResources) component = resources;\n    else if (shouldShowScripture) component = scripture;\n    else if (shouldShowOpenBibleStories) component = openBibleStories;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Suspense fallback={loadingComponent}>\n        {component}\n      </Suspense>\n    </div>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n  };\n\n  componentDidUpdate() {\n    const {reference} = this.props.context;\n    if (reference) {\n      const {bookId, chapter, verse} = reference;\n      const id = `${bookId}_${chapter}_${verse}`;\n      const element = document.getElementById(id);\n      if (element) {\n        element.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    }\n  }\n\n  render() {\n    const props = this.props;\n    return (\n      <Component\n        {...props}\n      />\n    );\n  };\n};\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default Container;\n","import React, {\n  createContext,\n  useState\n} from 'react';\nimport deepFreeze from 'deep-freeze';\nimport * as gitApi from './gitApi';\n\nexport const ManifestsContext = createContext();\n\nexport function ManifestsContextProvider({children}) {\n  const [manifests, setManifests] = useState({});\n\n  // load new manifests and update context if language or username changes\n  const populateManifests = async ({context}) => {\n    const _manifests = await gitApi.fetchResourceManifests(context);\n    setManifests(_manifests);\n    return _manifests;\n  };\n\n  // load new manifests and update context if language or username changes\n  const refreshManifests = async ({context, oldContext}) => {\n    let _manifests = {...manifests};\n    const languageChanged = (oldContext.languageId !== context.languageId);\n    const usernameChanged = (oldContext.username !== context.username);\n    if (languageChanged || usernameChanged) {\n      _manifests = await populateManifests({context});\n    };\n    return _manifests;\n  };\n\n  const _manifests = deepFreeze(manifests);\n\n  const value = {\n    manifests: _manifests,\n    populateManifests,\n    refreshManifests,\n    setManifests,\n  };\n\n  return (\n    <ManifestsContext.Provider value={value}>\n      {children}\n    </ManifestsContext.Provider>\n  );\n};\n","import React, {useState, useContext} from 'react';\nimport PropTypes from 'prop-types';\n\nimport Workspace from './Workspace';\n\nimport {\n  ManifestsContextProvider,\n  ManifestsContext,\n} from './Manifests.context';\n\nfunction Viewer({\n  classes,\n  context,\n  setContext,\n  history,\n  handleManifestsChange,\n}) {\n  const [oldContext, setOldContext] = useState(context);\n  const {manifests, populateManifests, refreshManifests} = useContext(ManifestsContext);\n  if (Object.keys(manifests).length === 0) {\n    populateManifests({context})\n    .then(handleManifestsChange);\n  }\n  if (JSON.stringify(context) !== JSON.stringify(oldContext)) {\n    refreshManifests({context, oldContext})\n    .then(handleManifestsChange);\n    setOldContext(context);\n  }\n\n  return (\n    <Workspace\n      context={context}\n      setContext={setContext}\n      history={history}\n      manifests={manifests}\n    />\n  );\n};\n\nfunction ViewerWrapper (props) {\n  return (\n    <ManifestsContextProvider>\n      <Viewer {...props} />\n    </ManifestsContextProvider>\n  );\n};\n\nViewerWrapper.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n};\n\nexport default ViewerWrapper;\n","import Viewer from './Viewer';\nexport default Viewer;\n","const styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  appFrame: {\n    zIndex: 1,\n    position: 'relative',\n    display: 'flex',\n    width: '100%',\n  },\n  main: {\n    width: '100%',\n    minWidth: '20em',\n  },\n  workspace: {\n    padding: '1em 1em 5.5em 1em',\n  },\n  bottomNav: {\n    width: '100%',\n    position: 'fixed',\n    bottom: 0,\n    zIndex: 10,\n  }\n});\n\nexport default styles;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  palette: {\n    primary: {\n      light: '#59B7E7',\n      main: '#31ADE3',\n      dark: '#014263',\n      contrastText: '#FFF'\n    },\n  },\n});\n\nexport default theme;\n","import localstorage from 'local-storage';\n\nexport const updateQueryFromContext = (context) => {\n  let reference = context.reference || {};\n  const _context = {...context, reference};\n  const {\n    username,\n    languageId,\n    resourceId,\n    reference: {\n      bookId,\n      chapter,\n      verse,\n    },\n  } = _context;\n  const _username = username ? `owner=${username}` : '';\n  const _languageId = languageId ? `/${languageId}` : '';\n  const _resourceId = resourceId ? `/${resourceId}` : '';\n  const _bookId = bookId ? `/${bookId}` : '';\n  const _chapter = chapter ? `/${chapter}` : '';\n  const _verse = verse ? `/${verse}` : '';\n  const rc = `&rc=${_languageId}${_resourceId}${_bookId}${_chapter}${_verse}`\n  const path = window.location.pathname;\n  const query = `${path}?${_username}${rc}`;\n  window.history.pushState(context, null, query);\n};\n\nexport const contextFromQuery = () => {\n  const urlParams = new URLSearchParams(window.location.search);\n  const username = urlParams.get('owner') || 'unfoldingword';\n  const rc = urlParams.get('rc') || ''\n  const rcArray = rc.slice(1).split('/').filter(string => string);\n  const [languageId, resourceId, bookId, chapter, verse] = rcArray;\n  return {\n    username: username,\n    languageId: languageId || 'en',\n    resourceId: resourceId,\n    reference: {\n      bookId,\n      chapter,\n      verse,\n    },\n  }\n};\n\nexport const save = ({key, value}) => {\n return localstorage.set(key, value);\n};\n\nexport const load = ({key, defaultValue}) => {\n  let value;\n  try {\n    value = localstorage.get(key);\n  } catch(error) {\n    value = defaultValue;\n  }\n  return value || defaultValue;\n};\n","import React, {\n  createContext,\n  useState\n} from 'react';\nimport deepFreeze from 'deep-freeze';\n\nimport { updateQueryFromContext, contextFromQuery } from './helpers';\nimport * as chapterAndVerses from './components/Viewer/chaptersAndVerses';\n\nexport const ContextContext = createContext();\n\nexport function ContextContextProvider({children}) {\n  const defaultContext = () => {\n    return {\n      username: 'unfoldingword',\n      languageId: 'en',\n    }\n  };\n  const queryContext = contextFromQuery();\n  const _defaultContext = queryContext || defaultContext();\n\n  const [context, setContext] = useState(_defaultContext);\n\n  const validateContext = (_context) => {\n    const {resourceId, reference} = _context;\n    let valid;\n    valid = (!resourceId && !reference); // valid if neither is set\n    if (resourceId && reference) {\n      const validReference = chapterAndVerses.validateReference({reference});\n      valid = (resourceId && validReference);\n    }\n    return valid;\n  };\n\n  const updateContext = async (_context, back=false) => {\n    // allow navigation to Resources selection\n    const emptyResourceId = (!_context.reference || !_context.resourceId);\n    let shouldSetContext;\n    if (emptyResourceId) shouldSetContext = true;\n    // use 'obs' for bookId if is resourceId\n    if (_context.resourceId === 'obs') {\n      const reference = {..._context.reference, bookId: 'obs'}\n      _context.reference = reference;\n    }\n    const validContext = validateContext(_context);\n    // validate context\n    if (validContext) shouldSetContext = true;\n    if (shouldSetContext) {\n      setContext(_context);\n      updateQueryFromContext(_context);\n      window.scrollTo(0,0);\n    }\n  };\n\n  const _context = deepFreeze(context);\n\n  const value = {\n    context: _context,\n    updateContext,\n    defaultContext,\n    validateContext,\n  };\n\n  return (\n    <ContextContext.Provider value={value}>\n      {children}\n    </ContextContext.Provider>\n  );\n};\n","import React, {\n  createContext,\n  useState\n} from 'react';\nimport deepFreeze from 'deep-freeze';\n\nimport * as helpers from './helpers';\n\nconst keyPrefix = 'Viewer.state.';\n\nexport const HistoryContext = createContext();\n\nexport function HistoryContextProvider({children}) {\n  const loadHistory = () => {\n    const _history = helpers.load({\n      key: `${keyPrefix}history`,\n      defaultValue: [],\n    });\n    return _history;\n  };\n  const loadedHistory = loadHistory();\n  const [history, setHistory] = useState(loadedHistory);\n\n  const addToHistoryArray = (_context, _history) =>  {\n    let history = [];\n    if (_history) history = [..._history];\n    const newContext = JSON.stringify(_context);\n    const oldContext = JSON.stringify(history[0]);\n    const isNew = !( newContext === oldContext );\n    if (isNew) {\n      const context = JSON.parse(newContext);\n      history.unshift(context);\n    }\n    if (!history) debugger\n    return history;\n  };\n\n  // add to history (load, add, persist, return)\n  const addHistory = (context) => {\n    if (context.reference && context.reference.chapter) {\n      let _history = addToHistoryArray(context, history);\n      setHistory(_history);\n      saveHistory();\n    }\n    return history;\n  };\n\n  const saveHistory = () => {\n    helpers.save({ key: `${keyPrefix}history`, value: history });\n  };\n\n  const _history = history ? deepFreeze(history) : null;\n\n  const value = {\n    history: _history,\n    setHistory,\n    addHistory,\n    loadHistory,\n  };\n\n  return (\n    <HistoryContext.Provider value={value}>\n      {children}\n    </HistoryContext.Provider>\n  );\n};\n","import React, {useContext, useState} from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport ApplicationBar from './ApplicationBar';\nimport BottomNav from './BottomNav';\nimport Viewer from './components/Viewer';\n\nimport styles from './styles';\nimport theme from './theme';\n\nimport { ContextContext, ContextContextProvider } from './Context.context';\nimport { HistoryContext, HistoryContextProvider } from './History.context';\n\nfunction App({classes}) {\n  const {context, updateContext} = useContext(ContextContext);\n  const {history, addHistory} = useContext(HistoryContext);\n  const [manifests, setManifests] = useState({});\n\n  // window.addEventListener(\"popstate\", (e) => {\n  //   const context = e.state;\n  //   setContext(context, true);\n  // });\n\n  const setContext = (_context) => {\n    addHistory(_context);\n    updateContext(_context);\n  };\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <div className={classes.root}>\n        <div className={classes.appFrame}>\n          <main className={classes.main}>\n            <ApplicationBar\n              applicationName=\"unfoldingWord\"\n              context={context}\n              manifests={manifests}\n            />\n            <div className={classes.workspace}>\n              <Viewer\n                context={context}\n                setContext={setContext}\n                history={history}\n                handleManifestsChange={setManifests}\n              />\n            </div>\n          </main>\n          <nav className={classes.bottomNav}>\n            <BottomNav\n              context={context}\n              setContext={updateContext}\n            />\n          </nav>\n        </div>\n      </div>\n    </MuiThemeProvider>\n  );\n};\n\nfunction AppWrapper({classes}) {\n\n  return (\n    <ContextContextProvider>\n      <HistoryContextProvider>\n        <App\n          classes={classes}\n        />\n      </HistoryContextProvider>\n    </ContextContextProvider>\n  );\n};\n\nexport default withStyles(styles)(AppWrapper);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              if (window) window.alert(\n                'Update is available, close the App and/or all tabs and restart the App to get the latest.'\n              );\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              if (window) window.alert(\n                'The first load of a Book and Chapter may take longer to download the resources.'\n              );\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport {\n  Typography,\n  TextField,\n  Paper,\n  MenuItem,\n} from '@material-ui/core';\n\nconst NoOptionsMessage = (props) => (\n  <Typography\n    color=\"textSecondary\"\n    className={props.selectProps.classes.noOptionsMessage}\n    {...props.innerProps}\n  >\n    {props.children}\n  </Typography>\n);\n\nconst inputComponent = ({ inputRef, ...props }) =>\n  <div ref={inputRef} {...props} />;\n\nconst Control = (props) => (\n  <TextField\n    fullWidth\n    InputProps={{\n      inputComponent,\n      inputProps: {\n        className: props.selectProps.classes.input,\n        inputRef: props.innerRef,\n        children: props.children,\n        ...props.innerProps,\n      },\n    }}\n    {...props.selectProps.textFieldProps}\n  />\n);\n\nconst Option = (props) => (\n  <MenuItem\n    buttonRef={props.innerRef}\n    selected={props.isFocused}\n    component=\"div\"\n    style={{\n      fontWeight: props.isSelected ? 500 : 400,\n    }}\n    {...props.innerProps}\n  >\n    {props.children}\n  </MenuItem>\n);\n\nconst Placeholder = (props) => (\n  <Typography\n    color=\"textSecondary\"\n    className={props.selectProps.classes.placeholder}\n    {...props.innerProps}\n  >\n    {props.children}\n  </Typography>\n);\n\nconst SingleValue = (props) => (\n  <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n    {props.children}\n  </Typography>\n);\n\nconst ValueContainer = (props) => (\n  <div className={props.selectProps.classes.valueContainer}>\n    {props.children}\n  </div>\n);\n\nconst Menu = (props) => (\n  <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n    {props.children}\n  </Paper>\n);\n\nconst components = {\n  Control,\n  Menu,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nexport default components;\n","import { emphasize } from '@material-ui/core/styles/colorManipulator';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  },\n});\n\nexport default styles;\n","/* eslint-disable react/prop-types, react/jsx-handler-names */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  NoSsr,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons'\n\nimport {getLanguages} from '../../../gitApi';\nimport components from './components';\nimport styles from '../styles';\n\n// const suggestions = [\n//   { value: 'en', label: 'en - English' },\n//   { value: 'es-419', label: 'es-419 - Spanish' },\n//   { value: 'fr', label: 'fr - French' },\n//   { value: 'hi', label: 'hi - Hindi' },\n//   { value: 'pt-br', label: 'pt-br - Brazilian Portuguese'},\n// ];\n\n\nclass Container extends React.Component {\n  state = {\n    languages: [],\n  };\n\n  async componentDidMount() {\n    const {username} = this.props.context;\n    const resourceIds = ['ult','ust','ulb','udb','irv','obs'];\n    const languages = await getLanguages({username, resourceIds});\n    this.setState({languages});\n  }\n\n  handleChange = name => object => {\n    const languageId = object.value;\n    const context = {...this.props.context, languageId};\n    this.props.setContext(context);\n  };\n\n  render() {\n    const {\n      classes,\n      theme,\n      context,\n    } = this.props;\n\n    const selectStyles = {\n      input: base => ({\n        ...base,\n        color: theme.palette.text.primary,\n        '& input': {\n          font: 'inherit',\n        },\n      }),\n    };\n\n    const suggestions = this.state.languages\n    .map(({languageId, languageName, localized, region, gateway}) => {\n      const value = languageId;\n      const name = `${languageId} - ${languageName} - ${localized}`;\n      const gatewayLabel = `(${region} ${gateway ? 'Gateway' : 'Other'})`;\n      const label = `${name} ${gatewayLabel}`;\n      return {value, label};\n    });\n\n    return (\n      <div className={classes.root}>\n        <NoSsr>\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            options={suggestions}\n            components={components}\n            value={\n              suggestions.filter(object => (object.value === context.languageId) )[0]\n            }\n            onChange={this.handleChange('language')}\n            placeholder=\"Select Language\"\n          />\n          <div className={classes.divider} />\n        </NoSsr>\n      </div>\n    );\n  }\n}\n\nContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(Container);\n","import Container from './Container';\nexport default Container;\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\n\nimport Languages from './Languages/index';\nimport styles from '../styles';\n\nconst Resource = lazy(() => Promise.resolve().then(() => require('./Resource')));\n\nexport const Component = ({\n  classes,\n  context,\n  setContext,\n  manifests,\n}) => {\n  const resources = Object.keys(manifests)\n  .filter(resourceId => {\n    const resourceExists = ['ult','ust','ulb','udb','irv','obs'].includes(resourceId);\n    const manifest = manifests[resourceId];\n    let language;\n    if (manifest) language = manifest.dublin_core.language.identifier;\n    const languageMatch = language === context.languageId;\n    return resourceExists && manifest && languageMatch;\n  });\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  return (\n    <div className={classes.column}>\n      <Languages\n        context={context}\n        setContext={setContext}\n      />\n      <Suspense fallback={loadingComponent}>\n        {resources.map(resourceId => (\n          <Resource\n            key={resourceId}\n            context={context}\n            setContext={setContext}\n            manifest={manifests[resourceId]}\n          />\n        ))}\n      </Suspense>\n    </div>\n  );\n};\n\nComponent.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Component);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  BookmarkBorder,\n} from '@material-ui/icons';\n\nimport * as ScriptureHelpers from '../Scripture/helpers';\n\nconst Component = ({\n  classes,\n  manifest,\n  manifest: {\n    dublin_core: {\n      subject,\n      title,\n      language,\n    }\n  },\n  context,\n  context: {\n    username,\n    languageId,\n    resourceId,\n    reference,\n    reference: {\n      bookId,\n      chapter,\n      verse,\n    },\n  },\n  setContext,\n}) => {\n  let bookName = '';\n  if (manifest && reference && bookId) {\n    const {projects} = manifest;\n    const project = ScriptureHelpers.projectByBookId({projects, bookId});\n    bookName = project.title;\n  }\n  return (\n    <ListItem\n      button\n      className={classes.bookListItem}\n      style={{\n        paddingLeft: '2em',\n        paddingRight: '0.7em',\n      }}\n      onClick={() => {\n        setContext(context);\n      }}\n    >\n      <ListItemIcon className={classes.listItemIcon}>\n        <BookmarkBorder />\n      </ListItemIcon>\n      <ListItemText\n        className={classes.listItemText}\n        primary={`${bookName} ${chapter}${verse ? `:${verse}` : ''}`}\n        secondary={`${language.title} - ${title}`}\n      />\n    </ListItem>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  manifest: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport Context from './Context';\n\nexport const Component = ({\n  classes,\n  setContext,\n  manifests,\n  contexts,\n}) => {\n  let contextComponents = [];\n  if (contexts) {\n    contextComponents = contexts\n    .filter(context => (!!manifests[context.resourceId]))\n    .map((context, index) => (\n      <Context\n        key={index + JSON.stringify(context)}\n        context={context}\n        setContext={setContext}\n        manifest={manifests[context.resourceId]}\n      />\n    ));\n  }\n  return (\n    <Paper className={classes.root}>\n      <List\n        className={classes.root}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.list}>\n          {contextComponents}\n        </div>\n      </List>\n    </Paper>\n  );\n};\n\nComponent.propTypes = {\n  contexts: PropTypes.array,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  list: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Divider,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport TextComponentWithRCLinks from '../TextComponentWithRCLinks';\n\nexport const TranslationNoteComponent = ({\n  classes,\n  context,\n  setContext,\n  note,\n  addTab,\n}) => {\n  if (!note) debugger\n  const occurrence_note = note.occurrence_note.replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '');\n  const noteComponent = (\n    <TextComponentWithRCLinks\n      context={context}\n      setContext={setContext}\n      text={occurrence_note}\n      addTab={addTab}\n    />\n  );\n  return (\n    <div className={classes.root}>\n      <Divider />\n      <div className={classes.note}>\n        <strong>{note.gl_quote}</strong> {noteComponent}\n      </div>\n    </div>\n  );\n};\n\nTranslationNoteComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  note: PropTypes.object.isRequired,\n  addTab: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  note: {\n    marginTop: '0.5em',\n    marginBottom: '0.5em',\n  },\n});\n\nexport default withStyles(styles)(TranslationNoteComponent);\n","import TranslationNoteComponent from './TranslationNoteComponent';\nexport default TranslationNoteComponent;\n","import data from './chaptersAndVerses.json';\n\nexport const chaptersInBook = ({bookId}) => {\n  try {\n    let chapters;\n    if (bookId === 'obs') {\n      chapters = [...Array(50).keys()].map(i=>i+1);\n    } else {\n      chapters = bookData({bookId}).chapters;\n    }\n    return chapters;\n  } catch(error) {\n    return null;\n  }\n};\n\nexport const versesInChapter = ({bookId, chapter}) => {\n  const verses = chaptersInBook({bookId})[chapter - 1];\n  return verses;\n};\n\nexport const bookData = ({bookId}) => {\n  const _bookData = data.filter(row => row.id === bookId)[0];\n  return _bookData;\n};\n\nexport const testament = ({bookId}) => {\n  const _testament = bookData({bookId}).testament;\n  return _testament;\n};\n\nexport const validateBookId = (reference) => {\n  let valid;\n  if (reference.bookId === 'obs') {\n    valid = true;\n  } else if (reference.bookId && !!bookData(reference)) {\n    valid = true;\n  }\n  return valid;\n}\n\nexport const validateChapter = (reference) => {\n  const dependencies = ( validateBookId(reference) );\n  const chapters = chaptersInBook(reference);\n  const valid = (dependencies && !!chapters[reference.chapter - 1]);\n  return valid;\n}\n\nexport const validateVerse = (reference) => {\n  const dependencies = (validateBookId(reference) && validateChapter(reference));\n  const chapters = chaptersInBook(reference);\n  const verseCount = chapters[reference.chapter];\n  const inRange = (verseCount && reference.verse <= verseCount);\n  return (dependencies && inRange);\n};\n\nexport const validateReference = ({reference}) => {\n  let valid = false;\n  const {bookId, chapter, verse} = reference;\n  const blankReference = (!bookId && !chapter && !verse);\n  const validBookId = validateBookId(reference);\n  const validChapter = validateChapter(reference);\n  const validVerse = (!!verse) ? validateVerse(reference) : true;\n  if (blankReference) {\n    valid = true;\n  } else if (validBookId && !chapter && !verse) {\n    valid = true;\n  } else if (validBookId && validChapter && !verse) {\n    valid = true;\n  } else if (validBookId && validChapter && validVerse) {\n    valid = true;\n  }\n  return valid;\n};\n"],"sourceRoot":""}