(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{6061:function(e,t,n){"use strict";t.a=function(e){return{root:{},paper:{padding:2*e.spacing.unit},column:{maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},verse:{margin:0},tabVerse:{margin:"".concat(2*e.spacing.unit,"px ").concat(0*e.spacing.unit,"px ").concat(0*e.spacing.unit,"px")},fullWidth:{width:"100%"},expansionPanelDetails:{padding:0},expansionPanelActions:{padding:0}}}},6068:function(e,t,n){"use strict";var a=n(49),r=n(50),s=n(52),o=n(51),c=n(53),i=n(1),u=n.n(i),l=Object(i.lazy)(function(){return n.e(8).then(n.bind(null,6365))}),p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={id:Math.random(),tabIndex:0,tabs:n.props.tabs},n.handleChangeIndex=function(e,t){var a=void 0!==t?t:e;n.setState({tabIndex:a}),n.scrollToId(n.state.id)},n.addTab=function(e){var t=n.state.tabs;t.push(e),n.setState({tabs:t,tabIndex:t.length-1}),n.scrollToId(n.state.id)},n.scrollToId=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state,n=t.tabs,a=t.tabIndex,r=t.id;return u.a.createElement(i.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement(l,Object.assign({},e,{id:r,tabs:n,tabIndex:a,addTab:this.addTab.bind(this),handleChangeIndex:this.handleChangeIndex.bind(this)})))}}]),t}(u.a.Component);t.a=p},6156:function(e,t){},6367:function(e,t,n){"use strict";n.r(t);var a=n(49),r=n(50),s=n(52),o=n(51),c=n(53),i=n(1),u=n.n(i),l=n(21),p=n(6156),d=n.n(p),m=n(31),h=n(40),f=n(54),g=Object(l.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}})(function(e){var t=e.classes,n=e.storyKey,a=e.frames,r=e.context,s=e.setContext,o=e.context.reference;return u.a.createElement(m.ListItem,{button:!0,selected:o.chapter===n,className:t.bookListItem,style:{paddingLeft:"2em",paddingRight:"0.7em"},onClick:function(){var e={bookId:o.bookId,chapter:n},t=Object(h.a)({},r,{reference:e});s(t)}},u.a.createElement(m.ListItemIcon,{className:t.listItemIcon},o.chapter===n?u.a.createElement(f.c,null):u.a.createElement(f.d,null)),u.a.createElement(m.ListItemText,{className:t.listItemText,primary:"Story ".concat(a[0].text.replace("#","").trim()),secondary:Object.keys(a).length+" Frames"}))}),y=Object(l.withStyles)(function(e){return{root:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},list:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=e.stories,a=e.context,r=e.setContext,s=(e.context.reference,Object.keys(n).map(function(e){var t=parseInt(e),s=n[t];return u.a.createElement(g,{key:t,context:a,setContext:r,storyKey:t,frames:s})}));return u.a.createElement(m.Paper,{className:t.root},u.a.createElement(m.List,{className:t.root,component:"nav",dense:!0},u.a.createElement("div",{className:t.list},s)))}),b=n(6069),v=n.n(b),I=n(6070),x=n.n(I),w=n(6061),O=n(6294),j=n.n(O),k=Object(l.withStyles)({card:{marginBottom:"1em"},media:{width:"calc(100vw - 1.9em)",height:"calc((100vw - 1.9em) * 9/16)",maxWidth:"40em",maxHeight:"calc(40em * 9/16)"},content:{paddingBottom:0},details:{padding:0},actions:{padding:0},button:{marginLeft:"auto"},player:{width:"100%",height:"100%"}})(function(e){var t,n=e.classes,a=e.open,r=e.handleToggleOpen,s=e.content,o=e.details,c=e.image,i=e.youtubeId;if(i){var l="https://www.youtube.com/watch?v=".concat(i);t=u.a.createElement("div",{className:n.media},u.a.createElement(j.a,{className:n.player,url:l,controls:!0,config:{youtube:{playerVars:{rel:0,modestbranding:1}}},height:"100%",width:"100%"}))}return u.a.createElement(m.Card,{className:n.card},c?u.a.createElement(m.CardMedia,{className:n.media,image:c,title:"Open Bible Stories Image"}):t,u.a.createElement(m.CardContent,{className:n.content},s),u.a.createElement(m.CardActions,{className:n.actions,disableActionSpacing:!0},u.a.createElement(m.IconButton,{className:n.button,onClick:r,"aria-expanded":a,"aria-label":"Show more"},a?u.a.createElement(f.g,null):u.a.createElement(f.h,null))),u.a.createElement(m.Collapse,{in:a,timeout:"auto",unmountOnExit:!0},u.a.createElement(m.CardContent,{className:n.details},o),u.a.createElement(m.CardActions,{className:n.actions,disableActionSpacing:!0},u.a.createElement(m.IconButton,{className:n.button,onClick:r,"aria-expanded":a,"aria-label":"collapse"},a?u.a.createElement(f.g,null):u.a.createElement(f.h,null)))))}),E=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1,id:Math.random(),helps:{}},n.handleToggleOpen=function(){n.setState({open:!n.state.open}),n.scrollToId()},n.scrollToId=function(){var e=document.getElementById(n.state.id);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.frameKey,n=e.context.reference;parseInt(n.verse)===parseInt(t)&&this.scrollToId()}},{key:"render",value:function(){var e=this.state,t=e.open,n=e.id,a=this.props;return u.a.createElement("div",{id:n},u.a.createElement(k,Object.assign({},a,{open:t,handleToggleOpen:this.handleToggleOpen.bind(this)})))}}]),t}(u.a.Component),K=n(9),C=n.n(K),S=n(18),N=n(6068),T=n(141),M=n(102),A=n(41),P=["UHEzSQE6TOs","OkJWjWFVvV4","2ycsRNjhYjU","aBPANcV67nk","I84GIPjHW0Q","lNzawXS8iKk","hDPJKRZa7U4","l0G3AQOYPR0","lfwMHrfoki0","SPSRlFyq_CQ","RpidswdLDWs","ZJKdHg9yVRs","MIk6i62zQ9A","Xg5dWR59sR8","vM4EzYDNSSM","IHwCxln7EbA","UL2pNVepgY8","DZxkuz2NEe8","KMoK1oITeBQ","jBCf1YY5pzM","sgABmFUZKx0","78PNW7qpufE","DxqwSFPTp3A","O0c_U3rPW0Q","im9mN_i_Y44","y3y27a90cBs","ie03EnZJ8kE","g6L2xbnpgCg","p7F8u3ymfn8","uFvINl8a7Ow","y0RYWZZw9Nc","MzdAo6p3J48","Htgd5jnKzPc","jCy9BJhwg6w","deYD2wxIQlA","gC6jkPn9sks","4srXPVgYU0w","F-CEE6hc1aE","4gFX7PnhfdI","RlOsDbJ9hEc","MAhIbNxMlPI","vCaywUPxzy4","kDMNXa4Z_M0","wb5owhurDXc","WUcXHSmjvgw","Ij34FKUaUJM","ioqNQiAUz0E","ep6RD36iDFw","ZWl5kehifDU","CnSJk-p087Y"],W=function(e){var t=e.storyMarkdown,n={};return t.split(/\s*?\n\s*?\n\s*?[!]/).forEach(function(e,t){n[t]=D({frameMarkdown:e})}),n},D=function(e){var t=e.frameMarkdown,n={},a=/\((http.*?\.jpg).*?\)/;if(a.test(t)){var r=a.exec(t),s=Object(M.a)(r,2),o=(s[0],s[1]);n.image=o}return n.text=t.replace(/\s*\[.*?\]\(.*?\)\s*/,"").trim(),n};function Q(e){return R.apply(this,arguments)}function R(){return(R=Object(S.a)(C.a.mark(function e(t){var n,a,r,s,o,c,i,u;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.storyId,s=A.d({languageId:a}).obs,o=r<10?"0".concat(r):"".concat(r),c="content/".concat(o,".md"),e.next=6,A.a({username:n,repository:s,path:c});case 6:return i=e.sent,u=W({storyMarkdown:i}),e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function B(){return(B=Object(S.a)(C.a.mark(function e(t){var n,a,r,s,o,c;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=Object(T.a)(Array(51).keys()).splice(1),s={},o=r.map(function(e){return Q({username:n,languageId:a,storyId:e})}),e.next=6,Promise.all(o);case 6:return c=e.sent,r.forEach(function(e,t){s[e]=c[t]}),e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var _=Object(l.withStyles)({})(function(e){e.classes;var t=e.context,n=e.setContext,a=(e.open,e.handleToggleOpen,e.storyKey),r=e.frameKey,s=e.image,o=e.text,c=e.helps,i=[];if(c){var l=c.notes,p=c.words,d=c.questions,m=c.studyNotes;c.studyQuestions&&i.push({title:"Study Questions",text:c.studyQuestions}),l&&i.push({title:"Notes",notes:l}),p&&i.push({title:"Words",words:p}),d&&i.push({title:"Questions",notes:d}),m&&i.push({title:"Study Notes",notes:c.studyNotes})}var h,f=i.length>0?u.a.createElement(N.a,{context:t,setContext:n,tabs:i}):u.a.createElement("div",null),g=r>0?"**".concat(r,"** ").concat(o):o,y=v()().use(x.a,{remarkReactComponents:{strong:"sup"}}).processSync(g).contents;return 0===parseInt(r)&&(h=function(e){var t=e.storyKey;return P[t-1]}({storyKey:a})),u.a.createElement(E,{context:t,content:y,details:f,image:s,youtubeId:h})}),q=n(6299);function L(e){return U.apply(this,arguments)}function U(){return(U=Object(S.a)(C.a.mark(function e(t){var n,a,r,s,o,c,i,u;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.storyKey,s=t.frameKey,o={},i=(c=["obs-tn","obs-tq","obs-sn"]).map(function(e){var t;return"obs-tn"===e&&(t=H({username:n,languageId:a,storyKey:r,frameKey:s})),"obs-tq"===e&&(t=J({username:n,languageId:a,storyKey:r,frameKey:s})),"obs-sn"===e&&(t=z({username:n,languageId:a,storyKey:r,frameKey:s})),t}),e.next=6,Promise.all(i);case 6:return u=e.sent,c.forEach(function(e,t){"obs-tn"===e&&(o.notes=u[t].notes,o.words=u[t].words),"obs-tq"===e&&(o.questions=u[t]),"obs-sn"===e&&(o.studyNotes=u[t])}),e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function V(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(S.a)(C.a.mark(function e(t){var n,a,r,s,o,c,i;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.storyKey,s=A.d({languageId:a})["obs-sq"],o=G(r)+".md",c=["content",o].join("/"),e.next=6,A.a({username:n,repository:s,path:c});case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function z(e){return F.apply(this,arguments)}function F(){return(F=Object(S.a)(C.a.mark(function e(t){var n,a,r,s,o,c,i,u,l;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.storyKey,s=t.frameKey,o=A.d({languageId:a})["obs-sn"],c=G(s)+".md",i=["content",G(r),c].join("/"),e.next=6,A.a({username:n,repository:o,path:i});case 6:return u=e.sent,l=te({markdown:u}),e.abrupt("return",l);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function J(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(S.a)(C.a.mark(function e(t){var n,a,r,s,o,c,i,u,l;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.storyKey,s=t.frameKey,o=A.d({languageId:a})["obs-tq"],c=G(s)+".md",i=["content",G(r),c].join("/"),e.next=6,A.a({username:n,repository:o,path:i});case 6:return u=e.sent,l=$({markdown:u}),e.abrupt("return",l);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function H(e){return X.apply(this,arguments)}function X(){return(X=Object(S.a)(C.a.mark(function e(t){var n,a,r,s,o,c,i,u,l;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.storyKey,s=t.frameKey,o=A.d({languageId:a})["obs-tn"],c=G(s)+".md",i=["content",G(r),c].join("/"),e.next=6,A.a({username:n,repository:o,path:i});case 6:return u=e.sent,l=ee({markdown:u}),e.abrupt("return",l);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var G=function(e){return"".concat(e<10?0:"").concat(e)},$=function(e){var t=e.markdown;return t?t.split(/\n\s*#\s*/m).map(function(e){var t=e.split(/\n\s*/m),n=Object(q.a)(t),a=n[0],r=n.slice(1);return{gl_quote:a.replace(/\s*#\s*/,""),occurrence_note:r.join("\n\n")}}):null},ee=function(e){var t=e.markdown;if(!t)return{};var n,a=t.split(/#+\s*translationWords\s*/m),r=Object(M.a)(a,2),s=r[0],o=r[1],c=s.split(/\n\s*#\s*/m).map(function(e){var t=e.split(/\n\s*\n/m),n=Object(q.a)(t),a=n[0],r=n.slice(1);return{gl_quote:a.replace(/\s*#\s*/,""),occurrence_note:r.join("\n\n")}});return o&&/\w+/.test(o)&&(n=o.split(/\n?\s*\*\s*/m).filter(function(e){return""!==e}).map(function(e){return e.replace(/\[\[rc/,"http").replace(/\]\]/,"")})),{notes:c,words:n}},te=function(e){var t=e.markdown;return t?t.split(/\n\s*#+\s*/m).map(function(e){var t=e.split(/\n\s*\n/m),n=Object(q.a)(t),a=n[0],r=n.slice(1);return{gl_quote:a.replace(/\s*#\s*/,""),occurrence_note:r.join("\n\n")}}).filter(function(e){return!/^;/.test(e.occurrence_note)}):null},ne=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1,helps:{}},n.handleToggleOpen=function(){n.setState({open:!n.state.open}),n.scrollToId()},n.scrollToId=function(){var e=document.getElementById(n.props.frameKey);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n,a,r,s,o,c,i;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.storyKey,a=t.frameKey,r=t.context,s=r.username,o=r.languageId,c=r.reference,e.next=3,L({username:s,languageId:o,storyKey:n,frameKey:a});case 3:i=e.sent,this.setState({helps:i}),parseInt(c.verse)===parseInt(a)&&this.scrollToId();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.open,t=this.props,n=Object(h.a)({},this.state.helps,this.props.helps);return u.a.createElement("div",{id:t.frameKey},u.a.createElement(_,Object.assign({},t,{helps:n,open:e,handleToggleOpen:this.handleToggleOpen.bind(this)})))}}]),t}(u.a.Component),ae=Object(l.withStyles)(w.a)(function(e){var t,n=e.classes,a=e.storyKey,r=e.story,s=e.context,o=e.setContext,c=e.helps,i=e.guide,l=e.title,p="# ".concat(l),d=v()().use(x.a).processSync(p).contents,m=[];if(i){var h=i;m.push({title:"Guide",text:h})}var f=u.a.createElement(N.a,{context:s,setContext:o,tabs:m});t=u.a.createElement(E,{context:s,content:d,details:f});var g=Object.keys(r).map(function(e,t){var n=r[e],i=n.image,l=n.text;return u.a.createElement(ne,{key:"".concat(a,":").concat(e),storyKey:a,helps:0===t?c:{},frameKey:e,image:i,text:l,context:s,setContext:o})});return u.a.createElement("div",{className:n.column},t,g)}),re=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1,id:Math.random(),helps:null},n.handleToggleOpen=function(){n.setState({open:!n.state.open}),n.scrollToId()},n.scrollToId=function(){var e=document.getElementById(n.state.id);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"fetchStudyQuestions",value:function(e){var t=this,n=e.storyKey,a=e.context,r=a.username,s=a.languageId;V({username:r,languageId:s,storyKey:0}).then(function(e){V({username:r,languageId:s,storyKey:n}).then(function(n){var a={studyQuestions:n};t.setState({helps:a,guide:e})})})}},{key:"componentWillReceiveProps",value:function(e){this.fetchStudyQuestions(e)}},{key:"componentDidMount",value:function(){this.fetchStudyQuestions(this.props)}},{key:"render",value:function(){var e=this.state,t=e.helps,n=e.guide,a=e.open,r=e.id,s=this.props;return u.a.createElement("div",{id:r},u.a.createElement(ae,Object.assign({},s,{helps:t,guide:n,open:a,handleToggleOpen:this.handleToggleOpen.bind(this)})))}}]),t}(u.a.Component),se=Object(l.withStyles)(function(e){return{root:{width:"100%"},progress:{margin:"auto",display:"block"}}})(function(e){var t=e.classes,n=e.context,a=e.context.reference,r=e.setContext,s=e.stories,o=e.title,c=u.a.createElement(m.CircularProgress,{className:t.progress,color:"secondary",disableShrink:!0}),i=s&&!a.chapter,l=s&&a.chapter;i?c=u.a.createElement(y,{context:n,setContext:r,stories:s}):l&&(c=u.a.createElement(re,{context:n,setContext:r,storyKey:a.chapter,story:s[a.chapter],title:o}));return u.a.createElement("div",{className:t.root},c)}),oe=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={stories:null},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.context;(function(e){return B.apply(this,arguments)})({username:t.username,languageId:t.languageId}).then(function(t){e.setState({stories:t})})}},{key:"componentDidUpdate",value:function(){var e=this.props.context.reference,t=e.bookId,n=e.chapter,a=e.verse,r="".concat(t,"_").concat(n,"_").concat(a),s=document.getElementById(r);s&&s.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"render",value:function(){var e=this.state.stories,t=this.props,n=t.manifests.obs.dublin_core.title;return u.a.createElement(se,Object.assign({},t,{stories:e,title:n}))}}]),t}(u.a.Component),ce=Object(l.withStyles)(d.a)(oe);t.default=ce}}]);
//# sourceMappingURL=5.ca8e19a8.chunk.js.map