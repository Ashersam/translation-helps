(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,n){},353:function(e){e.exports=[{id:"gen",verseCount:1533,chapters:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26]},{id:"exo",verseCount:1213,chapters:[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38]},{id:"lev",verseCount:859,chapters:[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34]},{id:"num",verseCount:1288,chapters:[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13]},{id:"deu",verseCount:959,chapters:[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12]},{id:"jos",verseCount:658,chapters:[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33]},{id:"jdg",verseCount:618,chapters:[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25]},{id:"rut",verseCount:85,chapters:[22,23,18,22]},{id:"1sa",verseCount:810,chapters:[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13]},{id:"2sa",verseCount:695,chapters:[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25]},{id:"1ki",verseCount:816,chapters:[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53]},{id:"2ki",verseCount:719,chapters:[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30]},{id:"1ch",verseCount:942,chapters:[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30]},{id:"2ch",verseCount:822,chapters:[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23]},{id:"ezr",verseCount:280,chapters:[11,70,13,24,17,22,28,36,15,44]},{id:"neh",verseCount:406,chapters:[11,20,32,23,19,19,73,18,38,39,36,47,31]},{id:"est",verseCount:167,chapters:[22,23,15,17,14,14,10,17,32,3]},{id:"job",verseCount:1070,chapters:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17]},{id:"psa",verseCount:2461,chapters:[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6]},{id:"pro",verseCount:915,chapters:[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31]},{id:"ecc",verseCount:222,chapters:[18,26,22,16,20,12,29,17,18,20,10,14]},{id:"sng",verseCount:117,chapters:[17,17,11,16,16,13,13,14]},{id:"isa",verseCount:1292,chapters:[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24]},{id:"jer",verseCount:1364,chapters:[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34]},{id:"lam",verseCount:154,chapters:[22,22,66,22,22]},{id:"ezk",verseCount:1273,chapters:[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35]},{id:"dan",verseCount:357,chapters:[21,49,30,37,31,28,28,27,27,21,45,13]},{id:"hos",verseCount:197,chapters:[11,23,5,19,15,11,16,14,17,15,12,14,16,9]},{id:"jol",verseCount:73,chapters:[20,32,21]},{id:"amo",verseCount:146,chapters:[15,16,15,13,27,14,17,14,15]},{id:"oba",verseCount:21,chapters:[21]},{id:"jon",verseCount:48,chapters:[17,10,10,11]},{id:"mic",verseCount:105,chapters:[16,13,12,13,15,16,20]},{id:"nam",verseCount:47,chapters:[15,13,19]},{id:"hab",verseCount:56,chapters:[17,20,19]},{id:"zep",verseCount:53,chapters:[18,15,20]},{id:"hag",verseCount:38,chapters:[15,23]},{id:"zec",verseCount:211,chapters:[21,13,10,14,11,15,14,23,17,12,17,14,9,21]},{id:"mal",verseCount:55,chapters:[14,17,18,6]},{id:"mat",verseCount:1071,chapters:[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20]},{id:"mrk",verseCount:678,chapters:[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20]},{id:"luk",verseCount:1151,chapters:[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53]},{id:"jhn",verseCount:879,chapters:[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25]},{id:"act",verseCount:1007,chapters:[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31]},{id:"rom",verseCount:433,chapters:[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27]},{id:"1co",verseCount:437,chapters:[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24]},{id:"2co",verseCount:257,chapters:[24,17,18,18,21,18,16,24,15,18,33,21,14]},{id:"gal",verseCount:149,chapters:[24,21,29,31,26,18]},{id:"eph",verseCount:155,chapters:[23,22,21,32,33,24]},{id:"php",verseCount:104,chapters:[30,30,21,23]},{id:"col",verseCount:95,chapters:[29,23,25,18]},{id:"1th",verseCount:89,chapters:[10,20,13,18,28]},{id:"2th",verseCount:47,chapters:[12,17,18]},{id:"1ti",verseCount:113,chapters:[20,15,16,16,25,21]},{id:"2ti",verseCount:83,chapters:[18,26,17,22]},{id:"tit",verseCount:46,chapters:[16,15,15]},{id:"phm",verseCount:25,chapters:[25]},{id:"heb",verseCount:303,chapters:[14,18,19,16,14,20,28,13,28,39,40,29,25]},{id:"jas",verseCount:108,chapters:[27,26,18,17,20]},{id:"1pe",verseCount:105,chapters:[25,25,22,19,14]},{id:"2pe",verseCount:61,chapters:[21,22,18]},{id:"1jn",verseCount:105,chapters:[10,29,24,21,21]},{id:"2jn",verseCount:13,chapters:[13]},{id:"3jn",verseCount:15,chapters:[15]},{id:"jud",verseCount:25,chapters:[25]},{id:"rev",verseCount:404,chapters:[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21]}]},5641:function(e,t,n){e.exports=n(6200)},5646:function(e,t,n){},6200:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(45),c=n.n(o),s=(n(5646),n(26)),i=n(27),l=n(29),u=n(28),h=n(30),p=n(185),d=n.n(p),m=n(3),f=(n(188),n(344)),v=n.n(f),g=n(2),b=n(118),E=n(186),w=n.n(E),j=n(61),k=n.n(j),y=n(345),C=n.n(y),O=n(346),N=n(187),x=n.n(N),I=n(347),D=x.a.createInstance({driver:[x.a.INDEXEDDB],name:"web-cache"}),S=Object(I.setup)({baseURL:"https://d3r5pm83aa8hdu.cloudfront.net/",cache:{store:D,maxAge:9e5}}),T=function(e){return{ult:e+"_ult",tn:e+"-tn",ugl:e+"_ugl",ta:e+"-ta",tw:e+"-tw",ugnt:"UGNT"}},R=function(e,t){return new Promise(function(n,a){W(e,t,"manifest.yaml").then(function(e){var t=C.a.parseDocument(e).toJSON();n(t)}).catch(a)})},W=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"master";return new Promise(function(r,o){var c=k.a.join(e,t,"raw/branch",a,n);P(c).then(r).catch(o)})},P=function(e){return new Promise(function(t,n){S.get(e).then(function(e){t(e.data)}).catch(function(e){return console.warn(e)})})},L=function(e,t,n,a){return new Promise(function(r,o){var c=T(t).tn;A(e,c,n,a).then(function(e){var t=M(e);r(t)}).catch(o)})},A=function(e,t,n,a){return new Promise(function(r,o){var c=B(a.projects,n).path;c=c.replace(/^\.\//,""),W(e,t,c).then(r).catch(o)})},B=function(e,t){var n,a=e.filter(function(e){return e.identifier===t});return a.length>0&&(n=a[0]),n},M=function(e){return e.split("\n").map(function(e){return e.trim().split("\t")})},_=Object(m.withStyles)(function(e){return{paper:{color:"#fff",backgroundColor:"#31ADE3",textAlign:"center",boxShadow:"0px 1px 5px 0px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 3px 1px -2px rgba(0, 0, 0, 0.12)"},toolbar:{margin:"auto",display:"inline-flex",padding:"1em 0"},projectName:{paddingTop:"0.1em"}}},{withTheme:!0})(function(e){var t=e.classes,n=e.projectName,a=e.manifests,o=e.reference,c="";a&&a.ult&&a.ult.projects&&o.book&&(c=B(a.ult.projects,o.book).title);var s=c?r.a.createElement("span",null,"\xa0-\xa0",c," ",o.chapter):r.a.createElement("span",null);return r.a.createElement(v.a,null,r.a.createElement("div",{className:t.paper},r.a.createElement("div",{className:t.toolbar},r.a.createElement(g.t,{className:t.projectName,variant:"subheading",color:"inherit",noWrap:!0},n),r.a.createElement(g.t,{variant:"title",color:"inherit",className:t.coin,noWrap:!0},s))))}),z=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props;return r.a.createElement(_,Object.assign({},e,{projectName:"uW translationHelps"}))}}]),t}(r.a.Component),V=n(349),F=n.n(V),U=function(e){return{root:{},paper:{padding:2*e.spacing.unit},column:{maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},verse:{},fullWidth:{width:"100%"},expansionPanelDetails:{paddingLeft:0,paddingRight:0}}},J=n(12),q=Object(m.withStyles)(U)(function(e){var t=e.classes,n=e.summary,a=e.details;return r.a.createElement(g.i,{className:t.column},r.a.createElement(g.k,{expandIcon:r.a.createElement(J.g,null)},n),r.a.createElement(g.j,{className:t.expansionPanelDetails},r.a.createElement("div",{className:t.fullWidth},a)))}),G=n(350),H=n.n(G),K=n(351),Y=n.n(K),X=n(352),$=n.n(X),Q=function(e){return T(e).ta},Z=function(e){return T(e).tw},ee=function(e,t,n){return new Promise(function(a,r){switch(t){case"ta":(function(e,t){return new Promise(function(n,a){var r=t.split("/").splice(1).join("/")+"/title.md";W("unfoldingword",Q(e),r).then(n).catch(a)})})(e,n).then(a).catch(function(e){return console.log(e)});break;case"tw":(function(e,t){return new Promise(function(n,a){var r=t.split("/").splice(1).join("/")+".md";W("unfoldingword",Z(e),r).then(function(e){var t=e.split(/\n/)[0].replace(/#/g,"").trim();n(t)}).catch(a)})})(e,n).then(a).catch(function(e){return console.log(e)});break;default:var o="resourceId not configured: ".concat(e," - ").concat(t," - ").concat(n);console.log(o)}})},te=function(e,t,n){return new Promise(function(a,r){switch(t){case"ta":(function(e,t){return new Promise(function(n,a){var r=t.split("/").splice(1).join("/")+"/01.md";W("unfoldingword",Q(e),r).then(function(a){var r=t.split("/").splice(0,2).join("/");a=a.split("../").join("http://".concat(e,"/ta/").concat(r,"/")).split("/01.md").join("").split("rc://").join("http://"),n(a)}).catch(a)})})(e,n).then(a).catch(function(e){return console.log(e)});break;case"tw":(function(e,t){return new Promise(function(n,a){var r=t.split("/").splice(1).join("/")+".md";W("unfoldingword",Z(e),r).then(function(a){var r=t.split("/").splice(0,2).join("/");a=a.split("../").join("http://".concat(e,"/tw/").concat(r,"/")).split(".md").join("").split("rc://").join("http://"),n(a)}).catch(a)})})(e,n).then(a).catch(function(e){return console.log(e)});break;default:var o="resourceId not configured: ".concat(e," - ").concat(t," - ").concat(n);console.log(o)}})},ne=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={languageId:null,resourceId:null,path:null,title:null,article:null,open:null},n.handleOpen=function(){var e=n.state,t=e.languageId,a=e.resourceId,r=e.path,o=e.title;te(t,a,r).then(function(e){var t={title:o||r,text:e};n.props.addTab(t)})},n.handleClose=function(){n.setState({open:!1})},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"parseHref",value:function(e){var t,n,a,r=/http:\/\/([\w-_]+)\/([\w-_]+)\/(.+)/;if(r.test(e)){var o=r.exec(e),c=Object(b.a)(o,4);c[0],t=c[1],n=c[2],a=c[3]}else a=e;return{languageId:t,resourceId:n,path:a}}},{key:"componentWillMount",value:function(){var e=this.props,t=e.href,n=e.children,a=this.parseHref(t);a.title=n[0],this.setState(a)}},{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.languageId,a=t.resourceId,r=t.path;n&&a&&r&&ee(n,a,r).then(function(t){e.setState({title:t})})}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.path,a=this.props.classes;return r.a.createElement(g.e,{label:r.a.createElement(g.t,{noWrap:!0,component:"span"},t||n),component:"span",className:a.chip,classes:{label:a.label},onClick:this.handleOpen,clickable:!0})}}]),t}(r.a.Component),ae=Object(m.withStyles)(function(e){return{chip:{height:"unset",maxWidth:"95%"},label:{maxWidth:"94%"}}},{withTheme:!0})(ne),re=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={component:null},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.text,n=e.addTab,a={remarkReactComponents:{a:function(e){return r.a.createElement(ae,Object.assign({},e,{addTab:n}))},div:function(e){return r.a.createElement("div",Object.assign({},e,{style:{width:"100%"}}))}}},o=Y()().use($.a,a).processSync(t).contents;this.setState({component:o})}},{key:"render",value:function(){return this.state.component}}]),t}(r.a.Component),oe=Object(m.withStyles)(function(e){return{root:{width:"100%"},note:{marginTop:"0.5em",marginBottom:"0.5em"}}})(function(e){var t=e.classes,n=e.note,a=e.addTab,o=n.occurrence_note.replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,""),c=r.a.createElement(re,{text:o,addTab:a});return r.a.createElement("div",{className:t.root},r.a.createElement(g.h,null),r.a.createElement("div",{className:t.note},r.a.createElement("strong",null,n.gl_quote)," ",c))}),ce=Object(m.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject,n=e.senses;return r.a.createElement("div",null,r.a.createElement(g.t,null,r.a.createElement("span",null,r.a.createElement("strong",null,t.text||t.content)," -"),r.a.createElement("span",null," ",r.a.createElement("em",null,"lemma:")," ",t.lemma),r.a.createElement("span",null," ",r.a.createElement("em",null,"strong:")," ",t.strong)),n.map(function(e,t){return r.a.createElement(g.t,{key:t},r.a.createElement("sup",null,t+1),e.gloss?r.a.createElement("span",null," ",r.a.createElement("em",null,"Gloss:")," ",e.gloss):"",e.definition?r.a.createElement("span",null," ",r.a.createElement("em",null,"Definition:")," ",e.definition):"")}))}),se=T("en").ugl,ie=function(e){return new Promise(function(t,n){var a=k.a.join("content",e,"01.md");W("unfoldingword",se,a).then(function(e){var n=function(e){var t=[];return e.split(/##\s*Senses/)[1].split(/###\s*Sense/).splice(1).forEach(function(e){var n=/####\s*Definitions?.*?[\n\s]+(.*?)\n/,a=/####\s*Glosse?s?.*?[\n\s]+(.*?)\n/,r=n.test(e)?n.exec(e)[1]:null;r=/#/.test(r)?null:r;var o=a.test(e)?a.exec(e)[1]:null,c={definition:r,gloss:o=/#/.test(o)?null:o};t.push(c)}),le(t)}(e);t(n)}).catch(n)})},le=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e;return e.forEach(function(e){(t=t.filter(function(t){return!(e.gloss===t.gloss&&e.definition===t.definition)})).push(e)}),t},ue=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={senses:[]},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;ie(this.props.verseObject.strong).then(function(t){e.setState({senses:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement(ce,{verseObject:this.props.verseObject,senses:this.state.senses})}}]),t}(r.a.Component),he=Object(m.withStyles)(function(e){return{}},{withTheme:!0})(ue),pe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tabIndex:0,tabs:n.props.tabs},n.handleChange=function(e,t){n.setState({tabIndex:t})},n.handleChangeIndex=function(e){n.setState({tabIndex:e})},n.addTab=function(e){var t=n.state.tabs;t.push(e),n.setState({tabs:t,tabIndex:t.length-1})},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.languageId,o=this.state,c=o.tabs,s=o.tabIndex,i=[],l=[],u=0;return c.forEach(function(t,o){var c;if(t.text)u=0,c=r.a.createElement(re,{text:t.text,addTab:e.addTab.bind(e)});else if(t.notes)u=t.notes.length,c=t.notes.map(function(t,n){return r.a.createElement(oe,{key:n,note:t,addTab:e.addTab.bind(e)})});else if(t.ugnt){var h=t.ugnt.filter(function(e){return e.tw}).map(function(e){var t=[];return"word"===e.type&&t.push(e),e.children&&(t=t.concat(e.children)),{link:e.tw,greekWords:t}});u=h.length,c=h.map(function(t,n){var o=t.link.replace("rc://*/","http://".concat(a,"/")),c=t.greekWords.map(function(e,t){return r.a.createElement(he,{key:t,verseObject:e})}),s="".concat(o);return r.a.createElement("div",{key:n},r.a.createElement(g.h,null),r.a.createElement(re,{text:s,addTab:e.addTab.bind(e)}),c)})}var p=r.a.createElement(g.b,{className:n.padding,color:"primary",badgeContent:u},t.title);i.push(r.a.createElement(g.r,{key:i.length,label:u>0?p:t.title})),l.push(r.a.createElement("div",{key:l.length,className:o===s?n.tabContent:n.hidden},c))}),r.a.createElement("div",{className:n.root},r.a.createElement(g.a,{className:n.appBar,position:"sticky",color:"default"},r.a.createElement(g.s,{className:n.width,value:s,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",scrollable:!0,scrollButtons:"auto"},i)),r.a.createElement(H.a,{className:n.width,index:s,onChangeIndex:this.handleChangeIndex},l))}}]),t}(r.a.Component),de=Object(m.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},width:{width:"100%"},appBar:{width:"95%",zIndex:"10",margin:"auto"},hidden:{height:"0px"},padding:{padding:"0 ".concat(2*e.spacing.unit,"px")},tabContent:{padding:"0 ".concat(3*e.spacing.unit,"px")}}},{withTheme:!0})(pe),me=Object(m.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject,n="word"===t.type;return r.a.createElement("span",null,n?" ":"",t.text)}),fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handlePopoverOpen=function(e){n.setState({anchorEl:e.currentTarget})},n.handlePopoverClose=function(){n.setState({anchorEl:null})},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.children,a=e.greekWords,o=this.state.anchorEl,c=Boolean(o);return r.a.createElement("span",null,r.a.createElement("span",{"aria-owns":c?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:this.handlePopoverOpen,onMouseLeave:this.handlePopoverClose,className:c?t.open:t.closed},n.map(function(e,t){return r.a.createElement(me,{key:t,verseObject:e})})),r.a.createElement(g.q,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:c,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:this.handlePopoverClose,disableRestoreFocus:!0},a.map(function(e,t){return r.a.createElement(he,{key:t,verseObject:e})})))}}]),t}(r.a.Component),ve=Object(m.withStyles)(function(e){return{open:{backgroundColor:"lightgoldenrodyellow"},closed:{},popover:{pointerEvents:"none"},paper:{padding:e.spacing.unit}}},{withTheme:!0})(fe),ge=Object(m.withStyles)(function(e){return{root:{width:"100%"}}},{withTheme:!0})(function(e){e.classes;var t=e.verseObject,n=e.greekWords;return n.push(t),"milestone"===t.children[0].type?t.children.map(function(e,t){return r.a.createElement(be,{key:t,verseObject:e,greekWords:n})}):r.a.createElement(ve,{greekWords:n,children:t.children})}),be=Object(m.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject,n=e.greekWords;return"milestone"===t.type?r.a.createElement(ge,{verseObject:t,greekWords:n}):r.a.createElement(me,{verseObject:t})}),Ee=Object(m.withStyles)(U,{withTheme:!0})(function(e){var t=e.classes,n=e.languageId,a=e.verseKey,o=e.bookVerseData,c=e.ugntVerseData,s=e.translationNotesVerseData,i=o.verseObjects?o.verseObjects.map(function(e,t){return r.a.createElement(be,{key:t,verseObject:e,greekWords:[]})}):r.a.createElement("span",null),l=[];if(s){var u={title:"Notes",notes:s};l.push(u)}if(c){var h={title:"Words",ugnt:c.verseObjects};l.push(h)}var p=l.length>0?r.a.createElement(de,{languageId:n,tabs:l}):null;return r.a.createElement(q,{key:"verse"+a,summary:r.a.createElement("span",{className:t.verse},r.a.createElement("sup",null,a),i),details:p})}),we=Object(m.withStyles)(U)(function(e){e.classes;var t=e.languageId,n=e.chapterKey,a=e.bookChapterData,o=e.ugntChapterData,c=e.translationNotesChapterData,s=Object.keys(a).filter(function(e){var t=a[e].verseObjects.map(function(e){return e.text}).join("");return/\S+/g.test(t)}).map(function(e){return r.a.createElement(Ee,{key:e,verseKey:e,languageId:t,bookVerseData:a[e],ugntVerseData:o?o[e]:null,translationNotesVerseData:c[e]})}),i=[{title:"Chapter Notes",text:c.intro&&c.intro[0]?c.intro[0].occurrence_note.replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,""):""}];return[r.a.createElement(q,{key:"chapter"+n,summary:r.a.createElement("h2",null,"Chapter ",n),details:r.a.createElement(de,{languageId:t,tabs:i})})].concat(s)}),je=Object(m.withStyles)(U)(function(e){var t=e.classes,n=e.languageId,a=e.reference,o=e.bookData,c=e.ugntData,s=e.translationNotesData,i=a.chapter,l=r.a.createElement(we,{languageId:n,chapterKey:a.chapter,bookChapterData:o.chapters[i],ugntChapterData:c?c.chapters[i]:null,translationNotesChapterData:s[i]}),u=s.front.intro[0].occurrence_note,h=[{title:"Book Notes",text:u.split("\n").splice(1).join("\n").replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,"")}];return r.a.createElement("div",{className:t.root},r.a.createElement(q,{key:a.book+"intro",summary:r.a.createElement(F.a,{source:u.split("\n")[0],escapeHtml:!1}),details:r.a.createElement(de,{languageId:n,tabs:h})}),l)}),ke=n(353),ye=function(e){try{return Ce(e).chapters}catch(t){}},Ce=function(e){return ke.filter(function(t){return t.id===e})[0]},Oe=Object(m.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}},{withTheme:!0})(function(e){var t=e.classes,n=e.bookMetadata,a=e.reference,o=e.setReference,c=n.identifier,s=ye(c).length;return r.a.createElement(g.m,{button:!0,selected:a.book===n.identifier,className:t.bookListItem,style:{paddingLeft:"2.2em",paddingRight:"0.7em"},onClick:function(){o({book:c})}},r.a.createElement(g.n,{className:t.listItemIcon},a.book===n.identifier?r.a.createElement(J.a,null):r.a.createElement(J.b,null)),r.a.createElement(g.o,{className:t.listItemText,primary:n.title,secondary:s+" Chapters"}))}),Ne=Object(m.withStyles)(function(e){return{list:{paddingTop:0,paddingBottom:0},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}},{withTheme:!0})(function(e){var t=e.classes,n=e.testamentId,a=e.books,o=e.reference,c=e.setReference,s=e.open,i=e.toggle,l=a?a.map(function(e){return r.a.createElement(Oe,{key:e.identifier,bookMetadata:e,reference:o,setReference:c})}):[];return r.a.createElement("div",null,r.a.createElement(g.m,{button:!0,selected:s,className:t.fileList,style:{paddingLeft:"1em",paddingRight:"0.5em"},onClick:i},r.a.createElement(g.n,{className:t.listItemIcon},s?r.a.createElement(J.e,null):r.a.createElement(J.f,null)),r.a.createElement(g.o,{inset:!0,className:t.listItemText,primary:n,secondary:a.length+" Books"})),r.a.createElement(g.g,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(g.l,{dense:!0,className:t.list},l)))}),xe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this.props,t=this.state.open;return r.a.createElement(Ne,Object.assign({},e,{open:t,toggle:this.toggle.bind(this)}))}}]),t}(r.a.Component),Ie=Object(m.withStyles)(function(e){return{bible:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},bibleList:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=e.manifests,a=e.reference,o=e.setReference,c={},s=n.ult;return s&&s.projects.forEach(function(e){var t=e.categories.includes("bible-ot")?"Old Testament":"New Testament";c[t]||(c[t]=[]),c[t].push(e)}),r.a.createElement(g.p,{className:t.bible},r.a.createElement(g.l,{className:t.bible,component:"nav",dense:!0},r.a.createElement("div",{className:t.bibleList},Object.keys(c).map(function(e){return r.a.createElement(xe,{key:e,testamentId:e,books:c[e],reference:a,setReference:o})}))))}),De=Object(m.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}})(function(e){var t=e.classes,n=e.chapter,a=e.verses,o=e.reference,c=e.setReference;return r.a.createElement(g.m,{button:!0,selected:o.chapter===n,className:t.bookListItem,style:{paddingLeft:"2em",paddingRight:"0.7em"},onClick:function(){c({book:o.book,chapter:n})}},r.a.createElement(g.n,{className:t.listItemIcon},o.chapter===n?r.a.createElement(J.c,null):r.a.createElement(J.d,null)),r.a.createElement(g.o,{className:t.listItemText,primary:"Chapter "+n,secondary:a+" Verses"}))}),Se=Object(m.withStyles)(function(e){return{root:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},list:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=(e.bookData,e.reference),a=e.setReference,o=ye(n.book).map(function(e,t){return r.a.createElement(De,{key:t,chapter:t+1,verses:e,reference:n,setReference:a})});return r.a.createElement(g.p,{className:t.root},r.a.createElement(g.l,{className:t.root,component:"nav",dense:!0},r.a.createElement("div",{className:t.list},o)))}),Te=Object(m.withStyles)(function(e){return{root:{width:"100%"},progress:{margin:"auto",display:"block"}}})(function(e){var t=e.classes,n=e.bookData,a=e.ugntData,o=e.translationNotesData,c=(e.username,e.languageId),s=e.manifests,i=e.reference,l=e.setReference,u=r.a.createElement(Ie,{manifests:s,reference:i,setReference:l}),h=r.a.createElement(Se,{reference:i,setReference:l}),p=r.a.createElement(je,{languageId:c,reference:i,bookData:n,ugntData:a,translationNotesData:o}),d=r.a.createElement(g.f,{className:t.progress,color:"secondary",disableShrink:!0}),m=!i.book,f=!i.chapter,v=d;return m?v=u:f?v=h:!!n&&!!o&&(v=p),r.a.createElement("div",{className:t.root},v)}),Re=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={bookData:null,translationNotesData:null,ugntData:null},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"fetchResources",value:function(e){var t=this,n=e.username,a=e.languageId,r=e.reference,o=e.manifests;r.book?function(e,t,n,a){return new Promise(function(r,o){if(!B(a.projects,n)){var c="book not found in ult";console.warn(c),o(c)}var s=T(t).ult;A(e,s,n,a).then(function(e){var t=w.a.toJSON(e);r(t)}).catch(o)})}(n,a,r.book,o.ult).then(function(e){(function(e,t,n,a){return new Promise(function(r,o){L(e,t,n,a).then(function(e){var t={};e.shift(),e.forEach(function(e){var n=Object(b.a)(e,9),a=n[0],r=n[1],o=n[2],c=n[3],s=n[4],i=n[5],l=n[6],u=n[7],h=n[8];if(a&&r&&o){t[r]||(t[r]={}),t[r][o]||(t[r][o]=[]);var p={id:c,support_reference:s,original_quote:i,occurrence:l,gl_quote:u,occurrence_note:h.replace(/<br>/g,"\n")};t[r][o].push(p)}}),r(t)}).catch(o)})})(n,a,r.book,o.tn).then(function(c){(function(e,t,n,a){return new Promise(function(r,o){if(!B(a.projects,n)){var c="book not found in ugnt";console.warn(c),o(c)}var s=T(t).ugnt;A(e,s,n,a).then(function(e){var t=w.a.toJSON(e);r(t)}).catch(o)})})(n,a,r.book,o.ugnt).then(function(n){t.setState({bookData:e,translationNotesData:c,ugntData:n})}).catch(function(n){t.setState({bookData:e,translationNotesData:c,ugntData:null})})})}):this.setState({bookData:null,translationNotesData:null,ugntData:null})}},{key:"fetchResourcesConditionally",value:function(e){var t=e.reference.book!==this.props.reference.book,n=!this.state.bookData||t;Object.keys(e.manifests).length>0&&n&&this.fetchResources(e)}},{key:"componentWillReceiveProps",value:function(e){this.fetchResourcesConditionally(e)}},{key:"componentDidMount",value:function(){this.fetchResourcesConditionally(this.props)}},{key:"render",value:function(){var e=this.props,t=this.state,n=t.bookData,a=t.translationNotesData,o=t.ugntData;return r.a.createElement(Te,Object.assign({},e,{bookData:n,translationNotesData:a,ugntData:o}))}}]),t}(r.a.Component),We=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var a=n.props.reference;switch(t){case 1:a={};break;case 2:a={book:n.props.reference.book}}n.props.setReference(a)},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.reference,a=null;return n.book?n.chapter||(a=2):a=1,r.a.createElement(g.p,{className:t.root},r.a.createElement(g.c,{value:a,onChange:this.handleChange,showLabels:!0,className:t.root},r.a.createElement(g.d,{label:"Bookmarks",icon:r.a.createElement(J.e,null),disabled:!0}),r.a.createElement(g.d,{label:"Books",icon:r.a.createElement(J.a,null)}),r.a.createElement(g.d,{label:"Chapters",icon:r.a.createElement(J.c,null)})))}}]),t}(r.a.Component),Pe=Object(m.withStyles)(function(e){return{root:{width:"100%"}}},{withTheme:!0})(We),Le=Object(m.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{light:"#59B7E7",main:"#31ADE3",dark:"#014263",contrastText:"#FFF"}}}),Ae=Object(m.withStyles)(function(e){return{root:{flexGrow:1},appFrame:{zIndex:1,position:"relative",display:"flex",width:"100%"},main:{width:"100%",minWidth:"20em"},workspace:{padding:"1em 1em 5.5em 1em"},bottomNav:{width:"100%",position:"fixed",bottom:0,zIndex:10}}})(function(e){var t=e.classes,n=e.username,a=e.languageId,o=e.reference,c=e.manifests,s=e.setReference;return r.a.createElement(m.MuiThemeProvider,{theme:Le},r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.appFrame},r.a.createElement("main",{className:t.main},r.a.createElement(z,{username:n,languageId:a,manifests:c,reference:o,setReference:s}),r.a.createElement("div",{className:t.workspace},r.a.createElement(Re,{username:n,languageId:a,manifests:c,reference:o,setReference:s}))),r.a.createElement("nav",{className:t.bottomNav},r.a.createElement(Pe,{reference:o,setReference:s})))))}),Be=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"unfoldingWord",languageId:"en",manifests:{},reference:{}},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=d.a.get("ApplicationContainer.state.reference");e&&this.setState({reference:e})}},{key:"setReference",value:function(e){window.scrollTo(0,0),this.setState({reference:e}),d.a.set("ApplicationContainer.state.reference",e)}},{key:"componentDidMount",value:function(){var e=this,t=this.state;(function(e,t){return new Promise(function(n,a){var r={},o=T(t),c=Object.keys(o);Object(O.each)(c,function(t,n){var c=o[t];R(e,c).then(function(e){r[t]=e,n()}).catch(a)},function(e){e&&a(e),n(r)})})})(t.username,t.languageId).then(function(t){e.setState({manifests:t})})}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.languageId,a=e.reference,o=e.manifests;return r.a.createElement(Ae,{username:t,languageId:n,reference:a,setReference:this.setReference.bind(this),manifests:o})}}]),t}(r.a.Component),Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _e(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(window&&window.alert("Update is available, close the App and/or all tabs to get the latest."),t&&t.onUpdate&&t.onUpdate(e)):(window&&window.alert("The first load of a Book and Chapter may take longer to download the resources."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(Be,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/translation-helps",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/translation-helps","/service-worker.js");Me?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):_e(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):_e(t,e)})}}()}},[[5641,2,1]]]);
//# sourceMappingURL=main.7cf80056.chunk.js.map