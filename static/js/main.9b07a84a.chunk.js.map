{"version":3,"sources":["ApplicationHelpers.js","Workspace/Scripture/helpers.js","ApplicationBar/ApplicationBar.js","ApplicationBar/index.js","ApplicationBar/ApplicationBarContainer.js","Workspace/Resources/Resource.js","Workspace/styles.js","Workspace/Resources/index.js","Workspace/Resources/Resources.js","chaptersAndVerses.js","Workspace/Scripture/BookSelection/BookComponent.js","Workspace/Scripture/BookSelection/TestamentComponent.js","Workspace/Scripture/BookSelection/TestamentContainer.js","Workspace/Scripture/BookSelection/index.js","Workspace/Scripture/BookSelection/BibleComponent.js","Workspace/Scripture/ChapterSelection/ChapterComponent.js","Workspace/Scripture/ChapterSelection/index.js","Workspace/Scripture/ChapterSelection/ChaptersComponent.js","Workspace/Scripture/ScriptureView/ExpansionPanelComponent.js","Workspace/Scripture/ScriptureView/ExpansionPanelContainer.js","Workspace/TranslationHelps/TranslationAcademy/helpers.js","Workspace/TranslationHelps/TranslationWords/helpers.js","Workspace/TranslationHelps/helpers.js","Workspace/TranslationHelps/RCLinkContainer.js","Workspace/TranslationHelps/TextComponentWithRCLinks.js","Workspace/TranslationHelps/TranslationNotes/index.js","Workspace/TranslationHelps/TranslationNotes/TranslationNoteComponent.js","Workspace/Scripture/ScriptureView/OriginalWord/OriginalWordComponent.js","Workspace/Scripture/ScriptureView/OriginalWord/helpers.js","Workspace/Scripture/ScriptureView/OriginalWord/OriginalWordContainer.js","Workspace/Scripture/ScriptureView/OriginalWord/index.js","Workspace/TranslationHelps/styles.js","Workspace/TranslationHelps/TranslationHelpsComponent.js","Workspace/TranslationHelps/index.js","Workspace/TranslationHelps/TranslationHelpsContainer.js","Workspace/Scripture/ScriptureView/Verse/TextComponent.js","Workspace/Scripture/ScriptureView/Verse/OriginalWordsContainer.js","Workspace/Scripture/ScriptureView/Verse/MilestoneComponent.js","Workspace/Scripture/ScriptureView/Verse/VerseObjectComponent.js","Workspace/Scripture/ScriptureView/Verse/index.js","Workspace/Scripture/ScriptureView/Verse/VerseComponent.js","Workspace/TranslationHelps/Original/helpers.js","Workspace/Scripture/ScriptureView/ChapterComponent.js","Workspace/Scripture/ScriptureView/index.js","Workspace/Scripture/ScriptureView/BookComponent.js","Workspace/Scripture/Scripture.js","Workspace/Scripture/index.js","Workspace/Scripture/Container.js","Workspace/OpenBibleStories/StorySelection/StoryComponent.js","Workspace/OpenBibleStories/StorySelection/index.js","Workspace/OpenBibleStories/StorySelection/StoriesComponent.js","Workspace/OpenBibleStories/youtubeIds.js","Workspace/OpenBibleStories/helpers.js","Workspace/OpenBibleStories/OpenBibleStoriesView/Frame/Component.js","Workspace/OpenBibleStories/translationHelps/helpers.js","Workspace/OpenBibleStories/OpenBibleStoriesView/Frame/index.js","Workspace/OpenBibleStories/OpenBibleStoriesView/Frame/Container.js","Workspace/OpenBibleStories/OpenBibleStoriesView/index.js","Workspace/OpenBibleStories/OpenBibleStoriesView/Story.js","Workspace/OpenBibleStories/Component.js","Workspace/OpenBibleStories/Container.js","Workspace/OpenBibleStories/index.js","Workspace/Workspace.js","Workspace/index.js","Workspace/WorkspaceContainer.js","BottomNav/BottomNavContainer.js","BottomNav/index.js","Application.js","ApplicationContainer.js","serviceWorker.js","index.js"],"names":["store","localforage","createInstance","driver","INDEXEDDB","name","api","setup","baseURL","cache","maxAge","resourceRepositories","languageId","ult","tn","ta","tw","ugnt","uhb","ugl","uhal","obs","obs-tn","obs-tq","fetchManifest","username","repository","Promise","resolve","reject","fetchFileFromServer","then","yaml","json","YAML","parseDocument","toJSON","catch","filepath","branch","arguments","length","undefined","uri","path","join","get","response","data","error","fetchBook","bookId","manifest","projectByBookId","projects","console","warn","ApplicationHelpers","fetchFileByBookId","usfm","usfmjs","fetchOriginalBook","uhbManifest","ugntManifest","uhbProject","ugntProject","repositories","translationNotes","fetchNotes","array","translationNotesObject","shift","forEach","item","_item","Object","slicedToArray","book","chapter","verse","id","support_reference","original_quote","occurrence","gl_quote","occurrence_note","object","replace","push","tsv","tsvParse","project","_projects","filter","identifier","split","map","row","trim","withStyles","theme","paper","color","backgroundColor","textAlign","boxShadow","toolbar","margin","display","padding","projectName","paddingTop","withTheme","_ref","classes","manifests","_ref$context","context","resourceId","reference","bookName","ScriptureHelpers","title","referenceComponent","react_default","a","createElement","dist_default","className","index_es","variant","noWrap","coin","ApplicationBarContainer","state","props","this","src_ApplicationBar_ApplicationBar","assign","React","Component","card","minWidth","marginBottom","fontSize","pos","actions","width","button","marginLeft","_ref$manifest$dublin_","dublin_core","subject","description","rights","publisher","language","contributors","setContext","gutterBottom","component","size","onClick","styles","root","spacing","unit","column","maxWidth","marginRight","fullWidth","expansionPanelDetails","paddingLeft","paddingRight","paddingBottom","expansionPanelActions","Resources","resources","keys","includes","Resources_Resource","key","chaptersInBook","bookData","chapters","_unused","bookListItem","listItemIcon","listItemText","bookMetadata","chapterCount","chaptersAndVerses","selected","style","icons_index_es","primary","secondary","list","testamentId","books","open","toggle","bookComponents","BookSelection_BookComponent","fileList","inset","in","timeout","unmountOnExit","dense","TestamentContainer","setState","BookSelection_TestamentComponent","bind","BibleComponent","bible","height","bibleList","overflowY","categories","BookSelection_TestamentContainer","verses","ChaptersComponent","index","ChapterSelection_ChapterComponent","summary","details","handleToggle","handleClose","expanded","onChange","expandIcon","position","top","aria-label","ExpansionContainer","Math","random","_this","scrollToId","element","document","getElementById","scrollIntoView","behavior","block","_this$state","ScriptureView_ExpansionPanelComponent","fetchTitle","linkPath","uriPath","splice","TranslationAcademyHelpers","log","markdown","TranslationWordsHelpers","message","concat","fetchArticle","article","prefix","RCLinkContainer","handleOpen","_this$state$context","helpers","tab","text","addTab","href","regexpLanguageIdResourcePath","test","match","exec","_match2","regexpReference","_match5","parseInt","_this$props","children","parseHref","_this2","_this$state2","_this$state2$context","_this$state3","label","chip","clickable","TextComponentWithRCLinks","options","remarkReactComponents","TranslationHelps_RCLinkContainer","div","remark","use","remark2react","processSync","contents","TranslationNoteComponent","note","marginTop","noteComponent","TranslationHelps_TextComponentWithRCLinks","verseObject","senses","content","lemma","strong","sense","gloss","definition","lexiconMarkdown","senseSection","definitionRegexp","glossRegexp","unique","parseSenses","_array","_object","OriginalWordsContainer","OriginalWord_OriginalWordComponent","OriginalWordContainer","palette","background","appBar","zIndex","hidden","tabContent","tabs","tabIndex","handleChangeIndex","tabLabels","tabContents","badgeCount","notes","TranslationNotes","original","wordObjects","wordObject","link","originalWords","OriginalWord","words","word","iframe","badge","badgeContent","value","indicatorColor","textColor","scrollable","scrollButtons","react_swipeable_views_lib_default","onChangeIndex","TranslationHelpsContainer","_index","__index","TranslationHelps_TranslationHelpsComponent","isWord","type","anchorEl","handlePopoverOpen","event","currentTarget","handlePopoverClose","Boolean","aria-owns","aria-haspopup","onMouseEnter","onMouseLeave","closed","Verse_TextComponent","popover","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","pointerEvents","child","Verse_VerseObjectComponent","Verse_OriginalWordsContainer","Verse_MilestoneComponent","VerseComponent","verseKey","bookVerseData","originalVerseData","translationNotesVerseData","verseObjects","notesTab","originalHelpers","wordsTab","TranslationHelps","ExpansionPanelContainer","bookChapterData","originalChapterData","translationNotesChapterData","o","Verse","BookComponent","_ref$resources","chapterComponent","ScriptureView_ChapterComponent","intro","react_markdown_default","source","escapeHtml","progress","referenceLoaded","bookSelection","BookSelection","chapterSelection","ChapterSelection","scriptureView","ScriptureView","disableShrink","shouldShowBookSelection","shouldShowChapterSelection","shouldShowScriptureView","Container","nextProps","referenceChanged","needToFetch","_props$context","each","done","fetchResourcesConditionally","_this$props$context$r","Workspace_Scripture_Scripture","storyKey","frames","StoriesComponent","stories","components","_storyKey","StorySelection_StoryComponent","youtubeIds","frameData","frameMarkdown","imageRegexp","_imageRegexp$exec","_imageRegexp$exec2","image","fetchStory","storyId","numberPadded","storyMarkdown","framesFromStory","media","maxHeight","handleToggleOpen","frameKey","helps","questions","questionsTab","youtubeId","videoTab","src","frameborder","allow","allowfullscreen","_text","disableActionSpacing","aria-expanded","fetchQuestions","file","pad","parseQuestionsMarkdown","fetchNotesAndWords","parseNotesMarkdown","number","questionItem","_questionItem$split","_questionItem$split2","toArray","questionText","answerLines","slice","_markdown$split","_markdown$split2","notesMarkdown","wordsMarkdown","noteText","_noteText$split","_noteText$split2","quote","noteLines","_this$props$context","translationHelps","Story","story","_story$frameKey","OpenBibleStoriesView_Frame","shouldShowStorySelection","shouldShowOpenBibleStoriesView","StorySelection","OpenBibleStoriesView","OpenBibleStoriesContainer","storyIds","toConsumableArray","Array","OpenBibleStories_Component","Workspace_Resources","scripture","Workspace_Scripture","openBibleStories","OpenBibleStories","shouldShowResources","shouldShowScripture","shouldShowOpenBibleStories","WorkspaceContainer","src_Workspace_Workspace","BottomNavContainer","handleChange","_this$props2","couldShowReference","couldShowBook","couldShowChapter","showLabels","icon","createMuiTheme","typography","useNextVariants","light","main","dark","contrastText","flexGrow","appFrame","workspace","bottomNav","bottom","src_ApplicationBar","src_Workspace","BottomNav","ApplicationContainer","localstorage","keyPrefix","window","scrollTo","set","_resourceRepositories","resourceIds","src_Application_0","location","hostname","ReactDOM","render","src_ApplicationContainer","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9b07a84a.chunk.js","sourcesContent":["import path from 'path';\nimport YAML from 'yaml';\nimport {each} from 'async';\nimport localforage from 'localforage';\nimport { setup } from 'axios-cache-adapter';\n\nconst baseURL = \"https://d3r5pm83aa8hdu.cloudfront.net/\";\n\nconst store = localforage.createInstance({\n  driver: [localforage.INDEXEDDB],\n  name: 'web-cache',\n});\nconst api = setup({\n  baseURL: baseURL,\n  cache: {store, maxAge: 24 * 60 * 60 * 1000},\n});\n\n// Purpose: application wide\n// Scope: limited to resource manifests and information\n\nexport const username = 'unfoldingword';\nexport const resourceRepositories = (languageId) => {\n  return {\n    ult: languageId + '_ult',\n    tn: languageId + '-tn',\n    ta: languageId + '-ta',\n    tw: languageId + '-tw',\n    ugnt: 'UGNT',\n    uhb: 'UHB',\n    ugl: languageId + '_ugl',\n    uhal: languageId + '_uhal',\n    obs: languageId + '_obs',\n    'obs-tn': languageId + '_obs-tn',\n    'obs-tq': languageId + '_obs-tq',\n  };\n};\n\nexport const fetchResourceManifests = (username, languageId) => new Promise((resolve, reject) => {\n  let manifests = {};\n  const _resourceRepositories = resourceRepositories(languageId);\n  const resourceIds = Object.keys(_resourceRepositories);\n  each(\n    resourceIds,\n    (resourceId, done) => {\n      const repository = _resourceRepositories[resourceId];\n      fetchManifest(username, repository)\n      .then(manifest => {\n        manifests[resourceId] = manifest;\n        done();\n      }).catch(reject);\n    },\n    (error) => {\n      if (error) reject(error);\n      resolve(manifests);\n    }\n  );\n});\n\nexport const fetchManifest = (username, repository) => new Promise((resolve, reject) => {\n  fetchFileFromServer(username, repository, 'manifest.yaml')\n  .then(yaml => {\n    const json = YAML.parseDocument(yaml).toJSON();\n    resolve(json);\n  }).catch(reject);\n});\n\n// https://git.door43.org/unfoldingword/en_ult/raw/branch/master/manifest.yaml\nexport const fetchFileFromServer = (username, repository, filepath, branch='master') => new Promise((resolve, reject) => {\n  const uri = path.join(username, repository, 'raw/branch', branch, filepath);\n  get(uri).then(resolve).catch(reject);\n});\n\nexport const get = (uri) => new Promise((resolve, reject) => {\n  api.get(uri).then(response => {\n    resolve(response.data);\n  }).catch(error => {\n    reject(error);\n  });\n});\n","import usfmjs from 'usfm-js';\nimport {each} from 'async';\n\n// Purpose: application wide\n// Scope: limited to resource files and parsing\n// Notes: pass in manifests don't fetch them\n\nimport * as ApplicationHelpers from '../../ApplicationHelpers';\n\nexport const fetchResources = (props) => new Promise((resolve, reject) => {\n  const {context: {username, languageId, reference}, manifests} = props;\n  let resources = {\n    ult: null,\n    tn: null,\n    original: null,\n  };\n  const resourceIds = ['ult', 'tn', 'original'];\n  each(resourceIds,\n    (resourceId, done) => {\n      switch (resourceId) {\n        case 'ult':\n          fetchBook(username, languageId, reference.bookId, manifests.ult)\n          .then(data => {\n            resources[resourceId] = data.chapters;\n            done();\n          });\n          break;\n        case 'tn':\n          translationNotes(username, languageId, reference.bookId, manifests.tn)\n          .then(data => {\n            resources[resourceId] = data;\n            done();\n          });\n          break;\n        case 'original':\n          fetchOriginalBook(username, languageId, reference.bookId, manifests.uhb, manifests.ugnt)\n          .then(data => {\n            resources[resourceId] = data.chapters;\n            done();\n          });\n          break;\n        default:\n          done();\n          break;\n      }\n    },\n    (error) => {\n      resolve(resources);\n    }\n  );\n});\n\nexport const fetchBook = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  if (!projectByBookId(manifest.projects, bookId)) {\n    const error = 'book not found in ult';\n    console.warn(error);\n    reject(error);\n  }\n  const repository = ApplicationHelpers.resourceRepositories(languageId).ult;\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(usfm => {\n    const json = usfmjs.toJSON(usfm);\n    resolve(json);\n  }).catch(reject);\n});\n\nexport const fetchOriginalBook = (username, languageId, bookId, uhbManifest, ugntManifest) => new Promise((resolve, reject) => {\n  let manifest, repository;\n  const uhbProject = projectByBookId(uhbManifest.projects, bookId);\n  const ugntProject = projectByBookId(ugntManifest.projects, bookId);\n  const repositories = ApplicationHelpers.resourceRepositories(languageId);\n  if (uhbProject) {\n    manifest = uhbManifest;\n    repository = repositories.uhb;\n  };\n  if (ugntProject) {\n    manifest = ugntManifest;\n    repository = repositories.ugnt;\n  };\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(usfm => {\n    const json = usfmjs.toJSON(usfm);\n    resolve(json);\n  }).catch(reject);\n});\n\nexport const fetchUGNTBook = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  const repository = ApplicationHelpers.resourceRepositories(languageId).ugnt;\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(usfm => {\n    const json = usfmjs.toJSON(usfm);\n    resolve(json);\n  }).catch(reject);\n});\n\nexport const fetchUHBBook = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  const repository = ApplicationHelpers.resourceRepositories(languageId).uhb;\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(usfm => {\n    const json = usfmjs.toJSON(usfm);\n    resolve(json);\n  }).catch(reject);\n});\n\nexport const translationNotes = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  fetchNotes(username, languageId, bookId, manifest)\n  .then(array => {\n    let translationNotesObject = {};\n    array.shift();\n    array.forEach(item => {\n      let [book, chapter, verse, id, support_reference, original_quote, occurrence, gl_quote, occurrence_note] = item;\n      if (book && chapter && verse) {\n        if (!translationNotesObject[chapter]) translationNotesObject[chapter] = {};\n        if (!translationNotesObject[chapter][verse]) translationNotesObject[chapter][verse] = [];\n        occurrence_note = (!!occurrence_note) ? occurrence_note.replace(/<br>/g,'\\n') : occurrence_note;\n        let object = {\n          id,\n          support_reference,\n          original_quote,\n          occurrence,\n          gl_quote,\n          occurrence_note,\n        };\n        translationNotesObject[chapter][verse].push(object);\n      }\n    });\n    resolve(translationNotesObject);\n  }).catch(reject);\n})\n\nexport const fetchNotes = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  const repository = ApplicationHelpers.resourceRepositories(languageId).tn;\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(tsv => {\n    const data = tsvParse(tsv);\n    resolve(data);\n  }).catch(reject);\n});\n\nexport const fetchFileByBookId = (username, repository, bookId, manifest) => new Promise((resolve, reject) => {\n  let {path} = projectByBookId(manifest.projects, bookId);\n  path = path.replace(/^\\.\\//, '');\n  ApplicationHelpers.fetchFileFromServer(username, repository, path)\n  .then(resolve).catch(reject);\n});\n\nexport const projectByBookId = (projects, bookId) => {\n  const _projects = projects.filter(item => item.identifier === bookId);\n  let project;\n  if (_projects.length > 0) {\n    project = _projects[0];\n  }\n  return project;\n}\n\nexport const tsvParse = (tsv) =>\n  tsv.split('\\n').map(row => row.trim().split('\\t'));\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Headroom from 'react-headroom';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport * as ScriptureHelpers from '../Workspace/Scripture/helpers';\n\nconst ApplicationBar = ({\n  classes,\n  projectName,\n  manifests,\n  context: {\n    resourceId,\n    reference\n  },\n}) => {\n\n  let bookName = '';\n\n  if (manifests && manifests[resourceId] && manifests[resourceId].projects && reference && reference.bookId) {\n    const project = ScriptureHelpers.projectByBookId(manifests[resourceId].projects, reference.bookId);\n    bookName = project.title;\n  }\n  const referenceComponent = (bookName ? <span>&nbsp;-&nbsp;{bookName} {reference.chapter}</span> : <span />);\n\n  return (\n    <Headroom>\n      <div className={classes.paper}>\n        <div className={classes.toolbar}>\n          <Typography className={classes.projectName} variant=\"subheading\" color=\"inherit\" noWrap>\n            {projectName}\n          </Typography>\n          <Typography variant=\"title\" color=\"inherit\" className={classes.coin} noWrap>\n            {referenceComponent}\n          </Typography>\n        </div>\n      </div>\n    </Headroom>\n  );\n}\n\nApplicationBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  projectName: PropTypes.string.isRequired,\n};\n\nconst styles = theme => ({\n  paper: {\n    color: '#fff',\n    backgroundColor: '#31ADE3',\n    textAlign: 'center',\n    boxShadow: '0px 1px 5px 0px rgba(0, 0, 0, 0.2),' +\n               '0px 2px 2px 0px rgba(0, 0, 0, 0.14),' +\n               '0px 3px 1px -2px rgba(0, 0, 0, 0.12)',\n  },\n  toolbar: {\n    margin: 'auto',\n    display: 'inline-flex',\n    padding: '1em 0',\n  },\n  projectName: {\n    paddingTop: '0.1em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(ApplicationBar);\n","import ApplicationBarContainer from './ApplicationBarContainer';\nexport default ApplicationBarContainer;\n","import React from 'react';\nimport ApplicationBar from './ApplicationBar';\n\nconst projectName = 'uW translationHelps';\n\nclass ApplicationBarContainer extends React.Component {\n  state = {\n  };\n\n  render() {\n    const {props} = this;\n    return (\n      <ApplicationBar\n        {...props}\n        projectName={projectName}\n      />\n    );\n  };\n}\nexport default ApplicationBarContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  Button,\n  Typography,\n} from '@material-ui/core';\n\nconst Resource = ({\n  classes,\n  manifest,\n  manifest: {\n    dublin_core: {\n      identifier,\n      subject,\n      title,\n      description,\n      publisher,\n      language,\n      rights,\n      contributors,\n    }\n  },\n  context: {\n    username,\n    languageId,\n  },\n  setContext,\n}) => {\n  return (\n    <Card className={classes.card}>\n      <CardContent>\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n          {subject}\n        </Typography>\n        <Typography variant=\"h5\" component=\"h2\">\n          {title}\n        </Typography>\n        <Typography className={classes.pos} color=\"textSecondary\">\n          {rights}\n        </Typography>\n        <Typography component=\"p\">\n          {description}\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.actions}>\n        <Button\n          size=\"small\"\n          variant=\"contained\"\n          className={classes.button}\n          color=\"primary\"\n          onClick={() => {\n            let context = {username, languageId, resourceId: identifier, reference: {}};\n            setContext(context);\n          }}\n        >\n          Open\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n\nResource.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst styles = {\n  card: {\n    minWidth: 275,\n    marginBottom: '1em',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  actions: {\n    width: '100%',\n    textAlign: 'right',\n  },\n  button: {\n    marginLeft: 'auto',\n  },\n};\n\nexport default withStyles(styles)(Resource);\n","export const styles = theme => ({\n  root: {\n  },\n  paper: {\n    padding: theme.spacing.unit * 2,\n  },\n  column: {\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  verse: {\n    margin: 0,\n  },\n  fullWidth: {\n    width: '100%'\n  },\n  expansionPanelDetails: {\n    paddingLeft: 0,\n    paddingRight: 0,\n    paddingBottom: 0,\n  },\n  expansionPanelActions: {\n    padding: 0,\n  },\n});\n\nexport default styles;\n","import Resources from './Resources';\nexport default Resources;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Resource from './Resource';\nimport styles from '../styles';\n\nexport const Resources = ({\n  classes,\n  context,\n  setContext,\n  manifests,\n}) => {\n  const resources = Object.keys(manifests)\n  .filter(resourceId => ['ult','obs'].includes(resourceId));\n  \n  return (\n    <div className={classes.column}>\n      {resources.map(resourceId => (\n        <Resource\n          key={resourceId}\n          context={context}\n          setContext={setContext}\n          manifest={manifests[resourceId]}\n        />\n      ))}\n    </div>\n  );\n};\n\nResources.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Resources);\n","import data from './chaptersAndVerses.json';\n\nexport const chaptersInBook = bookId => {\ntry {\n  const chapters = bookData(bookId).chapters;\n  return chapters;\n} catch {debugger}\n}\n\nexport const versesInChapter = (bookId, chapter) => {\n  const verses = chaptersInBook([chapter - 1]);\n  return verses;\n}\n\nexport const bookData = bookId => {\n  const _bookData = data.filter(row => row.id === bookId)[0];\n  return _bookData;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Book,\n  BookOutlined,\n} from '@material-ui/icons';\n\nimport * as chaptersAndVerses from '../../../chaptersAndVerses';\n\nexport const BookComponent = ({\n  classes,\n  bookMetadata,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) => {\n  const bookId = bookMetadata.identifier;\n  const chapterCount = chaptersAndVerses.chaptersInBook(bookId).length;\n  return (\n    <ListItem\n      button\n      selected={reference.bookId === bookMetadata.identifier}\n      className={classes.bookListItem}\n      style={{\n        paddingLeft: '2.2em',\n        paddingRight: '0.7em',\n      }}\n      onClick={() => {\n        context.reference = {\n          bookId: bookId\n        }\n        setContext(context);\n      }}\n    >\n      <ListItemIcon className={classes.listItemIcon}>\n        {\n          (reference.bookId === bookMetadata.identifier) ?\n          <Book /> :\n          <BookOutlined />\n        }\n      </ListItemIcon>\n      <ListItemText\n        className={classes.listItemText}\n        primary={bookMetadata.title}\n        secondary={chapterCount + ' Chapters' }\n      />\n    </ListItem>\n  );\n}\n\nBookComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  bookMetadata: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(BookComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Collapse,\n} from '@material-ui/core';\nimport {\n  Bookmarks,\n  BookmarksOutlined,\n} from '@material-ui/icons';\n\nimport BookComponent from './BookComponent';\n\nexport const TestamentComponent = ({\n  classes,\n  testamentId,\n  books,\n  context,\n  setContext,\n  open,\n  toggle\n}) => {\n  const bookComponents = books ?\n    books.map((bookMetadata) =>\n      <BookComponent\n        key={bookMetadata.identifier}\n        bookMetadata={bookMetadata}\n        context={context}\n        setContext={setContext}\n      />\n    ) : [];\n\n  return (\n    <div>\n      <ListItem\n        button\n        selected={open}\n        className={classes.fileList}\n        style={{\n          paddingLeft: '1em',\n          paddingRight: '0.5em',\n        }}\n        onClick={toggle}\n      >\n        <ListItemIcon className={classes.listItemIcon}>\n          {\n            open ?\n            <Bookmarks /> :\n            <BookmarksOutlined />\n          }\n        </ListItemIcon>\n        <ListItemText\n          inset\n          className={classes.listItemText}\n          primary={testamentId}\n          secondary={books.length + ' Books'}\n        />\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <List dense className={classes.list}>\n          {bookComponents}\n        </List>\n      </Collapse>\n    </div>\n  );\n}\n\nTestamentComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  testamentId: PropTypes.string.isRequired,\n  books: PropTypes.array.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n}\nconst styles = theme => ({\n  list: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(TestamentComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TestamentComponent from './TestamentComponent';\n\nclass TestamentContainer extends React.Component {\n  state = {\n    open: false,\n  };\n\n  toggle() {\n    this.setState({\n      open: !this.state.open\n    })\n  };\n\n  render() {\n    const props = this.props;\n    const {open} = this.state;\n    return (\n      <TestamentComponent\n        {...props}\n        open={open}\n        toggle={this.toggle.bind(this)}\n      />\n    );\n  };\n};\n\nTestamentContainer.propTypes = {\n  testamentId: PropTypes.string.isRequired,\n  books: PropTypes.array.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n}\n\nexport default TestamentContainer;\n","import BibleComponent from './BibleComponent'\nexport default BibleComponent\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport TestamentContainer from './TestamentContainer';\n\nexport const BibleComponent = ({classes, manifests, context, setContext}) => {\n  let bible = {};\n  const {ult} = manifests;\n  if (ult) {\n    ult.projects.forEach(project => {\n      const testamentId = project.categories.includes('bible-ot') ? 'Old Testament': 'New Testament';\n      if (!bible[testamentId]) bible[testamentId] = [];\n      bible[testamentId].push(project);\n    });\n  }\n  return (\n    <Paper className={classes.bible}>\n      <List\n        className={classes.bible}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.bibleList}>\n          {\n            Object.keys(bible).map(testamentId =>\n              <TestamentContainer\n                key={testamentId}\n                testamentId={testamentId}\n                books={bible[testamentId]}\n                context={context}\n                setContext={setContext}\n              />\n            )\n          }\n        </div>\n      </List>\n    </Paper>\n    )\n}\n\nBibleComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  bible: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  bibleList: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(BibleComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Bookmark,\n  BookmarkBorder,\n} from '@material-ui/icons';\n\nexport const ChapterComponent = ({\n  classes,\n  chapter,\n  verses,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) =>\n  <ListItem\n    button\n    selected={reference.chapter === chapter}\n    className={classes.bookListItem}\n    style={{\n      paddingLeft: '2em',\n      paddingRight: '0.7em',\n    }}\n    onClick={() => {\n      context.reference = {\n        bookId: reference.bookId,\n        chapter,\n      };\n      setContext(context);\n    }}\n  >\n    <ListItemIcon className={classes.listItemIcon}>\n      {\n        (reference.chapter === chapter) ?\n        <Bookmark /> :\n        <BookmarkBorder />\n      }\n    </ListItemIcon>\n    <ListItemText\n      className={classes.listItemText}\n      primary={'Chapter ' + chapter}\n      secondary={verses + ' Verses' }\n    />\n  </ListItem>\n\nChapterComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  chapter: PropTypes.number.isRequired,\n  verses: PropTypes.number.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles)(ChapterComponent);\n","import ChaptersComponent from './ChaptersComponent'\nexport default ChaptersComponent\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport ChapterComponent from './ChapterComponent';\n\nimport * as chaptersAndVerses from '../../../chaptersAndVerses';\n\nexport const ChaptersComponent = ({\n  classes,\n  bookData,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) => {\n  const chapters = chaptersAndVerses.chaptersInBook(reference.bookId)\n  .map((verses, index) =>\n    <ChapterComponent\n      key={index}\n      chapter={index+1}\n      verses={verses}\n      context={context}\n      setContext={setContext}\n    />\n  );\n\n  return (\n    <Paper className={classes.root}>\n      <List\n        className={classes.root}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.list}>\n          {chapters}\n        </div>\n      </List>\n    </Paper>\n  );\n};\n\nChaptersComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  list: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(ChaptersComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n  ExpansionPanelActions,\n  IconButton,\n} from '@material-ui/core';\nimport {\n  ExpandMore,\n  ExpandLess,\n} from '@material-ui/icons';\n\nimport styles from '../../styles';\n\nexport const ExpansionPanelComponent = ({\n  classes,\n  summary,\n  details,\n  id,\n  open,\n  handleToggle,\n  handleClose\n}) => {\n  return (\n    <ExpansionPanel expanded={open} className={classes.column} onChange={handleToggle}>\n      <ExpansionPanelSummary expandIcon={<ExpandMore />}>\n        <span id={id} style={{position: 'absolute', top: '-5em'}}></span>\n        {summary}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n      {\n        open ?\n          <div className={classes.fullWidth}>\n            {details}\n          </div>\n        : ''\n      }\n      </ExpansionPanelDetails>\n      <ExpansionPanelActions className={classes.expansionPanelActions}>\n        <IconButton\n          className={classes.button}\n          aria-label=\"Close\"\n          onClick={handleClose}\n        >\n          <ExpandLess />\n        </IconButton>\n      </ExpansionPanelActions>\n    </ExpansionPanel>\n  );\n};\n\nExpansionPanelComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  summary: PropTypes.object.isRequired,\n  details: PropTypes.object,\n  open: PropTypes.bool.isRequired,\n  id: PropTypes.number.isRequired,\n  handleToggle: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(ExpansionPanelComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n} from '@material-ui/core';\n\nimport ExpansionPanelComponent from './ExpansionPanelComponent';\n\nclass ExpansionContainer extends React.Component {\n  state = {\n    id: Math.random(),\n    open: false,\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n    this.scrollToId(this.state.id);\n  };\n\n  handleToggle = () => {\n    this.setState({ open: !this.state.open });\n    this.scrollToId(this.state.id);\n  };\n\n  scrollToId = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  render() {\n    const {props} = this;\n    const {open, id} = this.state;\n    return (\n      <ExpansionPanelComponent\n        {...props}\n        id={id}\n        open={open}\n        handleClose={this.handleClose.bind(this)}\n        handleToggle={this.handleToggle.bind(this)}\n      />\n    )\n  }\n}\n\nExpansionContainer.propTypes = {\n  summary: PropTypes.object.isRequired,\n  details: PropTypes.object,\n};\n\nexport default ExpansionContainer;\n","import * as ApplicationHelpers from '../../../ApplicationHelpers';\n\nconst username = ApplicationHelpers.username;\nconst repository = (languageId) => ApplicationHelpers.resourceRepositories(languageId).ta;\n// https://git.door43.org/[username]/[languageId]_ta/src/branch/master/translate/figs-metaphor\n// title = title.md\n// markdown = 01.md\nexport const fetchTitle = (languageId, linkPath) => new Promise((resolve, reject) => {\n  const uriPath = linkPath.split('/').splice(1).join('/') + '/title.md';\n  ApplicationHelpers.fetchFileFromServer(username, repository(languageId), uriPath)\n  .then(resolve).catch(reject);\n});\n\nexport const fetchArticle = (languageId, linkPath) => new Promise((resolve, reject) => {\n  const uriPath = linkPath.split('/').splice(1).join('/') + '/01.md';\n  ApplicationHelpers.fetchFileFromServer(username, repository(languageId), uriPath)\n  .then(article => {\n    const prefix = linkPath.split('/').splice(0,2).join('/');\n    article = article.split('../').join(`http://${languageId}/ta/${prefix}/`)\n      .split('/01.md').join('').split('rc://').join('http://');\n    resolve(article);\n  }).catch(reject);\n});\n","import * as ApplicationHelpers from '../../../ApplicationHelpers';\n\nconst username = ApplicationHelpers.username;\nconst repository = (languageId) => ApplicationHelpers.resourceRepositories(languageId).tw;\n// https://git.door43.org/[username]/[languageId]_ta/src/branch/master/bible/kt/abomination.md\n// title = first line of file\n// markdown = the path + .md\n// rc://en/tw/dict/bible/kt/christ\nexport const fetchTitle = (languageId, linkPath) => new Promise((resolve, reject) => {\n  const uriPath = linkPath.split('/').splice(1).join('/') + '.md';\n  ApplicationHelpers.fetchFileFromServer(username, repository(languageId), uriPath)\n  .then(markdown => {\n    const title = markdown.split(/\\n/)[0].replace(/#/g, '').trim();\n    resolve(title);\n  }).catch(reject);\n});\n\nexport const fetchArticle = (languageId, linkPath) => new Promise((resolve, reject) => {\n  const uriPath = linkPath.split('/').splice(1).join('/') + '.md'; // remove \"/dict/\"\n  ApplicationHelpers.fetchFileFromServer(username, repository(languageId), uriPath)\n  .then(article => {\n    const prefix = linkPath.split('/').splice(0,2).join('/');\n    article = article.split('../').join(`http://${languageId}/tw/${prefix}/`)\n      .split('.md').join('').split('rc://').join('http://');\n    resolve(article);\n  }).catch(reject);\n});\n","import * as TranslationAcademyHelpers from './TranslationAcademy/helpers';\nimport * as TranslationWordsHelpers from './TranslationWords/helpers';\n\nexport const fetchTitle = (languageId, resourceId, linkPath) => new Promise((resolve, reject) => {\n  switch (resourceId) {\n    case 'ta':\n      TranslationAcademyHelpers.fetchTitle(languageId, linkPath)\n      .then(resolve).catch(error => console.log(error));\n      break;\n    case 'tw':\n      TranslationWordsHelpers.fetchTitle(languageId, linkPath)\n      .then(resolve).catch(error => console.log(error));\n      break;\n    case 'tn':\n      break;\n    default:\n      const message = `resourceId not configured: ${languageId} - ${resourceId} - ${linkPath}`;\n      console.log(message);\n      break;\n  };\n});\n\nexport const fetchArticle = (languageId, resourceId, linkPath) => new Promise((resolve, reject) => {\n  switch (resourceId) {\n    case 'ta':\n      TranslationAcademyHelpers.fetchArticle(languageId, linkPath)\n      .then(resolve).catch(error => console.log(error));\n      break;\n    case 'tw':\n      TranslationWordsHelpers.fetchArticle(languageId, linkPath)\n      .then(resolve).catch(error => console.log(error));\n      break;\n    case 'tn':\n      break;\n    default:\n      const message = `resourceId not configured: ${languageId} - ${resourceId} - ${linkPath}`;\n      console.log(message);\n      break;\n  };\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Chip,\n  Typography,\n} from '@material-ui/core';\n\nimport * as helpers from './helpers';\n\nclass RCLinkContainer extends React.Component {\n  state = {\n    context: {\n      languageId: null,\n      resourceId: null,\n      reference: null,\n    },\n    path: null,\n    title: null,\n    article: null,\n    open: null,\n  };\n\n  parseHref(href) {\n    let _match, languageId, resourceId, path, reference, linkedResourceId;\n    const regexpLanguageIdResourcePath = /http:\\/\\/([\\w-_]+)\\/([\\w-_]+)\\/(.+)/;\n    if (regexpLanguageIdResourcePath.test(href)) {\n      const match = regexpLanguageIdResourcePath.exec(href);\n      [_match, languageId, resourceId, path] = match;\n    } else {\n      path = href;\n    }\n    if (resourceId === 'tn') {\n      const regexpReference = /\\/([\\w]+)\\/([\\d]+)\\/([\\d]+)/;\n      if (regexpReference.test(path)) {\n        const match = regexpReference.exec(path);\n        const [_match, bookId, chapter, verse] = match;\n        if (bookId === 'obs') {\n          resourceId = 'obs';\n          reference = {chapter: parseInt(chapter), verse: parseInt(verse)};\n        } else {\n          resourceId = 'ult';\n          reference = {bookId, chapter: parseInt(chapter), verse: parseInt(verse)};\n        }\n      }\n    }\n    return {\n      context: {\n        languageId,\n        resourceId,\n        reference,\n      },\n      path,\n    }\n  };\n\n  componentWillMount() {\n    const {href, children} = this.props;\n    let state = this.parseHref(href);\n    const text = children[0];\n    if (text !== href) {\n      state.title = text;\n    }\n    this.setState(state);\n  };\n\n  componentDidMount() {\n    const {\n      context: {\n        languageId,\n        resourceId,\n      },\n      title,\n      path,\n    } = this.state;\n    if (!title && languageId && resourceId && path) {\n      helpers.fetchTitle(languageId, resourceId, path)\n      .then(title => {\n        this.setState({\n          title: title,\n        });\n      });\n    }\n  };\n\n  handleOpen = () => {\n    const {\n      context: {\n        languageId,\n        resourceId,\n        reference,\n      },\n      path,\n      title,\n    } = this.state;\n    if (reference) {\n      let {context} = this.props;\n      if (['ult','obs'].includes(resourceId)) context.resourceId = resourceId;\n      context.reference = reference;\n      this.props.setContext(context);\n    } else {\n      helpers.fetchArticle(languageId, resourceId, path)\n      .then(article => {\n        const tab = {\n          title: title || path,\n          text: article,\n        };\n        this.props.addTab(tab);\n      });\n    }\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    const {title, path} = this.state;\n    const {classes} = this.props;\n\n    return (\n      <Chip\n        label={\n          <Typography noWrap component='span'>\n            {title || path}\n          </Typography>\n        }\n        component='span'\n        className={classes.chip}\n        classes={{label: classes.label}}\n        onClick={this.handleOpen}\n        clickable\n      />\n    );\n  }\n};\n\nRCLinkContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  href: PropTypes.string.isRequired,\n  addTab: PropTypes.func.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\n\nconst styles = theme => ({\n  chip: {\n    height: 'unset',\n    maxWidth: '95%',\n  },\n  label: {\n    maxWidth: '94%',\n  }\n});\n\nexport default withStyles(styles, { withTheme: true })(RCLinkContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport remark from 'remark';\nimport remark2react from 'remark-react';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport RCLinkContainer from './RCLinkContainer';\n\nclass TextComponentWithRCLinks extends React.Component {\n  state = {\n    component: null,\n  };\n\n  componentDidMount() {\n    const {text, addTab, context, setContext} = this.props;\n    const options = {\n      remarkReactComponents: {\n        a: (props) => (\n          <RCLinkContainer\n            {...props}\n            context={context}\n            setContext={setContext}\n            addTab={addTab}\n          />\n        ),\n        div: (props) => <div {...props} style={{width: '100%'}}/>,\n      }\n    };\n    const component = remark()\n    .use(remark2react, options)\n    .processSync(text).contents;\n    this.setState({\n      component,\n    });\n  };\n\n  render() {\n    return this.state.component;\n  };\n};\n\nTextComponentWithRCLinks.propTypes = {\n  text: PropTypes.string.isRequired,\n  addTab: PropTypes.func.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default TextComponentWithRCLinks;\n","import TranslationNoteComponent from './TranslationNoteComponent';\nexport default TranslationNoteComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Divider,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport TextComponentWithRCLinks from '../TextComponentWithRCLinks';\n\nexport const TranslationNoteComponent = ({\n  classes,\n  context,\n  setContext,\n  note,\n  addTab,\n}) => {\n  if (!note) debugger\n  const occurrence_note = note.occurrence_note.replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '');\n  const noteComponent = (\n    <TextComponentWithRCLinks\n      context={context}\n      setContext={setContext}\n      text={occurrence_note}\n      addTab={addTab}\n    />\n  );\n  return (\n    <div className={classes.root}>\n      <Divider />\n      <div className={classes.note}>\n        <strong>{note.gl_quote}</strong> {noteComponent}\n      </div>\n    </div>\n  );\n};\n\nTranslationNoteComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  note: PropTypes.object.isRequired,\n  addTab: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  note: {\n    marginTop: '0.5em',\n    marginBottom: '0.5em',\n  },\n});\n\nexport default withStyles(styles)(TranslationNoteComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nexport const OriginalWordComponent = ({classes, verseObject, senses}) => {\n\n  return (\n    <div>\n      <Typography>\n        <span><strong>{verseObject.text || verseObject.content}</strong> -</span>\n        <span> <em>lemma:</em> {verseObject.lemma}</span>\n        <span> <em>strong:</em> {verseObject.strong}</span>\n      </Typography>\n      {\n        senses.map((sense, index) =>\n          <Typography key={index}>\n            <sup>{index + 1}</sup>\n            {\n              sense.gloss ?\n              <span> <em>Gloss:</em> {sense.gloss}</span>\n              : ''\n            }\n            {\n              sense.definition ?\n              <span> <em>Definition:</em> {sense.definition}</span>\n              : ''\n            }\n          </Typography>\n        )\n      }\n    </div>\n  );\n};\n\nOriginalWordComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n  senses: PropTypes.array,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(OriginalWordComponent);\n","import path from 'path';\nimport * as ApplicationHelpers from '../../../../ApplicationHelpers';\n\nconst username = 'unfoldingword';\nconst languageId = 'en'\nconst repositories = ApplicationHelpers.resourceRepositories(languageId);\n\nexport const parseSenses = (lexiconMarkdown) => {\n  let senses = [];\n  const sensesSection = lexiconMarkdown.split(/##\\s*Senses/)[1];\n  const senseSections = sensesSection.split(/###\\s*Sense/).splice(1);\n  senseSections.forEach(senseSection => {\n    const definitionRegexp = /####\\s*Definitions?.*?[\\n\\s]+(.*?)\\n/;\n    const glossRegexp = /####\\s*Glosse?s?.*?[\\n\\s]+(.*?)\\n/;\n    let definition = definitionRegexp.test(senseSection) ? definitionRegexp.exec(senseSection)[1] : null;\n    definition = (!/#/.test(definition)) ? definition : null;\n    let gloss = glossRegexp.test(senseSection) ? glossRegexp.exec(senseSection)[1] : null;\n    gloss = (!/#/.test(gloss)) ? gloss : null;\n    const sense = {\n      definition: definition,\n      gloss: gloss,\n    };\n    senses.push(sense);\n  });\n  const uniqueSenses = unique(senses);\n  return uniqueSenses;\n};\n\nexport const senses = (strong) => new Promise((resolve, reject) => {\n  let repository, filepath;\n  if (/^H/.test(strong)) {\n    repository = repositories.uhal;\n    filepath = path.join('content', strong + '.md');\n  }\n  if (/^G/.test(strong)) {\n    repository = repositories.ugl;\n    filepath = path.join('content', strong, '01.md');\n  }\n  ApplicationHelpers.fetchFileFromServer(username, repository, filepath)\n  .then(markdown => {\n    const senses = parseSenses(markdown);\n    resolve(senses);\n  }).catch(reject);\n});\n\nexport const unique = (array, response=[]) => {\n  let _array = array;\n  array.forEach(object => {\n    _array = _array.filter(_object =>\n      !(object.gloss === _object.gloss && object.definition === _object.definition)\n    );\n    _array.push(object);\n  });\n  return _array;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport OriginalWordComponent from './OriginalWordComponent';\nimport * as helpers from './helpers';\n\nclass OriginalWordsContainer extends React.Component {\n  state = {\n    senses: [],\n  };\n\n  componentDidMount() {\n    helpers.senses(this.props.verseObject.strong)\n    .then(senses => {\n      this.setState({\n        senses: senses,\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  render() {\n    return (\n      <OriginalWordComponent\n        verseObject={this.props.verseObject}\n        senses={this.state.senses}\n      />\n    );\n  };\n};\n\nOriginalWordsContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n});\n\nexport default withStyles(styles, { withTheme: true })(OriginalWordsContainer);\n","import OriginalWordContainer from './OriginalWordContainer';\nexport default OriginalWordContainer;\n","export const styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: '100%',\n  },\n  width: {\n    width: '100%',\n  },\n  appBar: {\n    width: '95%',\n    zIndex: '10',\n    margin: 'auto',\n  },\n  hidden: {\n    height: '0px',\n  },\n  padding: {\n    padding: `0 ${theme.spacing.unit * 2}px`,\n  },\n  tabContent: {\n    padding: `0 ${theme.spacing.unit * 3}px`,\n  }\n});\n\nexport default styles;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport SwipeableViews from 'react-swipeable-views';\nimport {\n  AppBar,\n  Tabs,\n  Tab,\n  Divider,\n  Badge,\n} from '@material-ui/core';\n\nimport TextComponentWithRCLinks from './TextComponentWithRCLinks';\nimport TranslationNotes from './TranslationNotes';\nimport OriginalWord from '../Scripture/ScriptureView/OriginalWord';\n\nimport styles from './styles';\n\nexport const TranslationHelpsComponent = ({\n  classes,\n  context,\n  setContext,\n  tabs,\n  addTab,\n  tabIndex,\n  handleChangeIndex,\n  id,\n}) => {\n  let tabLabels = [];\n  let tabContents = [];\n  let badgeCount = 0;\n\n  tabs.forEach((tab, index) => {\n    let content;\n    if (tab.text) {\n      badgeCount = 0;\n      content = <TextComponentWithRCLinks\n        text={tab.text}\n        addTab={addTab}\n        context={context}\n        setContext={setContext}\n      />;\n    } else if (tab.notes) {\n      badgeCount = tab.notes.length;\n      content = tab.notes.map((note, index) =>\n        <TranslationNotes\n          key={index}\n          note={note}\n          addTab={addTab}\n          context={context}\n          setContext={setContext}\n        />\n      );\n    } else if (tab.original) {\n      const wordObjects = tab.original;\n      badgeCount = wordObjects.length;\n      content = wordObjects.map((wordObject, index) => {\n        const link = wordObject.link.replace('rc://*/', `http://${context.languageId}/`);\n        const originalWords = wordObject.originalWords.map((verseObject, index) =>\n          <OriginalWord key={index} verseObject={verseObject} />\n        );\n        const text = `${link}`;\n        return (\n          <div key={index}>\n            <Divider />\n            <TextComponentWithRCLinks\n              text={text}\n              addTab={addTab}\n              context={context}\n              setContext={setContext}\n            />\n            {originalWords}\n          </div>\n        );\n      });\n    } else if (tab.words) {\n      badgeCount = tab.words.length;\n      content = tab.words.map((word, index) => {\n        return (\n          <div key={index}>\n            <Divider />\n            <TextComponentWithRCLinks\n              text={word}\n              addTab={addTab}\n              context={context}\n              setContext={setContext}\n            />\n          </div>\n        );\n      });\n    } else if (tab.iframe) {\n      badgeCount = 0;\n      content = tab.iframe;\n    }\n    const badge = (\n      <Badge className={classes.padding} color=\"primary\" badgeContent={badgeCount}>\n        {tab.title}\n      </Badge>\n    );\n    tabLabels.push(\n      <Tab key={tabLabels.length} label={ (badgeCount > 0) ? badge : tab.title } />\n    );\n    tabContents.push(\n      <div key={tabContents.length} className={(index === tabIndex) ? classes.tabContent : classes.hidden }>\n        {content}\n      </div>);\n  });\n  return (\n    <div id={id} className={classes.root}>\n      <AppBar className={classes.appBar} position=\"sticky\" color=\"default\">\n        <Tabs\n          className={classes.width}\n          value={tabIndex}\n          onChange={handleChangeIndex}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollable\n          scrollButtons=\"auto\"\n        >\n          {tabLabels}\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        className={classes.width}\n        index={tabIndex}\n        onChangeIndex={handleChangeIndex}\n      >\n        {tabContents}\n      </SwipeableViews>\n    </div>\n  );\n}\n\nTranslationHelpsComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  tabs: PropTypes.array.isRequired,\n  addTab: PropTypes.func.isRequired,\n  handleChangeIndex: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(TranslationHelpsComponent);\n","import TranslationHelpsContainer from './TranslationHelpsContainer';\nexport default TranslationHelpsContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n} from '@material-ui/core';\n\nimport TranslationHelpsComponent from './TranslationHelpsComponent';\n\nclass TranslationHelpsContainer extends React.Component {\n  state = {\n    id: Math.random(),\n    tabIndex: 0,\n    tabs: this.props.tabs,\n  };\n\n  handleChangeIndex = (_index, __index) => {\n    const index = (__index !== undefined) ? __index : _index;\n    this.setState({ tabIndex: index });\n    this.scrollToId(this.state.id);\n  };\n\n  addTab = (tab) => {\n    let {tabs} = this.state;\n    tabs.push(tab);\n    this.setState({\n      tabs,\n      tabIndex: tabs.length - 1,\n    });\n    this.scrollToId(this.state.id);\n  };\n\n  scrollToId = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  render() {\n    const {props} = this;\n    const {tabs, tabIndex, id} = this.state;\n    return (\n      <TranslationHelpsComponent\n        {...props}\n        id={id}\n        tabs={tabs}\n        tabIndex={tabIndex}\n        addTab={this.addTab.bind(this)}\n        handleChangeIndex={this.handleChangeIndex.bind(this)}\n      />\n    )\n  }\n}\n\nTranslationHelpsContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  tabs: PropTypes.array.isRequired,\n};\n\nexport default TranslationHelpsContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nexport const TextComponent = ({classes, verseObject}) => {\n  const isWord = verseObject.type === 'word';\n  // const isText = verseObject.type === 'text';\n  return (\n    <span>{isWord ? ' ': ''}{verseObject.text}</span>\n  );\n};\n\nTextComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(TextComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Popover,\n} from '@material-ui/core';\n\nimport TextComponent from './TextComponent';\nimport OriginalWord from '../OriginalWord';\n\nclass OriginalWordsContainer extends React.Component {\n  state = {\n    anchorEl: null,\n  };\n\n  handlePopoverOpen = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handlePopoverClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n    const { classes, children, originalWords } = this.props;\n    const { anchorEl } = this.state;\n    const open = Boolean(anchorEl);\n    return (\n      <span>\n        <span\n          aria-owns={open ? 'mouse-over-popover' : undefined}\n          aria-haspopup=\"true\"\n          onMouseEnter={this.handlePopoverOpen}\n          onMouseLeave={this.handlePopoverClose}\n          className={(open ? classes.open : classes.closed)}\n        >\n          {\n            children.map((verseObject, index) =>\n              <TextComponent key={index} verseObject={verseObject}/>\n            )\n          }\n        </span>\n        <Popover\n          id=\"mouse-over-popover\"\n          className={classes.popover}\n          classes={{\n            paper: classes.paper,\n          }}\n          open={open}\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'left',\n          }}\n          onClose={this.handlePopoverClose}\n          disableRestoreFocus\n        >\n        {\n          originalWords.map((verseObject, index) =>\n            <OriginalWord key={index} verseObject={verseObject} />\n          )\n        }\n        </Popover>\n      </span>\n    );\n  }\n}\n\nOriginalWordsContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  children: PropTypes.array.isRequired,\n  originalWords: PropTypes.array,\n};\n\nconst styles = theme => ({\n  open: {\n    backgroundColor: 'lightgoldenrodyellow',\n  },\n  closed: {\n  },\n  popover: {\n    pointerEvents: 'none',\n  },\n  paper: {\n    padding: theme.spacing.unit,\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(OriginalWordsContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport VerseObjectComponent from './VerseObjectComponent';\nimport OriginalWordsContainer from './OriginalWordsContainer';\n\nexport const MilestoneComponent = ({classes, verseObject, originalWords}) => {\n  originalWords.push(verseObject);\n  const container = (verseObject.children[0].type === 'milestone') ?\n    verseObject.children.map((child, index) =>\n      <VerseObjectComponent\n        key={index}\n        verseObject={child}\n        originalWords={originalWords}\n      />\n    ) :\n    <OriginalWordsContainer\n      originalWords={originalWords}\n      children={verseObject.children}\n    />;\n\n  return container;\n};\n\nMilestoneComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n  originalWords: PropTypes.array,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(MilestoneComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport MilestoneComponent from './MilestoneComponent';\nimport TextComponent from './TextComponent';\n\nexport const VerseObjectComponent = ({classes, verseObject, originalWords}) => {\n  const component = verseObject.type === 'milestone' ?\n    <MilestoneComponent\n      verseObject={verseObject}\n      originalWords={originalWords}\n    /> :\n    <TextComponent\n      verseObject={verseObject}\n    />;\n  return component;\n};\n\nVerseObjectComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n  originalWords: PropTypes.array,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(VerseObjectComponent);\n","import VerseComponent from './VerseComponent';\nexport default VerseComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport styles from '../../../styles';\n\nimport ExpansionPanelContainer from '../ExpansionPanelContainer';\nimport VerseObjectComponent from './VerseObjectComponent';\nimport TranslationHelps from '../../../TranslationHelps';\n\nimport * as originalHelpers from '../../../TranslationHelps/Original/helpers';\n\nexport const VerseComponent = ({\n  classes,\n  languageId,\n  verseKey,\n  bookVerseData,\n  originalVerseData,\n  translationNotesVerseData,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) => {\n  const verseObjects =\n  bookVerseData.verseObjects ?\n  bookVerseData.verseObjects.map((verseObject, index) => {\n    // const lastVerseObject = (index > 0) ? verseData.verseObjects[index - 1] : null;\n    // const nextVerseObject = (index < verseData.verseObjects.length - 1) ? verseData.verseObjects[index + 1] : null;\n    return (\n      <VerseObjectComponent\n        key={index}\n        verseObject={verseObject}\n        originalWords={[]}\n      />\n    );\n  }) : <span />;\n\n  let tabs = [];\n  if (translationNotesVerseData) {\n    const notesTab = {\n      title: 'Notes',\n      notes: translationNotesVerseData,\n    };\n    tabs.push(notesTab)\n  };\n  const wordObjects = originalHelpers.taggedWords(originalVerseData.verseObjects);\n  if (wordObjects.length > 0) {\n    const wordsTab = {\n      title: 'Words',\n      original: wordObjects,\n    };\n    tabs.push(wordsTab);\n  }\n\n  const details = (tabs.length > 0) ?\n    <TranslationHelps\n      context={context}\n      setContext={setContext}\n      tabs={tabs}\n    /> : null;\n\n  const {bookId, chapter} = reference;\n  const id = `${bookId}_${chapter}_${verseKey}`;\n\n  return (\n    <ExpansionPanelContainer\n      summary={\n        <span className={classes.verse}>\n          <span id={id} style={{position: 'absolute', top: '-5em'}}></span>\n          <sup>{verseKey}</sup>\n          {verseObjects}\n        </span>\n      }\n      details={details}\n    />\n  );\n};\n\nVerseComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  verseKey: PropTypes.string.isRequired,\n  bookVerseData: PropTypes.object.isRequired,\n  translationNotesVerseData: PropTypes.array,\n  originalVerseData: PropTypes.object,\n};\n\nexport default withStyles(styles, { withTheme: true })(VerseComponent);\n","\nexport const taggedWords = (verseObjects) => {\n  const wordLinks = verseObjects\n  .filter(verseObject => verseObject.tw)\n  .map(verseObject => {\n    let originalWords = [];\n    if (verseObject.type === 'word') originalWords.push(verseObject);\n    if (verseObject.children) originalWords = originalWords.concat(verseObject.children);\n    let wordObject = {\n      link: verseObject.tw,\n      originalWords,\n    };\n    return wordObject;\n  });\n  return wordLinks;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport styles from '../../styles';\n\nimport TranslationHelps from '../../TranslationHelps';\nimport ExpansionPanelContainer from './ExpansionPanelContainer';\nimport Verse from './Verse';\n\nexport const ChapterComponent = ({\n  classes,\n  context,\n  context: {\n    reference,\n  },\n  setContext,\n  bookChapterData,\n  originalChapterData,\n  translationNotesChapterData,\n}) => {\n  const verses = Object.keys(bookChapterData)\n  .filter(verseKey => {\n    const text = bookChapterData[verseKey].verseObjects.map(o => o.text).join('');\n    return /\\S+/g.test(text);\n  })\n  .map(verseKey =>\n    <Verse\n      key={verseKey}\n      context={context}\n      setContext={setContext}\n      verseKey={verseKey}\n      bookVerseData={bookChapterData[verseKey]}\n      originalVerseData={originalChapterData ? originalChapterData[verseKey] : null}\n      translationNotesVerseData={translationNotesChapterData[verseKey]}\n    />\n  );\n  const intro = (translationNotesChapterData['intro'] && translationNotesChapterData['intro'][0]) ?\n    translationNotesChapterData['intro'][0]['occurrence_note']\n    .replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '')\n    : '';\n  const tabs = [{\n    title: 'Chapter Notes',\n    text: intro,\n  }];\n  const introPanel = (\n    <ExpansionPanelContainer\n      key={'chapter'+reference.chapter}\n      summary={<h2>Chapter {reference.chapter}</h2>}\n      details={\n        <TranslationHelps\n          context={context}\n          setContext={setContext}\n          tabs={tabs}\n        />\n      }\n    />\n  );\n  const panels = [introPanel].concat(verses);\n\n  return panels;\n};\n\nChapterComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  bookChapterData: PropTypes.object.isRequired,\n  translationNotesChapterData: PropTypes.object,\n  originalChapterData: PropTypes.object,\n};\n\nexport default withStyles(styles)(ChapterComponent);\n","import BookComponent from './BookComponent';\nexport default BookComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactMarkdown from 'react-markdown';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport styles from '../../styles';\n\nimport ExpansionPanelContainer from './ExpansionPanelContainer';\nimport ChapterComponent from './ChapterComponent';\nimport TranslationHelps from '../../TranslationHelps';\n\nexport const BookComponent = ({\n  classes,\n  context,\n  setContext,\n  context: {\n    reference: {\n      chapter,\n    },\n  },\n  resources: {\n    ult,\n    original,\n    tn,\n  },\n}) => {\n  const chapterComponent = (\n    <ChapterComponent\n      context={context}\n      setContext={setContext}\n      bookChapterData={ult[chapter]}\n      originalChapterData={original[chapter]}\n      translationNotesChapterData={tn[chapter]}\n    />\n  );\n  const intro = tn['front']['intro'][0]['occurrence_note'];\n  const introDetails = intro.split('\\n').splice(1).join('\\n')\n    .replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '');\n  const tabs = [{\n    title: 'Book Notes',\n    text: introDetails\n  }];\n  return (\n    <div className={classes.root}>\n      <ExpansionPanelContainer\n        key={''+context.reference.bookId+'intro'}\n        summary={\n          <ReactMarkdown\n            source={intro.split('\\n')[0]}\n            escapeHtml={false}\n          />\n        }\n        details={\n          <TranslationHelps\n            context={context}\n            setContext={setContext}\n            tabs={tabs}\n          />\n        }\n      />\n      {chapterComponent}\n    </div>\n  );\n};\n\nBookComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  resources: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  context: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(BookComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport BookSelection from './BookSelection';\nimport ChapterSelection from './ChapterSelection';\nimport ScriptureView from './ScriptureView';\n\nexport const Scripture = ({\n  classes,\n  resources,\n  manifests,\n  context,\n  setContext,\n  context: {\n    reference\n  },\n  referenceLoaded,\n}) => {\n  const bookSelection = (\n    <BookSelection\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const chapterSelection = (\n    <ChapterSelection\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const scriptureView = (\n    <ScriptureView\n      context={context}\n      setContext={setContext}\n      resources={resources}\n    />\n  );\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowBookSelection = (!reference.bookId);\n  const shouldShowChapterSelection = (reference.bookId && !reference.chapter);\n  const shouldShowScriptureView = (referenceLoaded && reference.bookId === referenceLoaded.bookId);\n\n  if (shouldShowBookSelection) component = bookSelection;\n  else if (shouldShowChapterSelection) component = chapterSelection;\n  else if (shouldShowScriptureView) component = scriptureView;\n\n  return (\n    <div className={classes.root}>\n      {component}\n    </div>\n  );\n}\n\nScripture.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(Scripture);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Scripture from './Scripture';\n\nimport * as helpers from './helpers';\n\nclass ScriptureContainer extends React.Component {\n  state = {\n    referenceLoaded: null,\n    resources: {\n      ult: null,\n      tn: null,\n      original: null,\n    },\n  };\n\n  fetchResourcesConditionally(nextProps) {\n    const {manifests, context: {reference}} = nextProps;\n    const {ult, obs} = this.state;\n    const referenceChanged = (reference.bookId !== this.props.context.reference.bookId);\n    const emptyBookData = (!(ult || obs));\n    const needToFetch = (emptyBookData || referenceChanged)\n    const canFetch = (reference.bookId && Object.keys(manifests).length > 0);\n    if (canFetch && needToFetch) {\n      helpers.fetchResources(nextProps)\n      .then(resources => {\n        this.setState({\n          resources,\n          referenceLoaded: reference,\n        });\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.fetchResourcesConditionally(nextProps);\n  };\n\n  componentDidMount() {\n    this.fetchResourcesConditionally(this.props);\n  };\n\n  componentDidUpdate() {\n    const {reference: {bookId, chapter, verse}} = this.props.context;\n    const id = `${bookId}_${chapter}_${verse}`;\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  }\n\n  render() {\n    const props = this.props;\n    const {resources, referenceLoaded} = this.state;\n    return (\n      <Scripture\n        {...props}\n        referenceLoaded={referenceLoaded}\n        resources={resources}\n      />\n    );\n  };\n};\n\nScriptureContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default ScriptureContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Bookmark,\n  BookmarkBorder,\n} from '@material-ui/icons';\n\nexport const StoryComponent = ({\n  classes,\n  storyKey,\n  frames,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) =>\n  <ListItem\n    button\n    selected={reference.chapter === storyKey}\n    className={classes.bookListItem}\n    style={{\n      paddingLeft: '2em',\n      paddingRight: '0.7em',\n    }}\n    onClick={() => {\n      context.reference = {\n        bookId: reference.bookId,\n        chapter: storyKey,\n      };\n      setContext(context);\n    }}\n  >\n    <ListItemIcon className={classes.listItemIcon}>\n      {\n        (reference.chapter === storyKey) ?\n        <Bookmark /> :\n        <BookmarkBorder />\n      }\n    </ListItemIcon>\n    <ListItemText\n      className={classes.listItemText}\n      primary={`Story ${frames[0].text.replace('#','').trim()}`}\n      secondary={Object.keys(frames).length + ' Frames' }\n    />\n  </ListItem>\n\nStoryComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  storyKey: PropTypes.number.isRequired,\n  frames: PropTypes.object.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles)(StoryComponent);\n","import StoriesComponent from './StoriesComponent'\nexport default StoriesComponent\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport StoryComponent from './StoryComponent';\n\nexport const StoriesComponent = ({\n  classes,\n  stories,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) => {\n  const components = Object.keys(stories).map(_storyKey => {\n    const storyKey = parseInt(_storyKey);\n    const frames = stories[storyKey];\n    return (<StoryComponent\n      key={storyKey}\n      context={context}\n      setContext={setContext}\n      storyKey={storyKey}\n      frames={frames}\n    />);\n  });\n\n  return (\n    <Paper className={classes.root}>\n      <List\n        className={classes.root}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.list}>\n          {components}\n        </div>\n      </List>\n    </Paper>\n  );\n};\n\nStoriesComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  stories: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  list: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(StoriesComponent);\n","const youtubeIds = [\n  \"UHEzSQE6TOs\",\n  \"OkJWjWFVvV4\",\n  \"2ycsRNjhYjU\",\n  \"aBPANcV67nk\",\n  \"I84GIPjHW0Q\",\n  \"lNzawXS8iKk\",\n  \"hDPJKRZa7U4\",\n  \"l0G3AQOYPR0\",\n  \"lfwMHrfoki0\",\n  \"SPSRlFyq_CQ\",\n  \"RpidswdLDWs\",\n  \"ZJKdHg9yVRs\",\n  \"MIk6i62zQ9A\",\n  \"Xg5dWR59sR8\",\n  \"vM4EzYDNSSM\",\n  \"IHwCxln7EbA\",\n  \"UL2pNVepgY8\",\n  \"DZxkuz2NEe8\",\n  \"KMoK1oITeBQ\",\n  \"jBCf1YY5pzM\",\n  \"sgABmFUZKx0\",\n  \"78PNW7qpufE\",\n  \"DxqwSFPTp3A\",\n  \"O0c_U3rPW0Q\",\n  \"im9mN_i_Y44\",\n  \"y3y27a90cBs\",\n  \"ie03EnZJ8kE\",\n  \"g6L2xbnpgCg\",\n  \"p7F8u3ymfn8\",\n  \"uFvINl8a7Ow\",\n  \"y0RYWZZw9Nc\",\n  \"MzdAo6p3J48\",\n  \"Htgd5jnKzPc\",\n  \"jCy9BJhwg6w\",\n  \"deYD2wxIQlA\",\n  \"gC6jkPn9sks\",\n  \"4srXPVgYU0w\",\n  \"F-CEE6hc1aE\",\n  \"4gFX7PnhfdI\",\n  \"RlOsDbJ9hEc\",\n  \"MAhIbNxMlPI\",\n  \"vCaywUPxzy4\",\n  \"kDMNXa4Z_M0\",\n  \"wb5owhurDXc\",\n  \"WUcXHSmjvgw\",\n  \"Ij34FKUaUJM\",\n  \"ioqNQiAUz0E\",\n  \"ep6RD36iDFw\",\n  \"ZWl5kehifDU\",\n  \"CnSJk-p087Y\"\n];\n\nexport default youtubeIds;\n","import {each} from 'async';\n\nimport * as ApplicationHelpers from '../../ApplicationHelpers';\nimport youtubeIds from './youtubeIds';\n\nexport const framesFromStory = (storyMarkdown) => {\n  let frames = {};\n  storyMarkdown.split(/\\s*?\\n\\s*?\\n\\s*?[!]/)\n  .forEach((frameMarkdown, index) => {\n    frames[index] = frameData(frameMarkdown);\n  });\n  return frames;\n}\n\nexport const frameData = (frameMarkdown) => {\n  let data = {};\n  const imageRegexp = /\\((http.*?\\.jpg).*?\\)/;\n  if (imageRegexp.test(frameMarkdown)) {\n    const [match, image] = imageRegexp.exec(frameMarkdown);\n    data.image = image;\n  }\n  data.text = frameMarkdown.replace(/\\s*\\[.*?\\]\\(.*?\\)\\s*/,'').trim();\n  return data;\n}\n\nexport const fetchStory = (username, languageId, storyId) => new Promise((resolve, reject) => {\n  const repository = ApplicationHelpers.resourceRepositories(languageId).obs;\n  const numberPadded = (storyId < 10) ? `0${storyId}` : `${storyId}`;\n  let path = `content/${numberPadded}.md`;\n  ApplicationHelpers.fetchFileFromServer(username, repository, path)\n  .then(data => {\n    const frames = framesFromStory(data);\n    resolve(frames);\n  }).catch(reject);\n});\n\nexport const fetchOpenBibleStories = (username, languageId) => new Promise((resolve, reject) => {\n  const storyIds = [...Array(51).keys()].splice(1);\n  let stories = {};\n  each(storyIds,\n    (storyId, done) => {\n      fetchStory(username, languageId, storyId)\n      .then(frames => {\n        stories[storyId] = frames;\n        done();\n      })\n    },\n    (error) => {\n      resolve(stories);\n    }\n  );\n});\n\nexport const youtubeId = (storyId) => {\n  return youtubeIds[storyId - 1];\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport remark from 'remark';\nimport remark2react from 'remark-react';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  CardMedia,\n  IconButton,\n  Collapse,\n} from '@material-ui/core';\nimport {\n  ExpandMore,\n  ExpandLess,\n} from '@material-ui/icons';\n\nimport TranslationHelps from '../../../TranslationHelps';\nimport * as helpers from '../../helpers';\n\nexport const Frame = ({\n  classes,\n  context,\n  setContext,\n  open,\n  handleToggleOpen,\n  storyKey,\n  frameKey,\n  image,\n  text,\n  helps,\n}) => {\n\n  let tabs = [];\n  if (helps && helps.notes) {\n    const notesTab = {\n      title: 'Notes',\n      notes: helps.notes,\n    };\n    tabs.push(notesTab)\n  };\n  if (helps && helps.words) {\n    const wordsTab = {\n      title: 'Words',\n      words: helps.words,\n    };\n    tabs.push(wordsTab);\n  }\n  if (helps && helps.questions) {\n    const questionsTab = {\n      title: 'Questions',\n      notes: helps.questions,\n    };\n    tabs.push(questionsTab);\n  }\n  if (parseInt(frameKey) === 0) {\n    const youtubeId = helpers.youtubeId(storyKey);\n    const videoFrame = (\n      <div className={classes.iframe}>\n        <iframe\n          title=\"obs-youtube\"\n          width=\"100%\"\n          height=\"100%\"\n          src={`https://www.youtube-nocookie.com/embed/${youtubeId}`}\n          frameborder=\"0\"\n          allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n          allowfullscreen=\"true\"\n        />\n      </div>\n    );\n    const videoTab = {\n      title: 'Video',\n      iframe: videoFrame,\n    };\n    tabs.push(videoTab);\n  }\n\n  const details = (tabs.length > 0) ?\n    <TranslationHelps\n      context={context}\n      setContext={setContext}\n      tabs={tabs}\n    /> : null;\n\n  const options = {\n    remarkReactComponents: {\n      strong: 'sup',\n    }\n  };\n  const _text = (frameKey > 0) ? `**${frameKey}** ${text}` : text;\n  const content = remark().use(remark2react, options).processSync(_text).contents;\n\n  return (\n    <Card className={classes.card}>\n      {\n        image ?\n        <CardMedia\n          className={classes.media}\n          image={image}\n          title=\"Open Bible Stories Image\"\n        />\n        : null\n      }\n      <CardContent className={classes.content}>\n        {content}\n      </CardContent>\n      <CardActions className={classes.actions} disableActionSpacing>\n        <IconButton\n          className={classes.button}\n          onClick={handleToggleOpen}\n          aria-expanded={open}\n          aria-label=\"Show more\"\n        >\n          {open ? <ExpandLess /> : <ExpandMore />}\n        </IconButton>\n      </CardActions>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <CardContent className={classes.details}>\n          {details}\n        </CardContent>\n        <CardActions className={classes.actions} disableActionSpacing>\n          <IconButton\n            className={classes.button}\n            onClick={handleToggleOpen}\n            aria-expanded={open}\n            aria-label=\"collapse\"\n          >\n            {open ? <ExpandLess /> : <ExpandMore />}\n          </IconButton>\n        </CardActions>\n      </Collapse>\n    </Card>\n  );\n}\n\nFrame.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  handleToggleOpen: PropTypes.func.isRequired,\n  frameKey: PropTypes.number.isRequired,\n  text: PropTypes.string.isRequired,\n  image: PropTypes.string,\n  helps: PropTypes.object.isRequired,\n};\n\nconst styles = {\n  card: {\n    marginBottom: '1em',\n  },\n  media: {\n    height: 320,\n  },\n  content: {\n    paddingBottom: 0,\n  },\n  details: {\n    padding: 0,\n  },\n  actions: {\n    padding: 0,\n  },\n  button: {\n    marginLeft: 'auto',\n  },\n  iframe: {\n    width: 'calc(100vw - 5.3em)',\n    height: 'calc((100vw - 5.3em) * (9/16))',\n    maxWidth: 'calc(40em - 3.5em)',\n    maxHeight: 'calc((40em - 3.5em) * (9/16))',\n  }\n};\n\nexport default withStyles(styles)(Frame);\n","import {each} from 'async';\n\nimport * as ApplicationHelpers from '../../../ApplicationHelpers';\n\nexport const fetchHelps = (username, languageId, storyKey, frameKey) => new Promise((resolve, reject) => {\n  let helps = {};\n  each(\n    ['obs-tn', 'obs-tq'],\n    (resourceId, done) => {\n      switch (resourceId) {\n        case 'obs-tn':\n          fetchNotesAndWords(username, languageId, storyKey, frameKey)\n          .then(response => {\n            helps.notes = response.notes;\n            helps.words = response.words;\n            done();\n          }).catch(done);\n          break;\n        case 'obs-tq':\n          fetchQuestions(username, languageId, storyKey, frameKey)\n          .then(questions => {\n            helps.questions = questions;\n            done();\n          }).catch(done);\n          break;\n        default:\n          done();\n          break;\n      };\n    },\n    (error) => {\n      resolve(helps);\n    }\n  );\n});\n\nexport const fetchQuestions = (username, languageId, storyKey, frameKey) => new Promise((resolve, reject) => {\n  const repository = ApplicationHelpers.resourceRepositories(languageId)['obs-tq'];\n  const file = pad(frameKey) + '.md';\n  const filepath = ['content', pad(storyKey), file].join('/');\n  ApplicationHelpers.fetchFileFromServer(username, repository, filepath)\n  .then(markdown => {\n    const questions = parseQuestionsMarkdown(markdown);\n    resolve(questions);\n  }).catch(reject);\n});\n\nexport const fetchNotesAndWords = (username, languageId, storyKey, frameKey) => new Promise((resolve, reject) => {\n  const repository = ApplicationHelpers.resourceRepositories(languageId)['obs-tn'];\n  const file = pad(frameKey) + '.md';\n  const filepath = ['content', pad(storyKey), file].join('/');\n  ApplicationHelpers.fetchFileFromServer(username, repository, filepath)\n  .then(markdown => {\n    const helps = parseNotesMarkdown(markdown);\n    resolve(helps);\n  }).catch(reject);\n});\n\nexport const pad = (number) => `${(number < 10) ? 0 : ''}${number}`;\n\nexport const parseQuestionsMarkdown = (markdown) => {\n  const questions = markdown.split(/\\n\\s*#\\s*/m)\n  .map(questionItem => {\n    const [questionText, ...answerLines] = questionItem.split(/\\n\\s*/m);\n    const question = questionText.replace(/\\s*#\\s*/,'');\n    const answer = answerLines.join('\\n\\n');\n    return {\n      gl_quote: question,\n      occurrence_note: answer,\n    };\n  });\n  return questions;\n}\n\nexport const parseNotesMarkdown = (markdown) => {\n  const [notesMarkdown, wordsMarkdown] = markdown.split(/#+\\s*translationWords\\s*/m);\n  const notes = notesMarkdown.split(/\\n\\s*#\\s*/m)\n  .map(noteText => {\n    const [quote, ...noteLines] = noteText.split(/\\n\\s*\\n/m);\n    const gl_quote = quote.replace(/\\s*#\\s*/,'');\n    const occurrence_note = noteLines.join('\\n\\n');\n    return {\n      gl_quote,\n      occurrence_note,\n    };\n  });\n  let words;\n  if (/\\w+/.test(wordsMarkdown)) {\n    words = wordsMarkdown.split(/\\n?\\s*\\*\\s*/m)\n    .map(word => word.replace(/\\[\\[rc/,'http').replace(/\\]\\]/,''));\n  }\n  const helps = {\n    notes,\n    words,\n  };\n  return helps;\n}\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nimport * as translationHelps from '../../translationHelps/helpers';\n\nclass FrameContainer extends React.Component {\n  state = {\n    open: false,\n    id: Math.random(),\n    helps: null,\n  };\n\n  handleToggleOpen = () => {\n    this.setState({open: !this.state.open});\n    this.scrollToId();\n  };\n\n  scrollToId = () => {\n    const element = document.getElementById(this.state.id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  componentDidMount() {\n    const {\n      storyKey,\n      frameKey,\n      context: {\n        username,\n        languageId,\n        reference,\n      },\n    } = this.props;\n    translationHelps.fetchHelps(username, languageId, storyKey, frameKey)\n    .then(helps => {\n      this.setState({ helps });\n    });\n    if (parseInt(reference.verse) === parseInt(frameKey)) {\n      this.scrollToId();\n    }\n  };\n\n  render() {\n    const {helps, open, id} = this.state;\n    const {props} = this;\n    return (\n      <div id={id}>\n        <Component\n          {...props}\n          helps={helps}\n          open={open}\n          handleToggleOpen={this.handleToggleOpen.bind(this)}\n        />\n      </div>\n    );\n  }\n};\n\nFrameContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  storyKey: PropTypes.number.isRequired,\n  frameKey: PropTypes.number.isRequired,\n  text: PropTypes.string.isRequired,\n  image: PropTypes.string,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default FrameContainer;\n","import Story from './Story';\nexport default Story;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport styles from '../../styles';\nimport Frame from './Frame/';\n\nexport const Story = ({\n  classes,\n  storyKey,\n  story,\n  context,\n  setContext,\n}) => {\n  const frames = Object.keys(story).map((frameKey, index) => {\n    const {image, text} = story[frameKey];\n    return (\n      <Frame\n        key={index}\n        storyKey={storyKey}\n        frameKey={frameKey}\n        image={image}\n        text={text}\n        context={context}\n        setContext={setContext}\n      />\n    );\n  });\n  return (\n    <div className={classes.column}>\n      {frames}\n    </div>\n  );\n};\n\nStory.propTypes = {\n  classes: PropTypes.object.isRequired,\n  storyKey: PropTypes.number.isRequired,\n  story: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(Story);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport StorySelection from './StorySelection';\nimport OpenBibleStoriesView from './OpenBibleStoriesView';\n\nexport const OpenBibleStoriesComponent = ({\n  classes,\n  context,\n  context: {\n    reference\n  },\n  setContext,\n  stories,\n}) => {\n\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowStorySelection = (stories && !reference.chapter);\n  const shouldShowOpenBibleStoriesView = (stories && reference.chapter);\n\n  if (shouldShowStorySelection) {\n    const storySelection = (\n      <StorySelection\n        context={context}\n        setContext={setContext}\n        stories={stories}\n      />\n    );\n    component = storySelection;\n  }\n  else if (shouldShowOpenBibleStoriesView) {\n    const openBibleStoriesView = (\n      <OpenBibleStoriesView\n        context={context}\n        setContext={setContext}\n        storyKey={reference.chapter}\n        story={stories[reference.chapter]}\n      />\n    );\n    component = openBibleStoriesView;\n  }\n\n  return (\n    <div className={classes.root}>\n      {component}\n    </div>\n  );\n}\n\nOpenBibleStoriesComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  stories: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(OpenBibleStoriesComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport styles from './styles';\n\nimport Component from './Component';\n\nimport * as helpers from './helpers';\n\nclass OpenBibleStoriesContainer extends React.Component {\n  state = {\n    stories: null,\n  };\n\n  componentDidMount() {\n    const {username, languageId} = this.props.context;\n    helpers.fetchOpenBibleStories(username, languageId)\n    .then(stories => {\n      this.setState({ stories });\n    });\n  };\n\n  componentDidUpdate() {\n    const {reference: {bookId, chapter, verse}} = this.props.context;\n    const id = `${bookId}_${chapter}_${verse}`;\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  }\n\n  render() {\n    const {stories} = this.state;\n    const {props} = this;\n    return (\n      <Component\n        {...props}\n        stories={stories}\n      />\n    );\n  }\n};\n\nOpenBibleStoriesContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(OpenBibleStoriesContainer);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport Resources from './Resources';\nimport Scripture from './Scripture';\nimport OpenBibleStories from './OpenBibleStories';\n\nexport const Workspace = ({\n  classes,\n  manifests,\n  context,\n  setContext,\n}) => {\n  const resources = (\n    <Resources\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const scripture = (\n    <Scripture\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const openBibleStories = (\n    <OpenBibleStories\n      context={context}\n      setContext={setContext}\n    />\n  );\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  if (Object.keys(manifests).length > 0) {\n    const shouldShowResources = (!context.resourceId);\n    const shouldShowScripture = (['ult','ust','uhb','ugnt'].includes(context.resourceId));\n    const shouldShowOpenBibleStories = (context.resourceId === 'obs');\n\n    if (shouldShowResources) component = resources;\n    else if (shouldShowScripture) component = scripture;\n    else if (shouldShowOpenBibleStories) component = openBibleStories;\n  }\n\n  return (\n    <div className={classes.root}>\n      {component}\n    </div>\n  );\n}\n\nWorkspace.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(Workspace);\n","import WorkspaceContainer from './WorkspaceContainer'\nexport default WorkspaceContainer\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Workspace from './Workspace';\n\nclass WorkspaceContainer extends React.Component {\n  state = {\n  };\n\n  componentDidUpdate() {\n    const {bookId, chapter, verse} = this.props.context.reference;\n    const id = `${bookId}_${chapter}_${verse}`;\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  }\n\n  render() {\n    const props = this.props;\n    return (\n      <Workspace\n        {...props}\n      />\n    );\n  };\n};\n\nWorkspaceContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default WorkspaceContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {\n  Paper,\n  BottomNavigation,\n  BottomNavigationAction,\n} from '@material-ui/core';\nimport {\n  LibraryBooks,\n  Book,\n  Bookmark,\n} from '@material-ui/icons';\n\nclass BottomNavContainer extends React.Component {\n  handleChange = (event, value) => {\n    let {\n      context,\n      context: {\n        username,\n        languageId,\n        reference,\n      }\n    } = this.props;\n    switch (value) {\n      case 0:\n        context = {username, languageId, reference: {}};\n        break;\n      case 1:\n        context.reference = {};\n        break;\n      case 2:\n        context.reference = {bookId: reference.bookId};\n        break;\n      default:\n        break;\n    };\n    this.props.setContext(context);\n  };\n\n  render() {\n    const { classes, context } = this.props;\n\n    let value;\n    const couldShowReference = (!context.resourceId);\n    const couldShowBook = (!context.resourceId === 'obs' && !(context.reference && context.reference.bookId));\n    const couldShowChapter = (!(context.reference && context.reference.chapter));\n\n    if (couldShowReference) { value = 0; }\n    else if (couldShowBook) { value = 1; }\n    else if (couldShowChapter) { value = 2; }\n\n    return (\n      <Paper className={classes.root}>\n        <BottomNavigation\n          value={value}\n          onChange={this.handleChange}\n          showLabels\n          className={classes.root}\n        >\n          <BottomNavigationAction\n            label=\"Resources\"\n            icon={<LibraryBooks />}\n          />\n          <BottomNavigationAction\n            label=\"Books\"\n            icon={<Book />}\n          />\n          <BottomNavigationAction\n            label=\"Chapters\"\n            icon={<Bookmark />}\n          />\n        </BottomNavigation>\n      </Paper>\n    );\n  }\n}\n\nBottomNavContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(BottomNavContainer);\n","import BottomNavContainer from './BottomNavContainer';\nexport default BottomNavContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport './Application.css';\n\nimport ApplicationBar from './ApplicationBar';\nimport Workspace from './Workspace';\nimport BottomNav from './BottomNav';\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  palette: {\n    primary: {\n      light: '#59B7E7',\n      main: '#31ADE3',\n      dark: '#014263',\n      contrastText: '#FFF'\n    },\n  },\n});\n\nexport const Application = ({\n  classes,\n  context,\n  setContext,\n  manifests,\n}) =>\n<MuiThemeProvider theme={theme}>\n  <div className={classes.root}>\n    <div className={classes.appFrame}>\n      <main className={classes.main}>\n        <ApplicationBar\n          context={context}\n          setContext={setContext}\n          manifests={manifests}\n        />\n        <div className={classes.workspace}>\n          <Workspace\n            context={context}\n            setContext={setContext}\n            manifests={manifests}\n          />\n        </div>\n      </main>\n      <nav className={classes.bottomNav}>\n        <BottomNav\n          context={context}\n          setContext={setContext}\n        />\n      </nav>\n    </div>\n  </div>\n</MuiThemeProvider>;\n\nApplication.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  appFrame: {\n    zIndex: 1,\n    position: 'relative',\n    display: 'flex',\n    width: '100%',\n  },\n  main: {\n    width: '100%',\n    minWidth: '20em',\n  },\n  workspace: {\n    padding: '1em 1em 5.5em 1em',\n  },\n  bottomNav: {\n    width: '100%',\n    position: 'fixed',\n    bottom: 0,\n    zIndex: 10,\n  }\n});\n\nexport default withStyles(styles)(Application);\n","import React from 'react';\nimport localstorage from 'local-storage'\n\nimport Application from './Application';\nimport './Application.css';\n\nimport * as ApplicationHelpers from './ApplicationHelpers';\n\nconst keyPrefix = 'ApplicationContainer.state.';\n\nclass ApplicationContainer extends React.Component {\n  state = {\n    manifests: {},\n    context: {\n      username: 'unfoldingWord',\n      languageId: 'en',\n      resourceId: null,\n      reference: {},\n    },\n  };\n  \n  componentWillMount() {\n    const context = localstorage.get(keyPrefix + 'context');\n    if (context) {\n      this.setState({context});\n    }\n  };\n\n  setContext(context) {\n    window.scrollTo(0,0);\n    this.setState({context});\n    localstorage.set(keyPrefix + 'context', context);\n  };\n\n  componentDidMount() {\n    const {\n      context: {\n        username,\n        languageId\n      },\n    } = this.state;\n    ApplicationHelpers.fetchResourceManifests(username, languageId)\n    .then(manifests => {\n      this.setState({\n        manifests,\n      });\n    });\n  };\n\n  render() {\n    const {context, manifests} = this.state;\n    return (\n      <Application\n        context={context}\n        setContext={this.setContext.bind(this)}\n        manifests={manifests}\n      />\n    );\n  };\n};\n\nexport default ApplicationContainer;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              if (window) window.alert(\n                'Update is available, close the App and/or all tabs and restart the App to get the latest.'\n              );\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              if (window) window.alert(\n                'The first load of a Book and Chapter may take longer to download the resources.'\n              );\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ApplicationContainer from './ApplicationContainer';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<ApplicationContainer />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}