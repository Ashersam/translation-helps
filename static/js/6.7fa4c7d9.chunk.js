(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{6359:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(49),o=n(51),s=n(50),c=n(52),l=n(1),i=n.n(l),m=n(20),u=n(32),d=n(53),p=n(138),h=Object(m.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}},{withTheme:!0})(function(e){var t=e.classes,n=e.bookMetadata,a=e.context,r=e.setContext,o=e.context.reference,s=n.identifier,c=p.a({bookId:s}).length;return i.a.createElement(u.ListItem,{button:!0,selected:o.bookId===n.identifier,className:t.bookListItem,style:{paddingLeft:"2.2em",paddingRight:"0.7em"},onClick:function(){a.reference={bookId:s},r(a)}},i.a.createElement(u.ListItemIcon,{className:t.listItemIcon},o.bookId===n.identifier?i.a.createElement(d.a,null):i.a.createElement(d.b,null)),i.a.createElement(u.ListItemText,{className:t.listItemText,primary:n.title,secondary:c+" Chapters"}))}),f=Object(m.withStyles)(function(e){return{list:{paddingTop:0,paddingBottom:0},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}},{withTheme:!0})(function(e){var t=e.classes,n=e.testamentId,a=e.books,r=e.context,o=e.setContext,s=e.open,c=e.toggle,l=a?a.map(function(e){return i.a.createElement(h,{key:e.identifier,bookMetadata:e,context:r,setContext:o})}):[];return i.a.createElement("div",null,i.a.createElement(u.ListItem,{button:!0,selected:s,className:t.fileList,style:{paddingLeft:"1em",paddingRight:"0.5em"},onClick:c},i.a.createElement(u.ListItemIcon,{className:t.listItemIcon},s?i.a.createElement(d.e,null):i.a.createElement(d.f,null)),i.a.createElement(u.ListItemText,{inset:!0,className:t.listItemText,primary:n,secondary:a.length+" Books"})),i.a.createElement(u.Collapse,{in:s,timeout:"auto",unmountOnExit:!0},i.a.createElement(u.List,{dense:!0,className:t.list},l)))}),b=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this.props,t=this.state.open;return i.a.createElement(f,Object.assign({},e,{open:t,toggle:this.toggle.bind(this)}))}}]),t}(i.a.Component),v=Object(m.withStyles)(function(e){return{bible:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},bibleList:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=e.manifests,a=e.context,r=e.setContext,o={},s=n.ult;return s&&s.projects.forEach(function(e){var t=e.categories.includes("bible-ot")?"Old Testament":"New Testament";o[t]||(o[t]=[]),o[t].push(e)}),i.a.createElement(u.Paper,{className:t.bible},i.a.createElement(u.List,{className:t.bible,component:"nav",dense:!0},i.a.createElement("div",{className:t.bibleList},Object.keys(o).map(function(e){return i.a.createElement(b,{key:e,testamentId:e,books:o[e],context:a,setContext:r})}))))}),g=n(21),E=Object(m.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}})(function(e){var t=e.classes,n=e.chapter,a=e.verses,r=e.setContext,o=e.context,s=e.context.reference;return i.a.createElement(u.ListItem,{button:!0,selected:s.chapter===n,className:t.bookListItem,style:{paddingLeft:"2em",paddingRight:"0.7em"},onClick:function(){var e=g.a(o);e.reference={bookId:s.bookId,chapter:n},r(e)}},i.a.createElement(u.ListItemIcon,{className:t.listItemIcon},s.chapter===n?i.a.createElement(d.c,null):i.a.createElement(d.d,null)),i.a.createElement(u.ListItemText,{className:t.listItemText,primary:"Chapter "+n,secondary:a+" Verses"}))}),x=Object(m.withStyles)(function(e){return{root:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},list:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=(e.bookData,e.context),a=e.setContext,r=e.context,o=(r.reference,r.reference.bookId),s=p.a({bookId:o}).map(function(e,t){return i.a.createElement(E,{key:t,chapter:t+1,verses:e,context:n,setContext:a})});return i.a.createElement(u.Paper,{className:t.root},i.a.createElement(u.List,{className:t.root,component:"nav",dense:!0},i.a.createElement("div",{className:t.list},s)))}),y=n(6297),O=n.n(y),k=n(6059),I=Object(m.withStyles)(k.a)(function(e){var t=e.classes,n=e.summary,a=e.details,r=e.id,o=e.open,s=e.handleToggle,c=e.handleClose;return i.a.createElement(u.ExpansionPanel,{expanded:o,className:t.column,onChange:s},i.a.createElement(u.ExpansionPanelSummary,{expandIcon:i.a.createElement(d.h,null)},i.a.createElement("span",{id:r,style:{position:"absolute",top:"-5em"}}),n),i.a.createElement(u.ExpansionPanelDetails,{className:t.expansionPanelDetails},o?i.a.createElement("div",{className:t.fullWidth},a):""),i.a.createElement(u.ExpansionPanelActions,{className:t.expansionPanelActions},i.a.createElement(u.IconButton,{className:t.button,"aria-label":"Close",onClick:c},i.a.createElement(d.g,null))))}),j=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={id:Math.random(),open:!1},n.handleClose=function(){n.setState({open:!1}),n.scrollToId(n.state.id)},n.handleToggle=function(){n.setState({open:!n.state.open}),n.scrollToId(n.state.id)},n.scrollToId=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state,n=t.open,a=t.id;return i.a.createElement(I,Object.assign({},e,{id:a,open:n,handleClose:this.handleClose.bind(this),handleToggle:this.handleToggle.bind(this)}))}}]),t}(i.a.Component),C=n(6066),w=Object(m.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject;return i.a.createElement("span",null," ",t.text||t.content)}),T=n(6143),N=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={anchorEl:null},n.handlePopoverOpen=function(e){n.setState({anchorEl:e.currentTarget})},n.handlePopoverClose=function(){n.setState({anchorEl:null})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.children,a=e.originalWords,r=this.state.anchorEl,o=Boolean(r);return i.a.createElement("span",null,i.a.createElement("span",{"aria-owns":o?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:this.handlePopoverOpen,onMouseLeave:this.handlePopoverClose,className:o?t.open:t.closed},n.map(function(e,t){return i.a.createElement(w,{key:t,verseObject:e})})),i.a.createElement(u.Popover,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:o,anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:this.handlePopoverClose,disableRestoreFocus:!0},a.map(function(e,t){return i.a.createElement(T.a,{key:t,verseObject:e})})))}}]),t}(i.a.Component),L=Object(m.withStyles)(function(e){return{open:{backgroundColor:"lightgoldenrodyellow"},closed:{},popover:{pointerEvents:"none"},paper:{padding:e.spacing.unit}}},{withTheme:!0})(N),S=function(e){e.classes;var t,n=e.originalWords,a=e.verseObject,r=a.tag,o=a.children,s=(a.tw,a.strong),c=a.lemma,l=a.morph,m=a.occurrence,u=a.occurrences,d=a.content;switch(r){case"k":t=o.map(function(e,t){return i.a.createElement(P,{key:t,verseObject:e})});break;case"zaln":var p={strong:s,lemma:c,morph:l,occurrence:m,occurrences:u,content:d},h=JSON.parse(JSON.stringify(n));h.push(p),t=1===o.length&&"milestone"===o[0].type?i.a.createElement(P,{verseObject:o[0],originalWords:h}):i.a.createElement(L,{originalWords:h,children:o});break;default:t=i.a.createElement("div",null)}return t},R=Object(m.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject;return i.a.createElement("span",null,t.text)}),P=function(e){e.classes;var t,n=e.verseObject,a=e.originalWords,r=void 0===a?[]:a;switch(n.type){case"text":case"quote":t=i.a.createElement(R,{verseObject:n});break;case"milestone":t=i.a.createElement(S,{verseObject:n,originalWords:r});break;case"word":t=n.strong?i.a.createElement(L,{children:[n],originalWords:[n]}):i.a.createElement(w,{verseObject:n});break;case"section":case"paragraph":t=i.a.createElement("span",null);break;case"footnote":t=i.a.createElement("sup",null,"f");break;default:t=i.a.createElement("span",null,i.a.createElement("sup",null,"*"),i.a.createElement(R,{verseObject:n}),i.a.createElement("sup",null,"*"))}return i.a.createElement("span",{"data-verse-object":JSON.stringify(n)},t,n.nextChar)},M=function(e){var t=e.manifest.dublin_core,n=t.identifier,a=t.title;return i.a.createElement("div",{style:{width:"100%",textAlign:"right",marginBottom:"0.5em"}},i.a.createElement(u.Chip,{label:i.a.createElement(u.Typography,{variant:"caption"},i.a.createElement("strong",null,n.toUpperCase())," (",a,")"),icon:i.a.createElement(d.m,{fontSize:"small"}),style:{height:"25px"}}))},W=Object(m.withStyles)(k.a,{withTheme:!0})(function(e){var t=e.classes,n=e.verseKey,a=e.context.reference.chapter,r=e.resource,o=r.manifest,s=r.manifest.dublin_core.language.direction,c=r.data,l=e.noTitle,m=i.a.createElement("span",null);c[a][n].verseObjects&&(m=c[a][n].verseObjects.map(function(e,t){return i.a.createElement(P,{key:t,verseObject:e})}));var u=i.a.createElement("span",null);return l||(u=i.a.createElement(M,{manifest:o})),i.a.createElement("div",{className:t.verse},i.a.createElement("div",{style:{direction:s}},i.a.createElement("sup",null,n," "),m),u)}),D=Object(m.withStyles)(k.a,{withTheme:!0})(function(e){var t=e.classes,n=(e.languageId,e.verseKey),a=e.resources,r=a.ult,o=a.ust,s=a.original,c=a.tn,l=e.context,m=e.setContext,d=e.context.reference,p=d.bookId,h=d.chapter,f=[],b={title:"Reference",content:i.a.createElement("div",{style:{paddingTop:"1em"}},i.a.createElement(W,{verseKey:n,resource:o,context:l}),i.a.createElement(u.Divider,{variant:"middle"}),i.a.createElement(W,{verseKey:n,resource:s,context:l}))};if(f.push(b),s.data[h][n]){var v=function(e){var t=e.verseObjects;return t?t.filter(function(e){return e.tw}).map(function(e){var t=[];return"word"===e.type&&t.push(e),e.children&&(t=t.concat(e.children)),{link:e.tw,originalWords:t}}):[]}({verseObjects:s.data[h][n].verseObjects});if(v.length>0){var g={title:"Words",original:v};f.push(g)}}if(c.data[h][n]){var E={title:"Notes",notes:c.data[h][n]};f.push(E)}var x=i.a.createElement("div",null,i.a.createElement("div",{style:{paddingRight:"24px"}},i.a.createElement(M,{manifest:r.manifest})),f.length>0?i.a.createElement(C.a,{context:l,setContext:m,tabs:f}):null),y="".concat(p,"_").concat(h,"_").concat(n);return i.a.createElement(j,{summary:i.a.createElement("div",null,i.a.createElement("span",{id:y,style:{position:"absolute",top:"-5em"}}),i.a.createElement("div",{className:t.verse},i.a.createElement(W,{verseKey:n,resource:r,context:l,noTitle:!0}))),details:x})}),_=Object(m.withStyles)(k.a)(function(e){e.classes;var t=e.context,n=e.context,a=n.reference,r=n.reference.chapter,o=e.setContext,s=e.lemmaIndex,c=e.resources,l=e.resources,m=l.ult,u=l.tn,d=Object.keys(m.data[r]).filter(function(e){return/\d+/g.test(e)}).map(function(e){return i.a.createElement(D,{key:"".concat(a.chapter,"-").concat(e),context:t,setContext:o,lemmaIndex:s,verseKey:e,resources:c})}),p=[{title:"Chapter Notes",text:u.data[r].intro&&u.data[r].intro[0]?u.data[r].intro[0].occurrence_note.replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,""):""}];return[i.a.createElement(j,{key:"chapter"+a.chapter,summary:i.a.createElement("h2",null,"Chapter ",a.chapter),details:i.a.createElement(C.a,{context:t,setContext:o,tabs:p})})].concat(d)}),B=n(6142),U=n.n(B),A=function(e){var t=e.lemmaIndex,n=[];Object.keys(t).forEach(function(e){var a=t[e].map(function(t){var n=t.strong,a=t.alignment,r=t.reference,o=r.chapter,s=r.verse,c=function e(t){var n=t.verseObject,a=t.originalTexts,r=void 0===a?[]:a,o=t.targetTexts,s=void 0===o?[]:o,c=n.content,l=n.text,i=n.children;return c&&r.push(c),l&&s.push(l),i&&i.forEach(function(t){var n=e({verseObject:t,originalTexts:r,targetTexts:s}),a=n._originalTexts,o=n._targetTexts;r.concat(a),s.concat(o)}),{originalTexts:r,targetTexts:s}}({verseObject:a}),l=c.originalTexts,i=c.targetTexts,m=l.join(" "),u=i.join(" "),d="".concat(o,":").concat(s);return["".concat(n,": ").concat(e),m,u,d]});n=n.concat(a)});return i.a.createElement(m.MuiThemeProvider,{theme:Object(m.createMuiTheme)({overrides:{MuiPaper:{elevation4:{boxShadow:"none"},rounded:{borderRadius:"unset"},root:{backgroundColor:"unset"}},MuiTableCell:{root:{padding:"0 8px 0 8px"}},MuiTableRow:{root:{height:"unset"}}}})},i.a.createElement(U.a,{title:"Search UGNT and ULT for this book",data:n,columns:[{name:"Strong's: Lemma",options:{filter:!1,sort:!0}},{name:"UGNT",options:{filter:!1,sort:!0}},{name:"ULT",options:{filter:!1,sort:!0}},{name:"C:V",options:{filter:!1,sort:!0}}],options:{filterType:"checkbox",selectableRows:!1,responsive:"scroll",download:!1,print:!1,filter:!1,viewColumns:!1}}))},J=n(203),K=function(){return Object(m.createMuiTheme)({overrides:{MuiPaper:{elevation4:{boxShadow:"none"},rounded:{borderRadius:"unset"},root:{backgroundColor:"#FFF"}},MuiTableCell:{root:{padding:"0 8px 0 8px"}},MUIDataTableHeadCell:{fixedHeader:{zIndex:"unset"}},MUIDataTable:{responsiveScroll:{maxHeight:"unset"}},MuiTableRow:{root:{height:"unset"}}}})},z=function(e){var t=e.tn,n=[{name:"C:V",options:{filter:!1,sort:!0}},{name:"ID",options:{filter:!1,sort:!0,display:"false"}},{name:"Type",options:{filter:!0,sort:!0}},{name:"Original",options:{filter:!1,sort:!0}},{name:"Occurrence",options:{filter:!1,sort:!0,display:"false"}},{name:"Gateway",options:{filter:!1,sort:!0}},{name:"Note",options:{filter:!1,sort:!0,display:"false",customBodyRender:function(e,t,n){var a=e.length<=97?e:e.substring(0,100)+"...";return i.a.createElement("div",null,a)}}}];t.shift(),t.pop();var a=t.map(function(e){var t=Object(J.a)(e,9),n=(t[0],t[1]),a=t[2],r=t[3],o=t[4],s=t[5],c=t[6],l=t[7],i=t[8],m=o||"general";return["".concat(n,":").concat(a),r,m,s,c,l,i]});return i.a.createElement(m.MuiThemeProvider,{theme:K()},i.a.createElement(U.a,{title:"Search translationNotes",data:a,columns:n,options:{filterType:"checkbox",selectableRows:!1,responsive:"scroll",download:!1,print:!1,filter:!0,viewColumns:!0}}))},V=n(204),F=Object(m.withStyles)(k.a)(function(e){var t=e.classes,n=e.context,a=e.setContext,r=e.context.reference.chapter,o=e.resources,s=o.ult,c=o.ust,l=o.original,m=o.tn,u=e.lemmaIndex,d=V.b({tn:m.data}),p=[],h=d.front.intro[0].occurrence_note,f=h.split("\n").splice(1).join("\n").replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,"");if(p.push({title:"Book Notes",text:f}),m){var b=i.a.createElement(z,{tn:m.data});p.push({title:"Search Notes",content:b})}if(u&&Object.keys(u).length>0){var v=i.a.createElement(A,{lemmaIndex:u});p.push({title:"Search Words",content:v})}var g={ult:s,ust:c,original:l,tn:{manifest:m.manifest,data:d}},E=i.a.createElement(_,{context:n,setContext:a,lemmaIndex:u,resources:g,translationNotesChapterData:d[r]});return i.a.createElement("div",{className:t.root},i.a.createElement(j,{key:n.reference.bookId+"intro",summary:i.a.createElement(O.a,{source:h.split("\n")[0],escapeHtml:!1}),details:i.a.createElement(C.a,{context:n,setContext:a,tabs:p})}),E)}),H=Object(m.withStyles)(function(e){return{root:{width:"100%"},progress:{margin:"auto",display:"block"}}})(function(e){var t=e.classes,n=e.resources,a=e.manifests,r=e.context,o=e.setContext,s=e.context.reference,c=e.referenceLoaded,l=e.lemmaIndex,m=i.a.createElement(v,{context:r,setContext:o,manifests:a}),d=i.a.createElement(x,{context:r,setContext:o,manifests:a}),p=i.a.createElement(F,{context:r,setContext:o,resources:n,lemmaIndex:l}),h=i.a.createElement(u.CircularProgress,{className:t.progress,color:"secondary",disableShrink:!0}),f=!s.bookId,b=s.bookId&&!s.chapter,g=c&&s.bookId===c.bookId;return f?h=m:b?h=d:g&&(h=p),i.a.createElement("div",{className:t.root},h)}),G=function e(t){var n=t.verseObject,a=t.originalWords,r=void 0===a?[]:a;if("milestone"===n.type){var o=JSON.parse(JSON.stringify(n));delete o.children,r.push(o),n.children.forEach(function(t){e({verseObject:t,originalWords:r})})}return r},Y=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={lemmaIndex:null,referenceLoaded:null,resources:{ult:null,ust:null,tn:null,original:null}},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"fetchResourcesConditionally",value:function(e){var t=this,n=e.manifests,a=e.context.reference,r=this.state,o=r.ult,s=r.ust,c=r.obs,l=a.bookId!==this.props.context.reference.bookId,i=!(o||s||c)||l;a.bookId&&Object.keys(n).length>0&&i&&V.a(e).then(function(e){var n=function(e){var t=e.data;console.time("indexing");var n={};return Object.keys(t).forEach(function(e){var a=t[e];Object.keys(a).forEach(function(t){a[t].verseObjects.forEach(function(a){G({verseObject:a}).forEach(function(r){var o=r.lemma,s=r.strong,c={reference:{chapter:e,verse:t},alignment:a,strong:s};n[o]||(n[o]=[]),n[o].push(c)})})})}),console.timeEnd("indexing"),n}({data:e.ult.data});t.setState({lemmaIndex:n,resources:e,referenceLoaded:a})})}},{key:"componentWillReceiveProps",value:function(e){this.fetchResourcesConditionally(e)}},{key:"componentDidMount",value:function(){this.fetchResourcesConditionally(this.props)}},{key:"componentDidUpdate",value:function(){var e=this.props.context.reference,t=e.bookId,n=e.chapter,a=e.verse,r="".concat(t,"_").concat(n,"_").concat(a),o=document.getElementById(r);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"render",value:function(){var e=this.props,t=this.state,n=t.lemmaIndex,a=t.resources,r=t.referenceLoaded;return i.a.createElement(H,Object.assign({},e,{lemmaIndex:n,referenceLoaded:r,resources:a}))}}]),t}(i.a.Component);t.default=Y}}]);
//# sourceMappingURL=6.7fa4c7d9.chunk.js.map