(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(e,t,n){},381:function(e){e.exports=[{id:"gen",testament:"old",verseCount:1533,chapters:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26]},{id:"exo",testament:"old",verseCount:1213,chapters:[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38]},{id:"lev",testament:"old",verseCount:859,chapters:[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34]},{id:"num",testament:"old",verseCount:1288,chapters:[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13]},{id:"deu",testament:"old",verseCount:959,chapters:[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12]},{id:"jos",testament:"old",verseCount:658,chapters:[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33]},{id:"jdg",testament:"old",verseCount:618,chapters:[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25]},{id:"rut",testament:"old",verseCount:85,chapters:[22,23,18,22]},{id:"1sa",testament:"old",verseCount:810,chapters:[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13]},{id:"2sa",testament:"old",verseCount:695,chapters:[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25]},{id:"1ki",testament:"old",verseCount:816,chapters:[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53]},{id:"2ki",testament:"old",verseCount:719,chapters:[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30]},{id:"1ch",testament:"old",verseCount:942,chapters:[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30]},{id:"2ch",testament:"old",verseCount:822,chapters:[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23]},{id:"ezr",testament:"old",verseCount:280,chapters:[11,70,13,24,17,22,28,36,15,44]},{id:"neh",testament:"old",verseCount:406,chapters:[11,20,32,23,19,19,73,18,38,39,36,47,31]},{id:"est",testament:"old",verseCount:167,chapters:[22,23,15,17,14,14,10,17,32,3]},{id:"job",testament:"old",verseCount:1070,chapters:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17]},{id:"psa",testament:"old",verseCount:2461,chapters:[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6]},{id:"pro",testament:"old",verseCount:915,chapters:[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31]},{id:"ecc",testament:"old",verseCount:222,chapters:[18,26,22,16,20,12,29,17,18,20,10,14]},{id:"sng",testament:"old",verseCount:117,chapters:[17,17,11,16,16,13,13,14]},{id:"isa",testament:"old",verseCount:1292,chapters:[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24]},{id:"jer",testament:"old",verseCount:1364,chapters:[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34]},{id:"lam",testament:"old",verseCount:154,chapters:[22,22,66,22,22]},{id:"ezk",testament:"old",verseCount:1273,chapters:[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35]},{id:"dan",testament:"old",verseCount:357,chapters:[21,49,30,37,31,28,28,27,27,21,45,13]},{id:"hos",testament:"old",verseCount:197,chapters:[11,23,5,19,15,11,16,14,17,15,12,14,16,9]},{id:"jol",testament:"old",verseCount:73,chapters:[20,32,21]},{id:"amo",testament:"old",verseCount:146,chapters:[15,16,15,13,27,14,17,14,15]},{id:"oba",testament:"old",verseCount:21,chapters:[21]},{id:"jon",testament:"old",verseCount:48,chapters:[17,10,10,11]},{id:"mic",testament:"old",verseCount:105,chapters:[16,13,12,13,15,16,20]},{id:"nam",testament:"old",verseCount:47,chapters:[15,13,19]},{id:"hab",testament:"old",verseCount:56,chapters:[17,20,19]},{id:"zep",testament:"old",verseCount:53,chapters:[18,15,20]},{id:"hag",testament:"old",verseCount:38,chapters:[15,23]},{id:"zec",testament:"old",verseCount:211,chapters:[21,13,10,14,11,15,14,23,17,12,17,14,9,21]},{id:"mal",testament:"old",verseCount:55,chapters:[14,17,18,6]},{id:"mat",testament:"new",verseCount:1071,chapters:[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20]},{id:"mrk",testament:"new",verseCount:678,chapters:[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20]},{id:"luk",testament:"new",verseCount:1151,chapters:[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53]},{id:"jhn",testament:"new",verseCount:879,chapters:[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25]},{id:"act",testament:"new",verseCount:1007,chapters:[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31]},{id:"rom",testament:"new",verseCount:433,chapters:[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27]},{id:"1co",testament:"new",verseCount:437,chapters:[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24]},{id:"2co",testament:"new",verseCount:257,chapters:[24,17,18,18,21,18,16,24,15,18,33,21,14]},{id:"gal",testament:"new",verseCount:149,chapters:[24,21,29,31,26,18]},{id:"eph",testament:"new",verseCount:155,chapters:[23,22,21,32,33,24]},{id:"php",testament:"new",verseCount:104,chapters:[30,30,21,23]},{id:"col",testament:"new",verseCount:95,chapters:[29,23,25,18]},{id:"1th",testament:"new",verseCount:89,chapters:[10,20,13,18,28]},{id:"2th",testament:"new",verseCount:47,chapters:[12,17,18]},{id:"1ti",testament:"new",verseCount:113,chapters:[20,15,16,16,25,21]},{id:"2ti",testament:"new",verseCount:83,chapters:[18,26,17,22]},{id:"tit",testament:"new",verseCount:46,chapters:[16,15,15]},{id:"phm",testament:"new",verseCount:25,chapters:[25]},{id:"heb",testament:"new",verseCount:303,chapters:[14,18,19,16,14,20,28,13,28,39,40,29,25]},{id:"jas",testament:"new",verseCount:108,chapters:[27,26,18,17,20]},{id:"1pe",testament:"new",verseCount:105,chapters:[25,25,22,19,14]},{id:"2pe",testament:"new",verseCount:61,chapters:[21,22,18]},{id:"1jn",testament:"new",verseCount:105,chapters:[10,29,24,21,21]},{id:"2jn",testament:"new",verseCount:13,chapters:[13]},{id:"3jn",testament:"new",verseCount:15,chapters:[15]},{id:"jud",testament:"new",verseCount:25,chapters:[25]},{id:"rev",testament:"new",verseCount:404,chapters:[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21]}]},384:function(e,t){},5663:function(e,t,n){e.exports=n(6231)},5668:function(e,t,n){},6231:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(49),s=n.n(o),c=(n(5668),n(10)),i=n(11),l=n(13),u=n(12),m=n(14),d=n(83),h=n.n(d),p=n(3),f=(n(206),n(377)),v=n.n(f),b=n(1),g=n(50),y=n(97),x=n.n(y),E=n(56),w=n(55),j=n.n(w),C=n(378),O=n.n(C),k=n(205),I=n.n(k),N=n(379),S=I.a.createInstance({driver:[I.a.INDEXEDDB],name:"web-cache"}),T=Object(N.setup)({baseURL:"https://d3r5pm83aa8hdu.cloudfront.net/",cache:{store:S,maxAge:864e5}}),W=function(e){return{ult:e+"_ult",tn:e+"-tn",ta:e+"-ta",tw:e+"-tw",ugnt:"UGNT",uhb:"UHB",ugl:e+"_ugl",uhal:e+"_uhal",obs:e+"_obs","obs-tn":e+"_obs-tn","obs-tq":e+"_obs-tq","obs-sn":e+"_obs-sn","obs-sq":e+"_obs-sq"}},P=function(e,t){return new Promise(function(n,a){A(e,t,"manifest.yaml").then(function(e){var t=O.a.parseDocument(e).toJSON();n(t)}).catch(a)})},A=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"master";return new Promise(function(r,o){var s=j.a.join(e,t,"raw/branch",a,n);D(s).then(r).catch(o)})},D=function(e){return new Promise(function(t,n){T.get(e).then(function(e){t(e.data)}).catch(function(e){n(e)})})},L=function(e,t,n,a){return new Promise(function(r,o){if(!V(a.projects,n)){var s="book not found in ult";console.warn(s),o(s)}var c=W(t).ult;M(e,c,n,a).then(function(e){var t=x.a.toJSON(e);r(t)}).catch(o)})},_=function(e,t,n,a,r){return new Promise(function(o,s){var c,i,l=function(e,t,n){var a;return V(t.projects,e)&&(a="old"),V(n.projects,e)&&(a="new"),a}(n,a,r),u=W(t);"old"===l&&(c=a,i=u.uhb),"new"===l&&(c=r,i=u.ugnt),M(e,i,n,c).then(function(e){var t=x.a.toJSON(e);o(t)}).catch(s)})},R=function(e,t,n,a){return new Promise(function(r,o){B(e,t,n,a).then(function(e){var t={};e.shift(),e.forEach(function(e){var n=Object(g.a)(e,9),a=n[0],r=n[1],o=n[2],s=n[3],c=n[4],i=n[5],l=n[6],u=n[7],m=n[8];if(a&&r&&o){t[r]||(t[r]={}),t[r][o]||(t[r][o]=[]);var d={id:s,support_reference:c,original_quote:i,occurrence:l,gl_quote:u,occurrence_note:m=m?m.replace(/<br>/g,"\n"):m};t[r][o].push(d)}}),r(t)}).catch(o)})},B=function(e,t,n,a){return new Promise(function(r,o){var s=W(t).tn;M(e,s,n,a).then(function(e){var t=J(e);r(t)}).catch(o)})},M=function(e,t,n,a){return new Promise(function(r,o){var s=V(a.projects,n).path;s=s.replace(/^\.\//,""),A(e,t,s).then(r).catch(o)})},V=function(e,t){var n,a=e.filter(function(e){return e.identifier===t});return a.length>0&&(n=a[0]),n},J=function(e){return e.split("\n").map(function(e){return e.trim().split("\t")})},K=Object(p.withStyles)(function(e){return{paper:{color:"#fff",backgroundColor:"#31ADE3",textAlign:"center",boxShadow:"0px 1px 5px 0px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 3px 1px -2px rgba(0, 0, 0, 0.12)"},toolbar:{margin:"auto",display:"inline-flex",padding:"1em 0"},logo:{height:"1.8em",paddingTop:"0.25em"}}},{withTheme:!0})(function(e){var t=e.classes,n=(e.applicationName,e.manifests),a=e.context,o=a.resourceId,s=a.reference,c="";n&&n[o]&&n[o].projects&&s&&s.bookId&&(c=V(n[o].projects,s.bookId).title);var i=c?r.a.createElement("span",null,"\xa0\xa0",c," ",s.chapter):r.a.createElement("span",null);return r.a.createElement(v.a,null,r.a.createElement("div",{className:t.paper},r.a.createElement("div",{className:t.toolbar},r.a.createElement("img",{className:t.logo,src:"./logo.png",alt:"unfoldingWord Logo"}),r.a.createElement(b.A,{variant:"title",color:"inherit",className:t.coin,noWrap:!0},i))))}),z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props;return r.a.createElement(K,e)}}]),t}(r.a.Component),q=n(7),U=Object(p.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}})(function(e){var t=e.classes,n=e.manifest,a=e.manifest.dublin_core,o=(a.subject,a.title),s=a.language,c=e.context,i=e.context,l=(i.username,i.languageId,i.resourceId,i.reference),u=i.reference,m=(u.bookId,u.chapter),d=u.verse,h=e.setContext,p="";n&&n.projects&&l&&l.bookId&&(p=V(n.projects,l.bookId).title);return r.a.createElement(b.t,{button:!0,className:t.bookListItem,style:{paddingLeft:"2em",paddingRight:"0.7em"},onClick:function(){h(c)}},r.a.createElement(b.u,{className:t.listItemIcon},r.a.createElement(q.d,null)),r.a.createElement(b.v,{className:t.listItemText,primary:"".concat(p," ").concat(m).concat(d?":".concat(d):""),secondary:"".concat(s.title," - ").concat(o)}))}),F=Object(p.withStyles)(function(e){return{root:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},list:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=e.setContext,a=e.manifests,o=e.contexts,s=[];return o&&(s=o.map(function(e,t){return r.a.createElement(U,{key:t+JSON.stringify(e),context:e,setContext:n,manifest:a[e.resourceId]})})),r.a.createElement(b.w,{className:t.root},r.a.createElement(b.s,{className:t.root,component:"nav",dense:!0},r.a.createElement("div",{className:t.list},s)))}),Q=Object(p.withStyles)({card:{minWidth:275,marginBottom:"1em"},title:{fontSize:14},pos:{marginBottom:12},actions:{width:"100%",textAlign:"right"},button:{marginLeft:"auto"}})(function(e){var t=e.classes,n=(e.manifest,e.manifest.dublin_core),a=n.identifier,o=n.subject,s=n.title,c=n.description,i=(n.publisher,n.language,n.rights),l=(n.contributors,e.context),u=l.username,m=l.languageId,d=e.setContext;return r.a.createElement(b.f,{className:t.card},r.a.createElement(b.h,null,r.a.createElement(b.A,{className:t.title,color:"textSecondary",gutterBottom:!0},o),r.a.createElement(b.A,{variant:"h5",component:"h2"},s),r.a.createElement(b.A,{className:t.pos,color:"textSecondary"},i),r.a.createElement(b.A,{component:"p"},c)),r.a.createElement(b.g,{className:t.actions},r.a.createElement(b.e,{size:"small",variant:"contained",className:t.button,color:"primary",onClick:function(){d({username:u,languageId:m,resourceId:a,reference:"obs"===a?{bookId:a}:{}})}},"Open")))}),H=function(e){return{root:{},paper:{padding:2*e.spacing.unit},column:{maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},verse:{margin:0},originalVerse:{margin:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},fullWidth:{width:"100%"},expansionPanelDetails:{paddingLeft:0,paddingRight:0,paddingBottom:0},expansionPanelActions:{padding:0}}},Y=Object(p.withStyles)(H)(function(e){var t=e.classes,n=e.context,a=e.setContext,o=e.manifests,s=Object.keys(o).filter(function(e){return["ult","obs"].includes(e)});return r.a.createElement("div",{className:t.column},s.map(function(e){return r.a.createElement(Q,{key:e,context:n,setContext:a,manifest:o[e]})}))}),Z=n(132),G=n(381),X=function(e){try{return e&&"obs"!==e?$(e).chapters:Object(Z.a)(Array(50).keys())}catch(t){}},$=function(e){return G.filter(function(t){return t.id===e})[0]},ee=Object(p.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}},{withTheme:!0})(function(e){var t=e.classes,n=e.bookMetadata,a=e.context,o=e.setContext,s=e.context.reference,c=n.identifier,i=X(c).length;return r.a.createElement(b.t,{button:!0,selected:s.bookId===n.identifier,className:t.bookListItem,style:{paddingLeft:"2.2em",paddingRight:"0.7em"},onClick:function(){a.reference={bookId:c},o(a)}},r.a.createElement(b.u,{className:t.listItemIcon},s.bookId===n.identifier?r.a.createElement(q.a,null):r.a.createElement(q.b,null)),r.a.createElement(b.v,{className:t.listItemText,primary:n.title,secondary:i+" Chapters"}))}),te=Object(p.withStyles)(function(e){return{list:{paddingTop:0,paddingBottom:0},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}},{withTheme:!0})(function(e){var t=e.classes,n=e.testamentId,a=e.books,o=e.context,s=e.setContext,c=e.open,i=e.toggle,l=a?a.map(function(e){return r.a.createElement(ee,{key:e.identifier,bookMetadata:e,context:o,setContext:s})}):[];return r.a.createElement("div",null,r.a.createElement(b.t,{button:!0,selected:c,className:t.fileList,style:{paddingLeft:"1em",paddingRight:"0.5em"},onClick:i},r.a.createElement(b.u,{className:t.listItemIcon},c?r.a.createElement(q.e,null):r.a.createElement(q.f,null)),r.a.createElement(b.v,{inset:!0,className:t.listItemText,primary:n,secondary:a.length+" Books"})),r.a.createElement(b.l,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(b.s,{dense:!0,className:t.list},l)))}),ne=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this.props,t=this.state.open;return r.a.createElement(te,Object.assign({},e,{open:t,toggle:this.toggle.bind(this)}))}}]),t}(r.a.Component),ae=Object(p.withStyles)(function(e){return{bible:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},bibleList:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=e.manifests,a=e.context,o=e.setContext,s={},c=n.ult;return c&&c.projects.forEach(function(e){var t=e.categories.includes("bible-ot")?"Old Testament":"New Testament";s[t]||(s[t]=[]),s[t].push(e)}),r.a.createElement(b.w,{className:t.bible},r.a.createElement(b.s,{className:t.bible,component:"nav",dense:!0},r.a.createElement("div",{className:t.bibleList},Object.keys(s).map(function(e){return r.a.createElement(ne,{key:e,testamentId:e,books:s[e],context:a,setContext:o})}))))}),re=Object(p.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}})(function(e){var t=e.classes,n=e.chapter,a=e.verses,o=e.context,s=e.setContext,c=e.context.reference;return r.a.createElement(b.t,{button:!0,selected:c.chapter===n,className:t.bookListItem,style:{paddingLeft:"2em",paddingRight:"0.7em"},onClick:function(){o.reference={bookId:c.bookId,chapter:n},s(o)}},r.a.createElement(b.u,{className:t.listItemIcon},c.chapter===n?r.a.createElement(q.c,null):r.a.createElement(q.d,null)),r.a.createElement(b.v,{className:t.listItemText,primary:"Chapter "+n,secondary:a+" Verses"}))}),oe=Object(p.withStyles)(function(e){return{root:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},list:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=(e.bookData,e.context),a=e.setContext,o=e.context.reference,s=X(o.bookId).map(function(e,t){return r.a.createElement(re,{key:t,chapter:t+1,verses:e,context:n,setContext:a})});return r.a.createElement(b.w,{className:t.root},r.a.createElement(b.s,{className:t.root,component:"nav",dense:!0},r.a.createElement("div",{className:t.list},s)))}),se=n(382),ce=n.n(se),ie=Object(p.withStyles)(H)(function(e){var t=e.classes,n=e.summary,a=e.details,o=e.id,s=e.open,c=e.handleToggle,i=e.handleClose;return r.a.createElement(b.n,{expanded:s,className:t.column,onChange:c},r.a.createElement(b.q,{expandIcon:r.a.createElement(q.h,null)},r.a.createElement("span",{id:o,style:{position:"absolute",top:"-5em"}}),n),r.a.createElement(b.p,{className:t.expansionPanelDetails},s?r.a.createElement("div",{className:t.fullWidth},a):""),r.a.createElement(b.o,{className:t.expansionPanelActions},r.a.createElement(b.r,{className:t.button,"aria-label":"Close",onClick:i},r.a.createElement(q.g,null))))}),le=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={id:Math.random(),open:!1},n.handleClose=function(){n.setState({open:!1}),n.scrollToId(n.state.id)},n.handleToggle=function(){n.setState({open:!n.state.open}),n.scrollToId(n.state.id)},n.scrollToId=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state,n=t.open,a=t.id;return r.a.createElement(ie,Object.assign({},e,{id:a,open:n,handleClose:this.handleClose.bind(this),handleToggle:this.handleToggle.bind(this)}))}}]),t}(r.a.Component),ue=n(383),me=n.n(ue),de=n(81),he=n.n(de),pe=n(82),fe=n.n(pe),ve=function(e){return W(e).ta},be=function(e){return W(e).tw},ge=function(e,t,n){return new Promise(function(a,r){switch(t){case"ta":(function(e,t){return new Promise(function(n,a){var r=t.split("/").splice(1).join("/")+"/title.md";A("unfoldingword",ve(e),r).then(n).catch(a)})})(e,n).then(a).catch(function(e){return console.log(e)});break;case"tw":(function(e,t){return new Promise(function(n,a){var r=t.split("/").splice(1).join("/")+".md";A("unfoldingword",be(e),r).then(function(e){var t=e.split(/\n/)[0].replace(/#/g,"").trim();n(t)}).catch(a)})})(e,n).then(a).catch(function(e){return console.log(e)});break;case"tn":break;default:var o="resourceId not configured: ".concat(e," - ").concat(t," - ").concat(n);console.log(o)}})},ye=function(e,t,n){return new Promise(function(a,r){switch(t){case"ta":(function(e,t){return new Promise(function(n,a){var r=t.split("/").splice(1).join("/")+"/01.md";A("unfoldingword",ve(e),r).then(function(a){var r=t.split("/").splice(0,2).join("/");a=a.split("../").join("http://".concat(e,"/ta/").concat(r,"/")).split("/01.md").join("").split("rc://").join("http://"),n(a)}).catch(a)})})(e,n).then(a).catch(function(e){return console.log(e)});break;case"tw":(function(e,t){return new Promise(function(n,a){var r=t.split("/").splice(1).join("/")+".md";A("unfoldingword",be(e),r).then(function(a){var r=t.split("/").splice(0,2).join("/");a=a.split("../").join("http://".concat(e,"/tw/").concat(r,"/")).split(".md").join("").split("rc://").join("http://"),n(a)}).catch(a)})})(e,n).then(a).catch(function(e){return console.log(e)});break;case"tn":break;default:var o="resourceId not configured: ".concat(e," - ").concat(t," - ").concat(n);console.log(o)}})},xe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={context:{languageId:null,resourceId:null,reference:null},path:null,title:null,article:null,open:null},n.handleOpen=function(){var e=n.state,t=e.context,a=t.languageId,r=t.resourceId,o=t.reference,s=e.path,c=e.title;if(o){var i=n.props.context;["ult","obs"].includes(r)&&(i.resourceId=r),i.reference=o,n.props.setContext(i)}else ye(a,r,s).then(function(e){var t={title:c||s,text:e};n.props.addTab(t)})},n.handleClose=function(){n.setState({open:!1})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"parseHref",value:function(e){var t,n,a,r,o=/http:\/\/([\w-_]+)\/([\w-_]+)\/(.+)/;if(o.test(e)){var s=o.exec(e),c=Object(g.a)(s,4);c[0],t=c[1],n=c[2],a=c[3]}else a=e;if("tn"===n){var i=/\/([\w]+)\/([\d]+)\/([\d]+)/;if(i.test(a)){var l=i.exec(a),u=Object(g.a)(l,4),m=(u[0],u[1]),d=u[2],h=u[3];"obs"===m?(n="obs",r={chapter:parseInt(d),verse:parseInt(h)}):(n="ult",r={bookId:m,chapter:parseInt(d),verse:parseInt(h)})}}return{context:{languageId:t,resourceId:n,reference:r},path:a}}},{key:"componentWillMount",value:function(){var e=this.props,t=e.href,n=e.children,a=this.parseHref(t),r=n[0];r!==t&&(a.title=r),this.setState(a)}},{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.context,a=n.languageId,r=n.resourceId,o=t.title,s=t.path;!o&&a&&r&&s&&ge(a,r,s).then(function(t){e.setState({title:t})})}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.path,a=this.props.classes;return r.a.createElement(b.j,{label:r.a.createElement(b.A,{noWrap:!0,component:"span"},t||n),component:"span",className:a.chip,classes:{label:a.label},onClick:this.handleOpen,clickable:!0})}}]),t}(r.a.Component),Ee=Object(p.withStyles)(function(e){return{chip:{height:"unset",maxWidth:"95%"},label:{maxWidth:"94%"}}},{withTheme:!0})(xe),we=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={component:null},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.text,n=e.addTab,a=e.context,o=e.setContext,s={remarkReactComponents:{a:function(e){return r.a.createElement(Ee,Object.assign({},e,{context:a,setContext:o,addTab:n}))},div:function(e){return r.a.createElement("div",Object.assign({},e,{style:{width:"100%"}}))}}},c=he()().use(fe.a,s).processSync(t).contents;this.setState({component:c})}},{key:"render",value:function(){return this.state.component}}]),t}(r.a.Component),je=Object(p.withStyles)(function(e){return{root:{width:"100%"},note:{marginTop:"0.5em",marginBottom:"0.5em"}}})(function(e){var t=e.classes,n=e.context,a=e.setContext,o=e.note,s=e.addTab,c=o.occurrence_note.replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,""),i=r.a.createElement(we,{context:n,setContext:a,text:c,addTab:s});return r.a.createElement("div",{className:t.root},r.a.createElement(b.m,null),r.a.createElement("div",{className:t.note},r.a.createElement("strong",null,o.gl_quote)," ",i))}),Ce=Object(p.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject,n=e.senses;return r.a.createElement("div",null,r.a.createElement(b.A,null,r.a.createElement("span",null,r.a.createElement("strong",null,t.text||t.content)," -"),r.a.createElement("span",null," ",r.a.createElement("em",null,"lemma:")," ",t.lemma),r.a.createElement("span",null," ",r.a.createElement("em",null,"strong:")," ",t.strong)),n.map(function(e,t){return r.a.createElement(b.A,{key:t},r.a.createElement("sup",null,t+1),e.gloss?r.a.createElement("span",null," ",r.a.createElement("em",null,"Gloss:")," ",e.gloss):"",e.definition?r.a.createElement("span",null," ",r.a.createElement("em",null,"Definition:")," ",e.definition):"")}))}),Oe=W("en"),ke=function(e){return new Promise(function(t,n){var a,r;/^H/.test(e)&&(a=Oe.uhal,r=j.a.join("content",e+".md")),/^G/.test(e)&&(a=Oe.ugl,r=j.a.join("content",e,"01.md")),A("unfoldingword",a,r).then(function(e){var n=function(e){var t=[];return e.split(/##\s*Senses/)[1].split(/###\s*Sense/).splice(1).forEach(function(e){var n=/####\s*Definitions?.*?[\n\s]+(.*?)\n/,a=/####\s*Glosse?s?.*?[\n\s]+(.*?)\n/,r=n.test(e)?n.exec(e)[1]:null;r=/#/.test(r)?null:r;var o=a.test(e)?a.exec(e)[1]:null,s={definition:r,gloss:o=/#/.test(o)?null:o};t.push(s)}),Ie(t)}(e);t(n)}).catch(n)})},Ie=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e;return e.forEach(function(e){(t=t.filter(function(t){return!(e.gloss===t.gloss&&e.definition===t.definition)})).push(e)}),t},Ne=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={senses:[]},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;ke(this.props.verseObject.strong).then(function(t){e.unmounted||e.setState({senses:t})}).catch(function(e){console.log(e)})}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return r.a.createElement(Ce,{verseObject:this.props.verseObject,senses:this.state.senses})}}]),t}(r.a.Component),Se=Object(p.withStyles)(function(e){return{}},{withTheme:!0})(Ne),Te=function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},width:{width:"100%"},appBar:{width:"95%",zIndex:"10",margin:"auto"},hidden:{height:"0px"},padding:{padding:"0 ".concat(2*e.spacing.unit,"px")},tabContent:{padding:"0 ".concat(3*e.spacing.unit,"px")}}},We=Object(p.withStyles)(Te,{withTheme:!0})(function(e){var t=e.classes,n=e.context,a=e.setContext,o=e.tabs,s=e.addTab,c=e.tabIndex,i=e.handleChangeIndex,l=e.id,u=[],m=[],d=0;return o.forEach(function(e,o){var i;if(e.text)d=0,i=r.a.createElement(we,{text:e.text,addTab:s,context:n,setContext:a});else if(e.notes)d=e.notes.length,i=e.notes.map(function(e,t){return r.a.createElement(je,{key:t,note:e,addTab:s,context:n,setContext:a})});else if(e.original){var l=e.original;d=l.length,i=l.map(function(e,t){var o=e.link.replace("rc://*/","http://".concat(n.languageId,"/")),c=e.originalWords.map(function(e,t){return r.a.createElement(Se,{key:t,verseObject:e})}),i="".concat(o);return r.a.createElement("div",{key:t},r.a.createElement(b.m,null),r.a.createElement(we,{text:i,addTab:s,context:n,setContext:a}),c)})}else e.words?(d=e.words.length,i=e.words.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(b.m,null),r.a.createElement(we,{text:e,addTab:s,context:n,setContext:a}))})):e.iframe&&(d=0,i=e.iframe);var h=r.a.createElement(b.b,{className:t.padding,color:"primary",badgeContent:d},e.title);u.push(r.a.createElement(b.y,{key:u.length,label:d>0?h:e.title})),m.push(r.a.createElement("div",{key:m.length,className:o===c?t.tabContent:t.hidden},i))}),r.a.createElement("div",{id:l,className:t.root},r.a.createElement(b.a,{className:t.appBar,position:"sticky",color:"default"},r.a.createElement(b.z,{className:t.width,value:c,onChange:i,indicatorColor:"primary",textColor:"primary",scrollable:!0,scrollButtons:"auto"},u)),r.a.createElement(me.a,{className:t.width,index:c,onChangeIndex:i},m))}),Pe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={id:Math.random(),tabIndex:0,tabs:n.props.tabs},n.handleChangeIndex=function(e,t){var a=void 0!==t?t:e;n.setState({tabIndex:a}),n.scrollToId(n.state.id)},n.addTab=function(e){var t=n.state.tabs;t.push(e),n.setState({tabs:t,tabIndex:t.length-1}),n.scrollToId(n.state.id)},n.scrollToId=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state,n=t.tabs,a=t.tabIndex,o=t.id;return r.a.createElement(We,Object.assign({},e,{id:o,tabs:n,tabIndex:a,addTab:this.addTab.bind(this),handleChangeIndex:this.handleChangeIndex.bind(this)}))}}]),t}(r.a.Component),Ae=Object(p.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject,n="word"===t.type;return r.a.createElement("span",null,n?" ":"",t.text)}),De=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handlePopoverOpen=function(e){n.setState({anchorEl:e.currentTarget})},n.handlePopoverClose=function(){n.setState({anchorEl:null})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.children,a=e.originalWords,o=this.state.anchorEl,s=Boolean(o);return r.a.createElement("span",null,r.a.createElement("span",{"aria-owns":s?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:this.handlePopoverOpen,onMouseLeave:this.handlePopoverClose,className:s?t.open:t.closed},n.map(function(e,t){return r.a.createElement(Ae,{key:t,verseObject:e})})),r.a.createElement(b.x,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:s,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:this.handlePopoverClose,disableRestoreFocus:!0},a.map(function(e,t){return r.a.createElement(Se,{key:t,verseObject:e})})))}}]),t}(r.a.Component),Le=Object(p.withStyles)(function(e){return{open:{backgroundColor:"lightgoldenrodyellow"},closed:{},popover:{pointerEvents:"none"},paper:{padding:e.spacing.unit}}},{withTheme:!0})(De),_e=Object(p.withStyles)(function(e){return{root:{width:"100%"}}},{withTheme:!0})(function(e){e.classes;var t=e.verseObject,n=e.originalWords;return n.push(t),"milestone"===t.children[0].type?t.children.map(function(e,t){return r.a.createElement(Re,{key:t,verseObject:e,originalWords:n})}):r.a.createElement(Le,{originalWords:n,children:t.children})}),Re=Object(p.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t,n=e.verseObject,a=e.originalWords,o="text";return"milestone"===n.type&&n.lemma&&(o="milestone"),"text"===o&&(t=r.a.createElement(Ae,{verseObject:n})),"milestone"===o&&(t=r.a.createElement(_e,{verseObject:n,originalWords:a})),t}),Be=Object(p.withStyles)(H,{withTheme:!0})(function(e){var t=e.classes,n=(e.languageId,e.verseKey),a=e.bookVerseData,o=e.originalVerseData,s=e.translationNotesVerseData,c=e.context,i=e.setContext,l=e.context,u=(l.resourceId,l.reference),m=a.verseObjects?a.verseObjects.map(function(e,t){return r.a.createElement(Re,{key:t,verseObject:e,originalWords:[]})}):r.a.createElement("span",null),d=o.verseObjects?o.verseObjects.map(function(e,t){return r.a.createElement(Re,{key:t,verseObject:e,originalWords:[]})}):r.a.createElement("span",null),h=[];if(s){var p={title:"Notes",notes:s};h.push(p)}var f=o.verseObjects.filter(function(e){return e.tw}).map(function(e){var t=[];return"word"===e.type&&t.push(e),e.children&&(t=t.concat(e.children)),{link:e.tw,originalWords:t}});if(f.length>0){var v={title:"Words",original:f};h.push(v)}var g=function(e){return $(e).testament}(u.bookId),y=r.a.createElement("div",null,r.a.createElement(b.m,{variant:"middle"}),r.a.createElement("div",{className:t.originalVerse,style:{direction:"old"===g?"rtl":"ltr"}},r.a.createElement("sup",null,n," "),d),h.length>0?r.a.createElement(Pe,{context:c,setContext:i,tabs:h}):null),x=u.bookId,E=u.chapter,w="".concat(x,"_").concat(E,"_").concat(n);return r.a.createElement(le,{summary:r.a.createElement("div",null,r.a.createElement("div",{className:t.verse},r.a.createElement("span",{id:w,style:{position:"absolute",top:"-5em"}}),r.a.createElement("sup",null,n," "),m)),details:y})}),Me=Object(p.withStyles)(H)(function(e){e.classes;var t=e.context,n=e.context.reference,a=e.setContext,o=e.bookChapterData,s=e.originalChapterData,c=e.translationNotesChapterData,i=Object.keys(o).filter(function(e){var t=o[e].verseObjects.map(function(e){return e.text}).join("");return/\S+/g.test(t)}).map(function(e){return r.a.createElement(Be,{key:"".concat(n.chapter,"-").concat(e),context:t,setContext:a,verseKey:e,bookVerseData:o[e],originalVerseData:s?s[e]:null,translationNotesVerseData:c[e]})}),l=[{title:"Chapter Notes",text:c.intro&&c.intro[0]?c.intro[0].occurrence_note.replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,""):""}];return[r.a.createElement(le,{key:"chapter"+n.chapter,summary:r.a.createElement("h2",null,"Chapter ",n.chapter),details:r.a.createElement(Pe,{context:t,setContext:a,tabs:l})})].concat(i)}),Ve=Object(p.withStyles)(H)(function(e){var t=e.classes,n=e.context,a=e.setContext,o=e.context.reference.chapter,s=e.resources,c=s.ult,i=s.original,l=s.tn,u=r.a.createElement(Me,{context:n,setContext:a,bookChapterData:c[o],originalChapterData:i[o],translationNotesChapterData:l[o]}),m=l.front.intro[0].occurrence_note,d=[{title:"Book Notes",text:m.split("\n").splice(1).join("\n").replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,"")}];return r.a.createElement("div",{className:t.root},r.a.createElement(le,{key:n.reference.bookId+"intro",summary:r.a.createElement(ce.a,{source:m.split("\n")[0],escapeHtml:!1}),details:r.a.createElement(Pe,{context:n,setContext:a,tabs:d})}),u)}),Je=Object(p.withStyles)(function(e){return{root:{width:"100%"},progress:{margin:"auto",display:"block"}}})(function(e){var t=e.classes,n=e.resources,a=e.manifests,o=e.context,s=e.setContext,c=e.context.reference,i=e.referenceLoaded,l=r.a.createElement(ae,{context:o,setContext:s,manifests:a}),u=r.a.createElement(oe,{context:o,setContext:s,manifests:a}),m=r.a.createElement(Ve,{context:o,setContext:s,resources:n}),d=r.a.createElement(b.k,{className:t.progress,color:"secondary",disableShrink:!0}),h=!c.bookId,p=c.bookId&&!c.chapter,f=i&&c.bookId===i.bookId;return h?d=l:p?d=u:f&&(d=m),r.a.createElement("div",{className:t.root},d)}),Ke=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={referenceLoaded:null,resources:{ult:null,tn:null,original:null}},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchResourcesConditionally",value:function(e){var t,n=this,a=e.manifests,r=e.context.reference,o=this.state,s=o.ult,c=o.obs,i=r.bookId!==this.props.context.reference.bookId,l=!(s||c)||i;r.bookId&&Object.keys(a).length>0&&l&&(t=e,new Promise(function(e,n){var a=t.context,r=a.username,o=a.languageId,s=a.reference,c=t.manifests,i={ult:null,tn:null,original:null};Object(E.each)(["ult","tn","original"],function(e,t){switch(e){case"ult":L(r,o,s.bookId,c.ult).then(function(n){i[e]=n.chapters,t()});break;case"tn":R(r,o,s.bookId,c.tn).then(function(n){i[e]=n,t()});break;case"original":_(r,o,s.bookId,c.uhb,c.ugnt).then(function(n){i[e]=n.chapters,t()});break;default:t()}},function(t){e(i)})})).then(function(e){n.setState({resources:e,referenceLoaded:r})})}},{key:"componentWillReceiveProps",value:function(e){this.fetchResourcesConditionally(e)}},{key:"componentDidMount",value:function(){this.fetchResourcesConditionally(this.props)}},{key:"componentDidUpdate",value:function(){var e=this.props.context.reference,t=e.bookId,n=e.chapter,a=e.verse,r="".concat(t,"_").concat(n,"_").concat(a),o=document.getElementById(r);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"render",value:function(){var e=this.props,t=this.state,n=t.resources,a=t.referenceLoaded;return r.a.createElement(Je,Object.assign({},e,{referenceLoaded:a,resources:n}))}}]),t}(r.a.Component),ze=n(384),qe=n.n(ze),Ue=Object(p.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}})(function(e){var t=e.classes,n=e.storyKey,a=e.frames,o=e.context,s=e.setContext,c=e.context.reference;return r.a.createElement(b.t,{button:!0,selected:c.chapter===n,className:t.bookListItem,style:{paddingLeft:"2em",paddingRight:"0.7em"},onClick:function(){o.reference={bookId:c.bookId,chapter:n},s(o)}},r.a.createElement(b.u,{className:t.listItemIcon},c.chapter===n?r.a.createElement(q.c,null):r.a.createElement(q.d,null)),r.a.createElement(b.v,{className:t.listItemText,primary:"Story ".concat(a[0].text.replace("#","").trim()),secondary:Object.keys(a).length+" Frames"}))}),Fe=Object(p.withStyles)(function(e){return{root:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},list:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=e.stories,a=e.context,o=e.setContext,s=(e.context.reference,Object.keys(n).map(function(e){var t=parseInt(e),s=n[t];return r.a.createElement(Ue,{key:t,context:a,setContext:o,storyKey:t,frames:s})}));return r.a.createElement(b.w,{className:t.root},r.a.createElement(b.s,{className:t.root,component:"nav",dense:!0},r.a.createElement("div",{className:t.list},s)))}),Qe=n(385),He=n.n(Qe),Ye=Object(p.withStyles)({card:{marginBottom:"1em"},media:{width:"calc(100vw - 1.9em)",height:"calc((100vw - 1.9em) * 9/16)",maxWidth:"40em",maxHeight:"calc(40em * 9/16)"},content:{paddingBottom:0},details:{padding:0},actions:{padding:0},button:{marginLeft:"auto"},player:{width:"100%",height:"100%"}})(function(e){var t,n=e.classes,a=e.open,o=e.handleToggleOpen,s=e.content,c=e.details,i=e.image,l=e.youtubeId;if(l){var u="https://www.youtube.com/watch?v=".concat(l);t=r.a.createElement("div",{className:n.media},r.a.createElement(He.a,{className:n.player,url:u,controls:!0,config:{youtube:{playerVars:{rel:0,modestbranding:1}}},height:"100%",width:"100%"}))}return r.a.createElement(b.f,{className:n.card},i?r.a.createElement(b.i,{className:n.media,image:i,title:"Open Bible Stories Image"}):t,r.a.createElement(b.h,{className:n.content},s),r.a.createElement(b.g,{className:n.actions,disableActionSpacing:!0},r.a.createElement(b.r,{className:n.button,onClick:o,"aria-expanded":a,"aria-label":"Show more"},a?r.a.createElement(q.g,null):r.a.createElement(q.h,null))),r.a.createElement(b.l,{in:a,timeout:"auto",unmountOnExit:!0},r.a.createElement(b.h,{className:n.details},c),r.a.createElement(b.g,{className:n.actions,disableActionSpacing:!0},r.a.createElement(b.r,{className:n.button,onClick:o,"aria-expanded":a,"aria-label":"collapse"},a?r.a.createElement(q.g,null):r.a.createElement(q.h,null)))))}),Ze=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,id:Math.random(),helps:{}},n.handleToggleOpen=function(){n.setState({open:!n.state.open}),n.scrollToId()},n.scrollToId=function(){var e=document.getElementById(n.state.id);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.frameKey,n=e.context.reference;parseInt(n.verse)===parseInt(t)&&this.scrollToId()}},{key:"render",value:function(){var e=this.state,t=e.open,n=e.id,a=this.props;return r.a.createElement("div",{id:n},r.a.createElement(Ye,Object.assign({},a,{open:t,handleToggleOpen:this.handleToggleOpen.bind(this)})))}}]),t}(r.a.Component),Ge=n(386),Xe=["UHEzSQE6TOs","OkJWjWFVvV4","2ycsRNjhYjU","aBPANcV67nk","I84GIPjHW0Q","lNzawXS8iKk","hDPJKRZa7U4","l0G3AQOYPR0","lfwMHrfoki0","SPSRlFyq_CQ","RpidswdLDWs","ZJKdHg9yVRs","MIk6i62zQ9A","Xg5dWR59sR8","vM4EzYDNSSM","IHwCxln7EbA","UL2pNVepgY8","DZxkuz2NEe8","KMoK1oITeBQ","jBCf1YY5pzM","sgABmFUZKx0","78PNW7qpufE","DxqwSFPTp3A","O0c_U3rPW0Q","im9mN_i_Y44","y3y27a90cBs","ie03EnZJ8kE","g6L2xbnpgCg","p7F8u3ymfn8","uFvINl8a7Ow","y0RYWZZw9Nc","MzdAo6p3J48","Htgd5jnKzPc","jCy9BJhwg6w","deYD2wxIQlA","gC6jkPn9sks","4srXPVgYU0w","F-CEE6hc1aE","4gFX7PnhfdI","RlOsDbJ9hEc","MAhIbNxMlPI","vCaywUPxzy4","kDMNXa4Z_M0","wb5owhurDXc","WUcXHSmjvgw","Ij34FKUaUJM","ioqNQiAUz0E","ep6RD36iDFw","ZWl5kehifDU","CnSJk-p087Y"],$e=function(e){var t={},n=/\((http.*?\.jpg).*?\)/;if(n.test(e)){var a=n.exec(e),r=Object(g.a)(a,2),o=(r[0],r[1]);t.image=o}return t.text=e.replace(/\s*\[.*?\]\(.*?\)\s*/,"").trim(),t},et=function(e,t,n){return new Promise(function(a,r){var o=W(t).obs,s=n<10?"0".concat(n):"".concat(n),c="content/".concat(s,".md");A(e,o,c).then(function(e){var t=function(e){var t={};return e.split(/\s*?\n\s*?\n\s*?[!]/).forEach(function(e,n){t[n]=$e(e)}),t}(e);a(t)}).catch(r)})},tt=Object(p.withStyles)({})(function(e){e.classes;var t=e.context,n=e.setContext,a=(e.open,e.handleToggleOpen,e.storyKey),o=e.frameKey,s=e.image,c=e.text,i=e.helps,l=[];if(i){var u=i.notes,m=i.words,d=i.questions,h=i.studyNotes;i.studyQuestions&&l.push({title:"Study Questions",text:i.studyQuestions}),u&&l.push({title:"Notes",notes:u}),m&&l.push({title:"Words",words:m}),d&&l.push({title:"Questions",notes:d}),h&&l.push({title:"Study Notes",notes:i.studyNotes})}var p,f=l.length>0?r.a.createElement(Pe,{context:t,setContext:n,tabs:l}):null,v=o>0?"**".concat(o,"** ").concat(c):c,b=he()().use(fe.a,{remarkReactComponents:{strong:"sup"}}).processSync(v).contents;return 0===parseInt(o)&&(p=Xe[a-1]),r.a.createElement(Ze,{context:t,content:b,details:f,image:s,youtubeId:p})}),nt=n(133),at=function(e,t,n){return new Promise(function(a,r){var o=W(t)["obs-sq"],s=["content",ct(n)+".md"].join("/");A(e,o,s).then(function(e){a(e)}).catch(r)})},rt=function(e,t,n,a){return new Promise(function(r,o){var s=W(t)["obs-sn"],c=ct(a)+".md",i=["content",ct(n),c].join("/");A(e,s,i).then(function(e){var t=ut(e);r(t)}).catch(o)})},ot=function(e,t,n,a){return new Promise(function(r,o){var s=W(t)["obs-tq"],c=ct(a)+".md",i=["content",ct(n),c].join("/");A(e,s,i).then(function(e){var t=it(e);r(t)}).catch(o)})},st=function(e,t,n,a){return new Promise(function(r,o){var s=W(t)["obs-tn"],c=ct(a)+".md",i=["content",ct(n),c].join("/");A(e,s,i).then(function(e){var t=lt(e);r(t)}).catch(o)})},ct=function(e){return"".concat(e<10?0:"").concat(e)},it=function(e){return e.split(/\n\s*#\s*/m).map(function(e){var t=e.split(/\n\s*/m),n=Object(nt.a)(t),a=n[0],r=n.slice(1);return{gl_quote:a.replace(/\s*#\s*/,""),occurrence_note:r.join("\n\n")}})},lt=function(e){var t,n=e.split(/#+\s*translationWords\s*/m),a=Object(g.a)(n,2),r=a[0],o=a[1],s=r.split(/\n\s*#\s*/m).map(function(e){var t=e.split(/\n\s*\n/m),n=Object(nt.a)(t),a=n[0],r=n.slice(1);return{gl_quote:a.replace(/\s*#\s*/,""),occurrence_note:r.join("\n\n")}});return/\w+/.test(o)&&(t=o.split(/\n?\s*\*\s*/m).map(function(e){return e.replace(/\[\[rc/,"http").replace(/\]\]/,"")})),{notes:s,words:t}},ut=function(e){return e.split(/\n\s*#+\s*/m).map(function(e){var t=e.split(/\n\s*\n/m),n=Object(nt.a)(t),a=n[0],r=n.slice(1);return{gl_quote:a.replace(/\s*#\s*/,""),occurrence_note:r.join("\n\n")}}).filter(function(e){return!/^;/.test(e.occurrence_note)})},mt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,helps:{}},n.handleToggleOpen=function(){n.setState({open:!n.state.open}),n.scrollToId()},n.scrollToId=function(){var e=document.getElementById(n.props.frameKey);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.storyKey,a=t.frameKey,r=t.context,o=r.username,s=r.languageId,c=r.reference;(function(e,t,n,a){return new Promise(function(r,o){var s={};Object(E.each)(["obs-tn","obs-tq","obs-sn"],function(r,o){switch(r){case"obs-tn":st(e,t,n,a).then(function(e){s.notes=e.notes,s.words=e.words,o()}).catch(o);break;case"obs-tq":ot(e,t,n,a).then(function(e){s.questions=e,o()}).catch(o);break;case"obs-sn":rt(e,t,n,a).then(function(e){s.studyNotes=e,o()}).catch(o);break;default:o()}},function(e){r(s)})})})(o,s,n,a).then(function(t){e.setState({helps:t})}),parseInt(c.verse)===parseInt(a)&&this.scrollToId()}},{key:"render",value:function(){var e=this.state.open,t=this.props,n=Object(Ge.a)({},this.state.helps,this.props.helps);return r.a.createElement("div",{id:t.frameKey},r.a.createElement(tt,Object.assign({},t,{helps:n,open:e,handleToggleOpen:this.handleToggleOpen.bind(this)})))}}]),t}(r.a.Component),dt=Object(p.withStyles)(H)(function(e){var t,n=e.classes,a=e.storyKey,o=e.story,s=e.context,c=e.setContext,i=e.helps,l=e.guide;if(l){var u=he()().use(fe.a).processSync("# Open Bible Stories").contents,m=[{title:"Guide",text:l}],d=r.a.createElement(Pe,{context:s,setContext:c,tabs:m});t=r.a.createElement(Ze,{context:s,content:u,details:d})}var h=Object.keys(o).map(function(e,t){var n=o[e],l=n.image,u=n.text;return r.a.createElement(mt,{key:"".concat(a,"-").concat(e),storyKey:a,helps:0===t?i:{},frameKey:e,image:l,text:u,context:s,setContext:c})});return r.a.createElement("div",{className:n.column},t,h)}),ht=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,id:Math.random(),helps:null},n.handleToggleOpen=function(){n.setState({open:!n.state.open}),n.scrollToId()},n.scrollToId=function(){var e=document.getElementById(n.state.id);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchStudyQuestions",value:function(e){var t=this,n=e.storyKey,a=e.context,r=a.username,o=a.languageId;at(r,o,0).then(function(e){at(r,o,n).then(function(n){var a={studyQuestions:n};t.setState({helps:a,guide:e})})})}},{key:"componentWillReceiveProps",value:function(e){this.fetchStudyQuestions(e)}},{key:"componentDidMount",value:function(){this.fetchStudyQuestions(this.props)}},{key:"render",value:function(){var e=this.state,t=e.helps,n=e.guide,a=e.open,o=e.id,s=this.props;return r.a.createElement("div",{id:o},r.a.createElement(dt,Object.assign({},s,{helps:t,guide:n,open:a,handleToggleOpen:this.handleToggleOpen.bind(this)})))}}]),t}(r.a.Component),pt=Object(p.withStyles)(function(e){return{root:{width:"100%"},progress:{margin:"auto",display:"block"}}})(function(e){var t=e.classes,n=e.context,a=e.context.reference,o=e.setContext,s=e.stories,c=r.a.createElement(b.k,{className:t.progress,color:"secondary",disableShrink:!0}),i=s&&!a.chapter,l=s&&a.chapter;i?c=r.a.createElement(Fe,{context:n,setContext:o,stories:s}):l&&(c=r.a.createElement(ht,{context:n,setContext:o,storyKey:a.chapter,story:s[a.chapter]}));return r.a.createElement("div",{className:t.root},c)}),ft=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={stories:null},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.context;(function(e,t){return new Promise(function(n,a){var r=Object(Z.a)(Array(51).keys()).splice(1),o={};Object(E.each)(r,function(n,a){et(e,t,n).then(function(e){o[n]=e,a()})},function(e){n(o)})})})(t.username,t.languageId).then(function(t){e.setState({stories:t})})}},{key:"componentDidUpdate",value:function(){var e=this.props.context.reference,t=e.bookId,n=e.chapter,a=e.verse,r="".concat(t,"_").concat(n,"_").concat(a),o=document.getElementById(r);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"render",value:function(){var e=this.state.stories,t=this.props;return r.a.createElement(pt,Object.assign({},t,{stories:e}))}}]),t}(r.a.Component),vt=Object(p.withStyles)(qe.a)(ft),bt=Object(p.withStyles)(function(e){return{root:{width:"100%"},progress:{margin:"auto",display:"block"}}})(function(e){var t=e.classes,n=e.manifests,a=e.history,o=e.context,s=e.setContext,c=r.a.createElement(F,{context:o,setContext:s,manifests:n,contexts:a}),i=r.a.createElement(Y,{context:o,setContext:s,manifests:n}),l=r.a.createElement(Ke,{context:o,setContext:s,manifests:n}),u=r.a.createElement(vt,{context:o,setContext:s}),m=r.a.createElement(b.k,{className:t.progress,color:"secondary",disableShrink:!0}),d="history"===o.view;if(Object.keys(n).length>0){var h=!o.resourceId,p=["ult","ust","uhb","ugnt"].includes(o.resourceId),f="obs"===o.resourceId;d?m=c:h?m=i:p?m=l:f&&(m=u)}return r.a.createElement("div",{className:t.root},m)}),gt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.context.reference;if(e){var t=e.bookId,n=e.chapter,a=e.verse,r="".concat(t,"_").concat(n,"_").concat(a),o=document.getElementById(r);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}}},{key:"render",value:function(){var e=this.props;return r.a.createElement(bt,e)}}]),t}(r.a.Component),yt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var a=n.props,r=a.context,o=a.context,s=o.username,c=o.languageId,i=o.reference;switch(t){case 0:n.previousChapter();break;case 1:r={username:s,languageId:c,view:"history"};break;case 2:r={username:s,languageId:c,reference:{}};break;case 3:r.reference={};break;case 4:i&&(r.reference={bookId:i.bookId});break;case 5:n.nextChapter()}n.props.setContext(r)},n.previousChapter=function(){var e=n.props.context;e.reference.chapter>1&&(e.reference.chapter=e.reference.chapter-1,e.reference.verse=void 0),n.props.setContext(e)},n.nextChapter=function(){var e=n.props.context,t=e.reference,a=t.bookId;t.chapter<X(a).length&&(e.reference.chapter=e.reference.chapter+1,e.reference.verse=void 0),n.props.setContext(e)},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.context,o="history"===a.view,s=!a.resourceId,c="obs"===!a.resourceId&&!(a.reference&&a.reference.bookId),i=!(a.reference&&a.reference.chapter);return o?e=1:s?e=2:c?e=3:i&&(e=4),r.a.createElement(b.w,{className:n.root},r.a.createElement(b.c,{value:e,onChange:this.handleChange,showLabels:!0,className:n.bottomNavigation},r.a.createElement(b.d,{className:n.button,icon:r.a.createElement(q.j,null)}),r.a.createElement(b.d,{className:n.button,label:"History",icon:r.a.createElement(q.i,null)}),r.a.createElement(b.d,{className:n.button,label:"Resources",icon:r.a.createElement(q.l,null)}),r.a.createElement(b.d,{className:n.button,label:"Books",icon:r.a.createElement(q.a,null)}),r.a.createElement(b.d,{className:n.button,label:"Chapters",icon:r.a.createElement(q.c,null)}),r.a.createElement(b.d,{className:n.button,icon:r.a.createElement(q.k,null)})))}}]),t}(r.a.Component),xt=Object(p.withStyles)(function(e){return{root:{width:"100%"},bottomNavigation:{margin:"0 auto",maxWidth:"40em"},button:{paddingLeft:"0",paddingRight:"0",minWidth:"60px"}}},{withTheme:!0})(yt),Et=Object(p.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{light:"#59B7E7",main:"#31ADE3",dark:"#014263",contrastText:"#FFF"}}}),wt=Object(p.withStyles)(function(e){return{root:{flexGrow:1},appFrame:{zIndex:1,position:"relative",display:"flex",width:"100%"},main:{width:"100%",minWidth:"20em"},workspace:{padding:"1em 1em 5.5em 1em"},bottomNav:{width:"100%",position:"fixed",bottom:0,zIndex:10}}})(function(e){var t=e.classes,n=e.context,a=e.setContext,o=e.history,s=e.manifests;return r.a.createElement(p.MuiThemeProvider,{theme:Et},r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.appFrame},r.a.createElement("main",{className:t.main},r.a.createElement(z,{applicationName:"unfoldingWord",context:n,setContext:a,manifests:s}),r.a.createElement("div",{className:t.workspace},r.a.createElement(gt,{context:n,setContext:a,history:o,manifests:s}))),r.a.createElement("nav",{className:t.bottomNav},r.a.createElement(xt,{context:n,setContext:a})))))}),jt="ApplicationContainer.state.",Ct=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={manifests:{},context:{username:"unfoldingWord",languageId:"en",resourceId:null,reference:{}},history:[]},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"defaultContext",value:function(){return{username:"unfoldingWord",languageId:"en",resourceId:null,reference:{}}}},{key:"addToHistory",value:function(e,t){var n=[];t&&(n=JSON.parse(JSON.stringify(t)));var a=JSON.stringify(e);if(!(a===JSON.stringify(n[0]))){var r=JSON.parse(a);n.unshift(r)}return n}},{key:"componentWillMount",value:function(){var e,t;e=(e=h.a.get(jt+"context"))||this.defaultContext();try{t=h.a.get(jt+"history")}catch(n){t=[]}this.setState({context:e,history:t})}},{key:"setContext",value:function(e){window.scrollTo(0,0);var t,n=JSON.parse(JSON.stringify(e)),a=this.state.history;if(a)t=JSON.parse(JSON.stringify(a));else try{t=h.a.get(jt+"history")}catch(s){t=[]}"obs"===n.resourceId&&(n.reference.bookId="obs");var r={context:n,history:t},o=n.reference;o&&o.chapter&&(t=this.addToHistory(n,t),h.a.set(jt+"history",a),r.history=t),this.setState(r),h.a.set(jt+"context",n)}},{key:"componentDidMount",value:function(){var e=this,t=this.state.context;(function(e,t){return new Promise(function(n,a){var r={},o=W(t),s=Object.keys(o);Object(E.each)(s,function(t,n){var s=o[t];P(e,s).then(function(e){r[t]=e,n()}).catch(a)},function(e){e&&a(e),n(r)})})})(t.username,t.languageId).then(function(t){e.setState({manifests:t})})}},{key:"render",value:function(){var e=this.state,t=e.context,n=e.history,a=e.manifests;return r.a.createElement(wt,{context:t,history:n,setContext:this.setContext.bind(this),manifests:a})}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5663,2,1]]]);
//# sourceMappingURL=main.f400cb7a.chunk.js.map