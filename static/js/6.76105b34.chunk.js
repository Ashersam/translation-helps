(window.webpackJsonp=window.webpackJsonp||[]).push([[6,12],{6061:function(e,t,n){"use strict";t.a=function(e){return{root:{},paper:{padding:2*e.spacing.unit},column:{maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},verse:{margin:0},tabVerse:{margin:"".concat(2*e.spacing.unit,"px ").concat(0*e.spacing.unit,"px ").concat(0*e.spacing.unit,"px")},fullWidth:{width:"100%"},expansionPanelDetails:{padding:0},expansionPanelActions:{padding:0}}}},6068:function(e,t,n){"use strict";var a=n(49),r=n(50),o=n(52),s=n(51),c=n(53),l=n(1),i=n.n(l),u=Object(l.lazy)(function(){return n.e(8).then(n.bind(null,6365))}),m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={id:Math.random(),tabIndex:0,tabs:n.props.tabs},n.handleChangeIndex=function(e,t){var a=void 0!==t?t:e;n.setState({tabIndex:a}),n.scrollToId(n.state.id)},n.addTab=function(e){var t=n.state.tabs;t.push(e),n.setState({tabs:t,tabIndex:t.length-1}),n.scrollToId(n.state.id)},n.scrollToId=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state,n=t.tabs,a=t.tabIndex,r=t.id;return i.a.createElement(l.Suspense,{fallback:i.a.createElement("div",null)},i.a.createElement(u,Object.assign({},e,{id:r,tabs:n,tabIndex:a,addTab:this.addTab.bind(this),handleChangeIndex:this.handleChangeIndex.bind(this)})))}}]),t}(i.a.Component);t.a=m},6091:function(e,t,n){"use strict";n.r(t);var a=n(49),r=n(50),o=n(52),s=n(51),c=n(53),l=n(1),i=n.n(l),u=n(21),m=n(31),d=Object(u.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject,n=e.senses;return i.a.createElement("div",null,i.a.createElement(m.Typography,null,i.a.createElement("span",null,i.a.createElement("strong",null,t.text||t.content)," -"),i.a.createElement("span",null," ",i.a.createElement("em",null,"lemma:")," ",t.lemma),i.a.createElement("span",null," ",i.a.createElement("em",null,"strong:")," ",t.strong),i.a.createElement("br",null),i.a.createElement("span",null," ",i.a.createElement("em",null,"morph:")," ",t.morph)),n.map(function(e,t){return i.a.createElement(m.Typography,{key:t},i.a.createElement("sup",null,t+1),e.gloss?i.a.createElement("span",null," ",i.a.createElement("em",null,"Gloss:")," ",e.gloss):"",e.definition?i.a.createElement("span",null," ",i.a.createElement("em",null,"Definition:")," ",e.definition):"")}))}),p=n(9),h=n.n(p),f=n(18),b=n(70),v=n.n(b),g=n(41),E="unfoldingword",x=g.d({languageId:"en"}),y=function(e){var t=e.lexiconMarkdown,n=[];if(t){var a=[];t.split(/##\s*Senses/)[1].split(/###\s*Sense/).splice(1).forEach(function(e){var t=/####\s*Definitions?.*?[\n\s]+(.*?)\n/,n=/####\s*Glosse?s?.*?[\n\s]+(.*?)\n/,r=t.test(e)?t.exec(e)[1]:null;r=/#/.test(r)?null:r;var o=n.test(e)?n.exec(e)[1]:null,s={definition:r,gloss:o=/#/.test(o)?null:o};a.push(s)}),n=j({array:a})}return n};function O(){return(O=Object(f.a)(h.a.mark(function e(t){var n,a,r,o,s,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.strong,/H\d+/.test(n)&&(r=x.uhal,s=n.match(/H\d+/)[0],o=v.a.join("content",s+".md")),/G\d+/.test(n)&&(r=x.ugl,o=v.a.join("content",n,"01.md")),!r||!o){e.next=8;break}return e.next=6,g.a({username:E,repository:r,path:o});case 6:c=e.sent,a=y({lexiconMarkdown:c});case 8:if(a){e.next=10;break}throw Error("Could not find sense info for: ".concat(n));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var j=function(e){var t=e.array,n=(e.response,t);return t.forEach(function(e){(n=n.filter(function(t){return!(e.gloss===t.gloss&&e.definition===t.definition)})).push(e)}),n},I=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={senses:[]},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){return O.apply(this,arguments)})({strong:this.props.verseObject.strong}).then(function(t){e.unmounted||e.setState({senses:t})}).catch(function(e){console.log(e)})}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return i.a.createElement(d,{verseObject:this.props.verseObject,senses:this.state.senses})}}]),t}(i.a.Component),k=Object(u.withStyles)(function(e){return{}},{withTheme:!0})(I);t.default=k},6366:function(e,t,n){"use strict";n.r(t);var a=n(49),r=n(50),o=n(52),s=n(51),c=n(53),l=n(1),i=n.n(l),u=n(21),m=n(31),d=n(54),p=n(40),h=n(140),f=Object(u.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}},{withTheme:!0})(function(e){var t=e.classes,n=e.bookMetadata,a=e.context,r=e.setContext,o=e.context.reference,s=n.identifier,c=h.a({bookId:s}).length;return i.a.createElement(m.ListItem,{button:!0,selected:o.bookId===n.identifier,className:t.bookListItem,style:{paddingLeft:"2.2em",paddingRight:"0.7em"},onClick:function(){var e={bookId:s},t=Object(p.a)({},a,{reference:e});r(t)}},i.a.createElement(m.ListItemIcon,{className:t.listItemIcon},o.bookId===n.identifier?i.a.createElement(d.a,null):i.a.createElement(d.b,null)),i.a.createElement(m.ListItemText,{className:t.listItemText,primary:n.title,secondary:c+" Chapters"}))}),b=Object(u.withStyles)(function(e){return{list:{paddingTop:0,paddingBottom:0},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}},{withTheme:!0})(function(e){var t=e.classes,n=e.testamentId,a=e.books,r=e.context,o=e.setContext,s=e.open,c=e.toggle,l=a?a.map(function(e){return i.a.createElement(f,{key:e.identifier,bookMetadata:e,context:r,setContext:o})}):[];return i.a.createElement("div",null,i.a.createElement(m.ListItem,{button:!0,selected:s,className:t.fileList,style:{paddingLeft:"1em",paddingRight:"0.5em"},onClick:c},i.a.createElement(m.ListItemIcon,{className:t.listItemIcon},s?i.a.createElement(d.e,null):i.a.createElement(d.f,null)),i.a.createElement(m.ListItemText,{inset:!0,className:t.listItemText,primary:n,secondary:a.length+" Books"})),i.a.createElement(m.Collapse,{in:s,timeout:"auto",unmountOnExit:!0},i.a.createElement(m.List,{dense:!0,className:t.list},l)))}),v=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this.props,t=this.state.open;return i.a.createElement(b,Object.assign({},e,{open:t,toggle:this.toggle.bind(this)}))}}]),t}(i.a.Component),g=Object(u.withStyles)(function(e){return{bible:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},bibleList:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=e.manifests,a=e.context,r=e.setContext,o={},s=n[a.resourceId];if(s){var c=s.projects.slice(0);c.sort(function(e,t){return e.sort-t.sort}),c.forEach(function(e){var t=e.categories.includes("bible-ot")?"Old Testament":"New Testament";o[t]||(o[t]=[]),o[t].push(e)})}return i.a.createElement(m.Paper,{className:t.bible},i.a.createElement(m.List,{className:t.bible,component:"nav",dense:!0},i.a.createElement("div",{className:t.bibleList},Object.keys(o).map(function(e){return i.a.createElement(v,{key:e,testamentId:e,books:o[e],context:a,setContext:r})}))))}),E=Object(u.withStyles)(function(e){return{bookListItem:{},listItemIcon:{marginRight:0},listItemText:{paddingLeft:"0.7em"}}})(function(e){var t=e.classes,n=e.chapter,a=e.verses,r=e.setContext,o=e.context,s=e.context.reference;return i.a.createElement(m.ListItem,{button:!0,selected:s.chapter===n,className:t.bookListItem,style:{paddingLeft:"2em",paddingRight:"0.7em"},onClick:function(){var e={bookId:s.bookId,chapter:n},t=Object(p.a)({},o,{reference:e});r(t)}},i.a.createElement(m.ListItemIcon,{className:t.listItemIcon},s.chapter===n?i.a.createElement(d.c,null):i.a.createElement(d.d,null)),i.a.createElement(m.ListItemText,{className:t.listItemText,primary:"Chapter "+n,secondary:a+" Verses"}))}),x=Object(u.withStyles)(function(e){return{root:{height:"100%",maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},list:{height:"100%",overflowY:"auto"}}})(function(e){var t=e.classes,n=(e.bookData,e.context),a=e.setContext,r=e.context,o=(r.reference,r.reference.bookId),s=h.a({bookId:o}).map(function(e,t){return i.a.createElement(E,{key:t,chapter:t+1,verses:e,context:n,setContext:a})});return i.a.createElement(m.Paper,{className:t.root},i.a.createElement(m.List,{className:t.root,component:"nav",dense:!0},i.a.createElement("div",{className:t.list},s)))}),y=n(6300),O=n.n(y),j=n(6061),I=Object(u.withStyles)(j.a)(function(e){var t=e.classes,n=e.summary,a=e.details,r=e.id,o=e.open,s=e.handleToggle,c=e.handleClose;return i.a.createElement(m.ExpansionPanel,{expanded:o,className:t.column,onChange:s},i.a.createElement(m.ExpansionPanelSummary,{expandIcon:i.a.createElement(d.h,null)},i.a.createElement("span",{id:r,style:{position:"absolute",top:"-5em"}}),n),i.a.createElement(m.ExpansionPanelDetails,{className:t.expansionPanelDetails},o?i.a.createElement("div",{className:t.fullWidth},a):""),i.a.createElement(m.ExpansionPanelActions,{className:t.expansionPanelActions},i.a.createElement(m.IconButton,{className:t.button,"aria-label":"Close",onClick:c},i.a.createElement(d.g,null))))}),k=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={id:Math.random(),open:!1},n.handleClose=function(){n.setState({open:!1}),n.scrollToId(n.state.id)},n.handleToggle=function(){n.setState({open:!n.state.open}),n.scrollToId(n.state.id)},n.scrollToId=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state,n=t.open,a=t.id;return i.a.createElement(I,Object.assign({},e,{id:a,open:n,handleClose:this.handleClose.bind(this),handleToggle:this.handleToggle.bind(this)}))}}]),t}(i.a.Component),w=n(6068),C=Object(u.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject;return i.a.createElement("span",null," ",t.text||t.content)}),T=n(6091),S=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={anchorEl:null},n.handlePopoverOpen=function(e){n.setState({anchorEl:e.currentTarget})},n.handlePopoverClose=function(){n.setState({anchorEl:null})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.children,a=e.originalWords,r=this.state.anchorEl,o=Boolean(r);return i.a.createElement("span",null,i.a.createElement("span",{"aria-owns":o?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:this.handlePopoverOpen,onMouseLeave:this.handlePopoverClose,className:o?t.open:t.closed},n.map(function(e,t){return i.a.createElement(C,{key:t,verseObject:e})})),i.a.createElement(m.Popover,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:o,anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:this.handlePopoverClose,disableRestoreFocus:!0},a.map(function(e,t){return i.a.createElement(T.default,{key:t,verseObject:e})})))}}]),t}(i.a.Component),N=Object(u.withStyles)(function(e){return{open:{backgroundColor:"lightgoldenrodyellow"},closed:{},popover:{pointerEvents:"none"},paper:{padding:e.spacing.unit}}},{withTheme:!0})(S),L=function(e){e.classes;var t,n=e.originalWords,a=e.verseObject,r=a.tag,o=a.children,s=(a.tw,a.strong),c=a.lemma,l=a.morph,u=a.occurrence,m=a.occurrences,d=a.content;switch(r){case"k":t=o.map(function(e,t){return i.a.createElement(M,{key:t,verseObject:e})});break;case"zaln":var p={strong:s,lemma:c,morph:l,occurrence:u,occurrences:m,content:d},h=JSON.parse(JSON.stringify(n));h.push(p),t=1===o.length&&"milestone"===o[0].type?i.a.createElement(M,{verseObject:o[0],originalWords:h}):i.a.createElement(N,{originalWords:h,children:o});break;default:t=i.a.createElement("div",null)}return t},R=Object(u.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject;return i.a.createElement("span",null,t.text)}),M=function(e){e.classes;var t,n=e.verseObject,a=e.originalWords,r=void 0===a?[]:a;switch(n.type){case"text":case"quote":t=i.a.createElement(R,{verseObject:n});break;case"milestone":t=i.a.createElement(L,{verseObject:n,originalWords:r});break;case"word":t=n.strong?i.a.createElement(N,{children:[n],originalWords:[n]}):i.a.createElement(C,{verseObject:n});break;case"section":case"paragraph":t=i.a.createElement("span",null);break;case"footnote":t=i.a.createElement("sup",null,"f");break;default:t=i.a.createElement("span",null,i.a.createElement("sup",null,"*"),i.a.createElement(R,{verseObject:n}),i.a.createElement("sup",null,"*"))}return i.a.createElement("span",{"data-verse-object":JSON.stringify(n)},t,n.nextChar)},P=function(e){var t=e.manifest.dublin_core,n=t.identifier,a=t.title;return i.a.createElement("div",{style:{width:"100%",textAlign:"right",marginBottom:"0.5em"}},i.a.createElement(m.Chip,{label:i.a.createElement(m.Typography,{variant:"caption"},i.a.createElement("strong",null,n.toUpperCase())," (",a,")"),icon:i.a.createElement(d.m,{fontSize:"small"}),style:{height:"25px"}}))},W=Object(u.withStyles)(j.a,{withTheme:!0})(function(e){var t=e.classes,n=e.verseKey,a=e.context.reference.chapter,r=e.resource,o=r.manifest,s=r.manifest.dublin_core.language.direction,c=r.data,l=e.noTitle,u=i.a.createElement("span",null);c[a][n].verseObjects&&(u=c[a][n].verseObjects.map(function(e,t){return i.a.createElement(M,{key:t,verseObject:e})}));var m=i.a.createElement("span",null);return l||(m=i.a.createElement(P,{manifest:o})),i.a.createElement("div",{className:t.verse},i.a.createElement("div",{style:{direction:s}},i.a.createElement("sup",null,n," "),u),m)}),D=Object(u.withStyles)(j.a,{withTheme:!0})(function(e){var t=e.classes,n=(e.languageId,e.verseKey),a=e.resources,r=e.resources,o=(r.ust,r.original),s=r.tn,c=e.context,l=e.setContext,u=e.context,d=u.resourceId,p=u.reference,h=p.bookId,f=p.chapter,b=[],v=["ult","ust","ulb","udb","irv"].filter(function(e){return e!==d}).filter(function(e){return!(!a[e]||!a[e].data)}).map(function(e){return i.a.createElement("div",{key:e+n},i.a.createElement(W,{verseKey:n,resource:a[e],context:c}),i.a.createElement(m.Divider,{variant:"middle"}))}),g={title:"Reference",content:i.a.createElement("div",{style:{paddingTop:"1em"}},v,i.a.createElement(W,{verseKey:n,resource:o,context:c}))};if(b.push(g),o.data[f][n]){var E=function(e){var t=e.verseObjects;return t?t.filter(function(e){return e.tw}).map(function(e){var t=[];return"word"===e.type&&t.push(e),e.children&&(t=t.concat(e.children)),{link:e.tw,originalWords:t}}):[]}({verseObjects:o.data[f][n].verseObjects});if(E.length>0){var x={title:"Words",original:E};b.push(x)}}if(s.data&&s.data[f]&&s.data[f][n]){var y={title:"Notes",notes:s.data[f][n]};b.push(y)}var O=a[c.resourceId],j=i.a.createElement("div",null,i.a.createElement("div",{style:{paddingRight:"24px"}},i.a.createElement(P,{manifest:O.manifest})),b.length>0?i.a.createElement(w.a,{context:c,setContext:l,tabs:b}):null),I="".concat(h,"_").concat(f,"_").concat(n);return i.a.createElement(k,{summary:i.a.createElement("div",null,i.a.createElement("span",{id:I,style:{position:"absolute",top:"-5em"}}),i.a.createElement("div",{className:t.verse},i.a.createElement(W,{verseKey:n,resource:O,context:c,noTitle:!0}))),details:j})}),A=Object(u.withStyles)(j.a)(function(e){e.classes;var t=e.context,n=e.context,a=n.resourceId,r=n.reference,o=n.reference.chapter,s=e.setContext,c=e.lemmaIndex,l=e.resources,u=e.resources.tn,m=l[a],d=Object.keys(m.data[o]).filter(function(e){return/\d+/g.test(e)}).map(function(e){return i.a.createElement(D,{key:"".concat(r.chapter,"-").concat(e),context:t,setContext:s,lemmaIndex:c,verseKey:e,resources:l})}),p=[];return u.data&&u.data[o]&&(p=[{title:"Chapter Notes",text:u.data[o].intro&&u.data[o].intro[0]?u.data[o].intro[0].occurrence_note.replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,""):""}]),[i.a.createElement(k,{key:"chapter"+r.chapter,summary:i.a.createElement("h2",null,"Chapter ",r.chapter),details:i.a.createElement(w.a,{context:t,setContext:s,tabs:p})})].concat(d)}),B=n(6145),_=n.n(B),U=function(e){var t=e.lemmaIndex,n=[];Object.keys(t).forEach(function(e){var a=t[e].map(function(t){var n=t.strong,a=t.alignment,r=t.reference,o=r.chapter,s=r.verse,c=function e(t){var n=t.verseObject,a=t.originalTexts,r=void 0===a?[]:a,o=t.targetTexts,s=void 0===o?[]:o,c=n.content,l=n.text,i=n.children;return c&&r.push(c),l&&s.push(l),i&&i.forEach(function(t){var n=e({verseObject:t,originalTexts:r,targetTexts:s}),a=n._originalTexts,o=n._targetTexts;r.concat(a),s.concat(o)}),{originalTexts:r,targetTexts:s}}({verseObject:a}),l=c.originalTexts,i=c.targetTexts,u=l.join(" "),m=i.join(" "),d="".concat(o,":").concat(s);return["".concat(n,": ").concat(e),u,m,d]});n=n.concat(a)});return i.a.createElement(u.MuiThemeProvider,{theme:Object(u.createMuiTheme)({overrides:{MuiPaper:{elevation4:{boxShadow:"none"},rounded:{borderRadius:"unset"},root:{backgroundColor:"unset"}},MuiTableCell:{root:{padding:"0 8px 0 8px"}},MuiTableRow:{root:{height:"unset"}}}})},i.a.createElement(_.a,{title:"Search UGNT and ULT for this book",data:n,columns:[{name:"Strong's: Lemma",options:{filter:!1,sort:!0}},{name:"UGNT",options:{filter:!1,sort:!0}},{name:"ULT",options:{filter:!1,sort:!0}},{name:"C:V",options:{filter:!1,sort:!0}}],options:{filterType:"checkbox",selectableRows:!1,responsive:"scroll",download:!1,print:!1,filter:!1,viewColumns:!1}}))},J=n(102),V=function(){return Object(u.createMuiTheme)({overrides:{MuiPaper:{elevation4:{boxShadow:"none"},rounded:{borderRadius:"unset"},root:{backgroundColor:"#FFF"}},MuiTableCell:{root:{padding:"0 8px 0 8px"}},MUIDataTableHeadCell:{fixedHeader:{zIndex:"unset"}},MUIDataTable:{responsiveScroll:{maxHeight:"unset"}},MuiTableRow:{root:{height:"unset"}}}})},z=function(e){var t=e.tn,n=[{name:"C:V",options:{filter:!1,sort:!0}},{name:"ID",options:{filter:!1,sort:!0,display:"false"}},{name:"Type",options:{filter:!0,sort:!0}},{name:"Original",options:{filter:!1,sort:!0}},{name:"Occurrence",options:{filter:!1,sort:!0,display:"false"}},{name:"Gateway",options:{filter:!1,sort:!0}},{name:"Note",options:{filter:!1,sort:!0,display:"false",customBodyRender:function(e,t,n){var a=e.length<=97?e:e.substring(0,100)+"...";return i.a.createElement("div",null,a)}}}];t.shift(),t.pop();var a=t.map(function(e){var t=Object(J.a)(e,9),n=(t[0],t[1]),a=t[2],r=t[3],o=t[4],s=t[5],c=t[6],l=t[7],i=t[8],u=o||"general";return["".concat(n,":").concat(a),r,u,s,c,l,i]});return i.a.createElement(u.MuiThemeProvider,{theme:V()},i.a.createElement(_.a,{title:"Search translationNotes",data:a,columns:n,options:{filterType:"checkbox",selectableRows:!1,responsive:"scroll",download:!1,print:!1,filter:!0,viewColumns:!0}}))},G=n(206),H=Object(u.withStyles)(j.a)(function(e){var t=e.classes,n=e.context,a=e.setContext,r=e.context,o=r.resourceId,s=r.reference,c=s.bookId,l=s.chapter,u=e.resources,m=e.resources,d=(m.original,m.tn),h=e.lemmaIndex,f=[],b={};if(d.data){var v=(b=G.b({tn:d.data})).front.intro[0].occurrence_note.split("\n").splice(1).join("\n").replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,"");if(f.push({title:"Book Notes",text:v}),d){var g=i.a.createElement(z,{tn:d.data});f.push({title:"Search Notes",content:g})}}if(h&&Object.keys(h).length>0){var E=i.a.createElement(U,{lemmaIndex:h});f.push({title:"Search Words",content:E})}var x=Object(p.a)({},u,{tn:{manifest:d.manifest,data:b}}),y=i.a.createElement(A,{context:n,setContext:a,lemmaIndex:h,resources:x,translationNotesChapterData:b[l]}),j=u[o].manifest.projects,I=G.c({projects:j,bookId:c}),C=I?I.title:"";return i.a.createElement("div",{className:t.root},i.a.createElement(k,{key:n.reference.bookId+"intro",summary:i.a.createElement(O.a,{source:"# ".concat(C),escapeHtml:!1}),details:i.a.createElement(w.a,{context:n,setContext:a,tabs:f})}),y)}),K=Object(u.withStyles)(function(e){return{root:{width:"100%"},progress:{margin:"auto",display:"block"}}})(function(e){var t=e.classes,n=e.resources,a=e.manifests,r=e.context,o=e.setContext,s=e.context.reference,c=e.referenceLoaded,l=e.lemmaIndex,u=i.a.createElement(g,{context:r,setContext:o,manifests:a}),d=i.a.createElement(x,{context:r,setContext:o,manifests:a}),p=i.a.createElement(H,{context:r,setContext:o,resources:n,lemmaIndex:l}),h=i.a.createElement(m.CircularProgress,{className:t.progress,color:"secondary",disableShrink:!0}),f=!s.bookId,b=s.bookId&&!s.chapter,v=c&&s.bookId===c.bookId;return f?h=u:b?h=d:v&&(h=p),i.a.createElement("div",{className:t.root},h)}),F=function e(t){var n=t.verseObject,a=t.originalWords,r=void 0===a?[]:a;if("milestone"===n.type){var o=JSON.parse(JSON.stringify(n));delete o.children,r.push(o),n.children.forEach(function(t){e({verseObject:t,originalWords:r})})}return r},Y=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={lemmaIndex:null,referenceLoaded:null,resources:{ult:null,ulb:null,irv:null,ust:null,tn:null,original:null}},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"fetchResourcesConditionally",value:function(e){var t=this,n=e.manifests,a=e.context.reference,r=this.state,o=r.ult,s=r.ust,c=r.ulb,l=r.irv,i=r.obs,u=a.bookId!==this.props.context.reference.bookId,m=!(o||s||c||l||i)||u;a.bookId&&Object.keys(n).length>0&&m&&G.a(e).then(function(e){var n=function(e){var t=e.data;if(!t)return{};console.time("indexing");var n={};return Object.keys(t).forEach(function(e){var a=t[e];Object.keys(a).forEach(function(t){a[t].verseObjects.forEach(function(a){F({verseObject:a}).forEach(function(r){var o=r.lemma,s=r.strong,c={reference:{chapter:e,verse:t},alignment:a,strong:s};n[o]||(n[o]=[]),n[o].push(c)})})})}),console.timeEnd("indexing"),n}({data:e.ult.data});t.setState({lemmaIndex:n,resources:e,referenceLoaded:a})})}},{key:"componentWillReceiveProps",value:function(e){this.fetchResourcesConditionally(e)}},{key:"componentDidMount",value:function(){this.fetchResourcesConditionally(this.props)}},{key:"componentDidUpdate",value:function(){var e=this.props.context.reference,t=e.bookId,n=e.chapter,a=e.verse,r="".concat(t,"_").concat(n,"_").concat(a),o=document.getElementById(r);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"render",value:function(){var e=this.props,t=this.state,n=t.lemmaIndex,a=t.resources,r=t.referenceLoaded;return i.a.createElement(K,Object.assign({},e,{lemmaIndex:n,referenceLoaded:r,resources:a}))}}]),t}(i.a.Component);t.default=Y}}]);
//# sourceMappingURL=6.76105b34.chunk.js.map