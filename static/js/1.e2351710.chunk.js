(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{6059:function(e,t,n){"use strict";t.a=function(e){return{root:{},paper:{padding:2*e.spacing.unit},column:{maxWidth:"40em",marginLeft:"auto",marginRight:"auto"},verse:{margin:0},tabVerse:{margin:"".concat(2*e.spacing.unit,"px ").concat(0*e.spacing.unit,"px ").concat(0*e.spacing.unit,"px")},fullWidth:{width:"100%"},expansionPanelDetails:{padding:0},expansionPanelActions:{padding:0}}}},6066:function(e,t,n){"use strict";var a=n(48),r=n(49),s=n(51),c=n(50),o=n(52),i=n(1),u=n.n(i),l=n(20),p=n(32),d=n(6071),h=n.n(d),m=n(6081),f=n.n(m),b=n(203),g=n(53),v=n(14),x=n.n(v),y=n(21),w=n(22),j=function(e){var t=e.languageId;return w.e({languageId:t}).ta};function I(e){return E.apply(this,arguments)}function E(){return(E=Object(y.a)(x.a.mark(function e(t){var n,a,r,s,c,o;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.path,s=j({languageId:a}),c=r.split("/").splice(1).join("/")+"/title.md",e.next=5,w.b({username:n,repository:s,path:c});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function k(e){return O.apply(this,arguments)}function O(){return(O=Object(y.a)(x.a.mark(function e(t){var n,a,r,s,c,o,i,u;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.path,c=j({languageId:a}),o=r.split("/").filter(function(e){return"man"!==e}).join("/")+"/01.md",e.prev=3,e.next=6,w.b({username:n,repository:c,path:o});case 6:i=e.sent,u=o.split("/").splice(0,1).join("/"),s=i.split("../").join("http://".concat(a,"/ta/").concat(u,"/")).split("/01.md").join("").split("rc://").join("http://"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3);case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}},e,this,[[3,11]])}))).apply(this,arguments)}var C=function(e){var t=e.languageId;return w.e({languageId:t}).tw};function T(e){return S.apply(this,arguments)}function S(){return(S=Object(y.a)(x.a.mark(function e(t){var n,a,r,s,c,o,i;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.path,c=C({languageId:a}),o=r.split("/").splice(1).join("/")+".md",e.next=5,w.b({username:n,repository:c,path:o});case 5:return(i=e.sent)&&(s=i.split(/\n/)[0].replace(/#/g,"").trim()),e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function D(e){return N.apply(this,arguments)}function N(){return(N=Object(y.a)(x.a.mark(function e(t){var n,a,r,s,c,o,i,u;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.languageId,r=t.path,c=C({languageId:a}),o=r.split("/").filter(function(e){return"dict"!==e}).join("/")+".md",e.next=5,w.b({username:n,repository:c,path:o});case 5:return(i=e.sent)&&(u=o.split("/").splice(0,1).join("/"),s=i.split("../").join("http://".concat(a,"/tw/").concat(u,"/")).split(".md").join("").split("rc://").join("http://")),e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function W(){return(W=Object(y.a)(x.a.mark(function e(t){var n,a,r,s,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.username,a=t.languageId,r=t.resourceId,s=t.path,e.t0=r,e.next="ta"===e.t0?4:"tw"===e.t0?8:"tn"===e.t0?12:13;break;case 4:return e.next=6,I({username:n,languageId:a,path:s});case 6:return c=e.sent,e.abrupt("break",15);case 8:return e.next=10,T({username:n,languageId:a,path:s});case 10:return c=e.sent,e.abrupt("break",15);case 12:return e.abrupt("break",15);case 13:return console.log("resourceId not configured: ".concat(a," - ").concat(r," - ").concat(s)),e.abrupt("break",15);case 15:return e.abrupt("return",c);case 17:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function B(){return(B=Object(y.a)(x.a.mark(function e(t){var n,a,r,s,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.username,a=t.languageId,r=t.resourceId,s=t.path,e.t0=r,e.next="ta"===e.t0?4:"tw"===e.t0?8:"tn"===e.t0?12:13;break;case 4:return e.next=6,k({username:n,languageId:a,path:s});case 6:return c=e.sent,e.abrupt("break",15);case 8:return e.next=10,D({username:n,languageId:a,path:s});case 10:return c=e.sent,e.abrupt("break",15);case 12:return e.abrupt("break",15);case 13:return console.log("resourceId not configured: ".concat(a," - ").concat(r," - ").concat(s)),e.abrupt("break",15);case 15:return e.abrupt("return",c);case 17:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var M=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={context:n.props.context,path:null,title:null,article:null,open:null},n.handleOpen=function(){var e=n.state,t=e.context,a=t.username,r=t.languageId,s=t.resourceId,c=t.reference,o=e.path,i=e.title;if(c){var u=n.props.context,l=w.a(u);["ult","obs"].includes(s)&&(l.resourceId=s),l.reference=c,n.props.setContext(l)}else(function(e){return B.apply(this,arguments)})({username:a,languageId:r,resourceId:s,path:o}).then(function(e){var t={title:i||o,text:e};n.props.addTab(t)})},n.handleClose=function(){n.setState({open:!1})},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"parseHref",value:function(e){var t,n,a,r,s=e.href,c=this.props.context.username;var o=/http:\/\/([\w-_]+)\/([\w-_]+)\/(.+)/;if(o.test(s)){var i=o.exec(s),u=Object(b.a)(i,4);u[0],t=u[1],n=u[2],a=u[3]}else a=s;if("tn"===n){var l=/\/([\w]+)\/([\d]+)\/([\d]+)/;if(l.test(a)){var p=l.exec(a),d=Object(b.a)(p,4),h=(d[0],d[1]),m=d[2],f=d[3];"obs"===h?(n="obs",r={chapter:parseInt(m),verse:parseInt(f)}):(n="ult",r={bookId:h,chapter:parseInt(m),verse:parseInt(f)})}}return{context:{username:c,languageId:t,resourceId:n,reference:r},path:a}}},{key:"componentWillMount",value:function(){var e=this.props,t=e.href,n=e.children,a=this.parseHref({href:t}),r=n[0];r!==t&&(a.title=r),this.setState(a)}},{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.context,a=n.username,r=n.languageId,s=n.resourceId,c=t.title,o=t.path;!c&&r&&s&&o&&function(e){return W.apply(this,arguments)}({username:a,languageId:r,resourceId:s,path:o}).then(function(t){e.setState({title:t})})}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.path,a=this.props.classes;return u.a.createElement(p.Chip,{label:u.a.createElement(p.Typography,{noWrap:!0,component:"span"},t||n),component:"span",className:a.chip,classes:{label:a.label},onClick:this.handleOpen,variant:"outlined",icon:u.a.createElement(g.n,null),color:"primary",clickable:!0})}}]),t}(u.a.Component),A=Object(l.withStyles)(function(e){return{chip:{height:"unset",maxWidth:"95%"},label:{maxWidth:"81%"}}},{withTheme:!0})(M),H=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={component:null},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.text,n=e.addTab,a=e.context,r=e.setContext,s={remarkReactComponents:{a:function(e){return u.a.createElement(A,Object.assign({},e,{context:a,setContext:r,addTab:n}))},div:function(e){return u.a.createElement("div",Object.assign({},e,{style:{width:"100%"}}))}}},c=h()().use(f.a,s).processSync(t).contents;this.setState({component:c})}},{key:"render",value:function(){return this.state.component}}]),t}(u.a.Component),_=Object(l.withStyles)(function(e){return{root:{width:"100%"},note:{marginTop:"0.5em",marginBottom:"0.5em"}}})(function(e){var t=e.classes,n=e.context,a=e.setContext,r=e.note,s=e.addTab,c=r.occurrence_note.replace(/\[\[rc:\/\//g,"http://").replace(/\]\]?/g,""),o=u.a.createElement(H,{context:n,setContext:a,text:c,addTab:s});return u.a.createElement("div",{className:t.root},u.a.createElement(p.Divider,null),u.a.createElement("div",{className:t.note},u.a.createElement("strong",null,r.gl_quote)," ",o))}),G=n(6143),J=function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"},width:{width:"100%"},appBar:{width:"95%",zIndex:"10",margin:"auto"},hidden:{},padding:{padding:"0 ".concat(2*e.spacing.unit,"px")},tabContent:{padding:"0 ".concat(3*e.spacing.unit,"px")}}},P=Object(l.withStyles)(J,{withTheme:!0})(function(e){var t=e.tab,n=e.addTab,a=e.open,r=e.context,s=e.setContext,c=u.a.createElement("div",null);a&&(t.text?c=u.a.createElement(H,{text:t.text,addTab:n,context:r,setContext:s}):t.notes?c=t.notes.map(function(e,t){return u.a.createElement(_,{key:t,note:e,addTab:n,context:r,setContext:s})}):t.original?c=t.original.map(function(e,t){var a=e.link.replace("rc://*/","http://".concat(r.languageId,"/")),c=e.originalWords.map(function(e,t){return u.a.createElement(G.a,{key:t,verseObject:e})}),o="".concat(a);return u.a.createElement("div",{key:t},u.a.createElement(p.Divider,null),u.a.createElement(H,{text:o,addTab:n,context:r,setContext:s}),c)}):t.words?c=t.words.map(function(e,t){return u.a.createElement("div",{key:t},u.a.createElement(p.Divider,null),u.a.createElement(H,{text:e,addTab:n,context:r,setContext:s}))}):t.content&&(c=t.content));return c}),R=Object(l.withStyles)(J,{withTheme:!0})(function(e){var t=e.classes,n=e.context,a=e.setContext,r=e.tabs,s=e.addTab,c=e.tabIndex,o=e.handleChangeIndex,i=e.id,l=[],d=[],h=0;r.forEach(function(e,r){if(e.text)h=0;else if(e.notes)h=e.notes.length;else if(e.original){var o=e.original;h=o.length}else e.words?h=e.words.length:e.content&&(h=e.content.length);var i=u.a.createElement(p.Badge,{className:t.padding,color:"primary",badgeContent:h},e.title);l.push(u.a.createElement(p.Tab,{key:l.length,label:h>0?i:e.title}));var m=r===c;d.push(u.a.createElement("div",{key:d.length,className:m?t.tabContent:t.hidden},u.a.createElement(P,{tab:e,addTab:s,open:m,context:n,setContext:a})))});var m=d[c];return u.a.createElement("div",{id:i,className:t.root},u.a.createElement(p.AppBar,{className:t.appBar,position:"sticky",color:"default"},u.a.createElement(p.Tabs,{className:t.width,value:c,onChange:o,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},l)),u.a.createElement("div",{className:t.width},m))}),V=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={id:Math.random(),tabIndex:0,tabs:n.props.tabs},n.handleChangeIndex=function(e,t){var a=void 0!==t?t:e;n.setState({tabIndex:a}),n.scrollToId(n.state.id)},n.addTab=function(e){var t=n.state.tabs;t.push(e),n.setState({tabs:t,tabIndex:t.length-1}),n.scrollToId(n.state.id)},n.scrollToId=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state,n=t.tabs,a=t.tabIndex,r=t.id;return u.a.createElement(R,Object.assign({},e,{id:r,tabs:n,tabIndex:a,addTab:this.addTab.bind(this),handleChangeIndex:this.handleChangeIndex.bind(this)}))}}]),t}(u.a.Component);t.a=V},6143:function(e,t,n){"use strict";var a=n(48),r=n(49),s=n(51),c=n(50),o=n(52),i=n(1),u=n.n(i),l=n(20),p=n(32),d=Object(l.withStyles)(function(e){return{root:{width:"100%"}}})(function(e){e.classes;var t=e.verseObject,n=e.senses;return u.a.createElement("div",null,u.a.createElement(p.Typography,null,u.a.createElement("span",null,u.a.createElement("strong",null,t.text||t.content)," -"),u.a.createElement("span",null," ",u.a.createElement("em",null,"lemma:")," ",t.lemma),u.a.createElement("span",null," ",u.a.createElement("em",null,"strong:")," ",t.strong),u.a.createElement("br",null),u.a.createElement("span",null," ",u.a.createElement("em",null,"morph:")," ",t.morph)),n.map(function(e,t){return u.a.createElement(p.Typography,{key:t},u.a.createElement("sup",null,t+1),e.gloss?u.a.createElement("span",null," ",u.a.createElement("em",null,"Gloss:")," ",e.gloss):"",e.definition?u.a.createElement("span",null," ",u.a.createElement("em",null,"Definition:")," ",e.definition):"")}))}),h=n(14),m=n.n(h),f=n(21),b=n(100),g=n.n(b),v=n(22),x="unfoldingword",y=v.e({languageId:"en"}),w=function(e){var t=e.lexiconMarkdown,n=[];if(t){var a=[];t.split(/##\s*Senses/)[1].split(/###\s*Sense/).splice(1).forEach(function(e){var t=/####\s*Definitions?.*?[\n\s]+(.*?)\n/,n=/####\s*Glosse?s?.*?[\n\s]+(.*?)\n/,r=t.test(e)?t.exec(e)[1]:null;r=/#/.test(r)?null:r;var s=n.test(e)?n.exec(e)[1]:null,c={definition:r,gloss:s=/#/.test(s)?null:s};a.push(c)}),n=I({array:a})}return n};function j(){return(j=Object(f.a)(m.a.mark(function e(t){var n,a,r,s,c,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.strong,/H\d+/.test(n)&&(r=y.uhal,c=n.match(/H\d+/)[0],s=g.a.join("content",c+".md")),/G\d+/.test(n)&&(r=y.ugl,s=g.a.join("content",n,"01.md")),!r||!s){e.next=8;break}return e.next=6,v.b({username:x,repository:r,path:s});case 6:o=e.sent,a=w({lexiconMarkdown:o});case 8:if(a){e.next=10;break}throw Error("Could not find sense info for: ".concat(n));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var I=function(e){var t=e.array,n=(e.response,t);return t.forEach(function(e){(n=n.filter(function(t){return!(e.gloss===t.gloss&&e.definition===t.definition)})).push(e)}),n},E=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={senses:[]},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){return j.apply(this,arguments)})({strong:this.props.verseObject.strong}).then(function(t){e.unmounted||e.setState({senses:t})}).catch(function(e){console.log(e)})}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return u.a.createElement(d,{verseObject:this.props.verseObject,senses:this.state.senses})}}]),t}(u.a.Component),k=Object(l.withStyles)(function(e){return{}},{withTheme:!0})(E);t.a=k}}]);
//# sourceMappingURL=1.e2351710.chunk.js.map