{"version":3,"sources":["ApplicationHelpers.js","Workspace/WorkspaceHelpers.js","ApplicationBar/ApplicationBar.js","ApplicationBar/index.js","ApplicationBar/ApplicationBarContainer.js","Workspace/BookComponent/styles.js","Workspace/BookComponent/ExpansionPanelComponent.js","Workspace/BookComponent/ExpansionPanelContainer.js","Workspace/TranslationHelps/TranslationAcademy/helpers.js","Workspace/TranslationHelps/TranslationWords/helpers.js","Workspace/TranslationHelps/helpers.js","Workspace/TranslationHelps/RCLinkContainer.js","Workspace/TranslationHelps/TextComponentWithRCLinks.js","Workspace/TranslationHelps/TranslationNotes/index.js","Workspace/TranslationHelps/TranslationNotes/TranslationNoteComponent.js","Workspace/BookComponent/OriginalWord/OriginalWordComponent.js","Workspace/BookComponent/OriginalWord/OriginalWordHelpers.js","Workspace/BookComponent/OriginalWord/OriginalWordContainer.js","Workspace/BookComponent/OriginalWord/index.js","Workspace/TranslationHelps/TranslationHelpsStyles.js","Workspace/TranslationHelps/TranslationHelpsComponent.js","Workspace/TranslationHelps/index.js","Workspace/TranslationHelps/TranslationHelpsContainer.js","Workspace/BookComponent/TextComponent.js","Workspace/BookComponent/OriginalWordsContainer.js","Workspace/BookComponent/MilestoneComponent.js","Workspace/BookComponent/VerseObjectComponent.js","Workspace/BookComponent/VerseComponent.js","Workspace/TranslationHelps/Original/helpers.js","Workspace/BookComponent/ChapterComponent.js","Workspace/BookComponent/index.js","Workspace/BookComponent/BookComponent.js","chaptersAndVerses.js","Workspace/BibleManager/BookComponent.js","Workspace/BibleManager/TestamentComponent.js","Workspace/BibleManager/TestamentContainer.js","Workspace/BibleManager/index.js","Workspace/BibleManager/BibleComponent.js","Workspace/ChapterManager/ChapterComponent.js","Workspace/ChapterManager/index.js","Workspace/ChapterManager/ChaptersComponent.js","Workspace/Workspace.js","Workspace/index.js","Workspace/WorkspaceContainer.js","BottomNav/BottomNavContainer.js","BottomNav/index.js","Application.js","ApplicationContainer.js","serviceWorker.js","index.js"],"names":["store","localforage","createInstance","driver","INDEXEDDB","name","api","setup","baseURL","cache","maxAge","resourceRepositories","languageId","ult","tn","ta","tw","ugnt","uhb","ugl","uhal","fetchManifest","username","repository","Promise","resolve","reject","fetchFileFromServer","then","yaml","json","YAML","parseDocument","toJSON","catch","filepath","branch","arguments","length","undefined","uri","path","join","get","response","data","error","console","warn","fetchBook","bookId","manifest","projectByBookId","projects","ApplicationHelpers","fetchFileByBookId","usfm","usfmjs","fetchOriginalBook","uhbManifest","ugntManifest","uhbProject","ugntProject","repositories","translationNotes","fetchNotes","array","translationNotesObject","shift","forEach","item","_item","Object","slicedToArray","book","chapter","verse","id","support_reference","original_quote","occurrence","gl_quote","occurrence_note","object","replace","push","tsv","tsvParse","project","_projects","filter","identifier","split","map","row","trim","withStyles","theme","paper","color","backgroundColor","textAlign","boxShadow","toolbar","margin","display","padding","projectName","paddingTop","withTheme","_ref","classes","manifests","reference","bookName","WorkspaceHelpers","title","referenceComponent","react_default","a","createElement","dist_default","className","index_es","variant","noWrap","coin","ApplicationBarContainer","state","props","this","src_ApplicationBar_ApplicationBar","assign","React","Component","styles","root","spacing","unit","column","maxWidth","marginLeft","marginRight","fullWidth","width","expansionPanelDetails","paddingLeft","paddingRight","paddingBottom","expansionPanelActions","summary","details","open","handleToggle","handleClose","expanded","onChange","expandIcon","icons_index_es","style","position","top","button","aria-label","onClick","ExpansionContainer","Math","random","_this","setState","scrollToId","element","document","getElementById","scrollIntoView","behavior","block","_this$state","BookComponent_ExpansionPanelComponent","bind","fetchTitle","resourceId","linkPath","uriPath","splice","TranslationAcademyHelpers","log","markdown","TranslationWordsHelpers","message","concat","fetchArticle","article","prefix","RCLinkContainer","handleOpen","setReference","helpers","tab","text","addTab","href","regexpLanguageIdResourcePath","test","match","exec","_match2","regexpReference","_match5","parseInt","_this$props","children","parseHref","_this2","_this$state2","_this$state3","label","component","chip","clickable","height","TextComponentWithRCLinks","options","remarkReactComponents","TranslationHelps_RCLinkContainer","div","remark","use","remark2react","processSync","contents","TranslationNoteComponent","note","marginTop","marginBottom","noteComponent","TranslationHelps_TextComponentWithRCLinks","verseObject","senses","content","lemma","strong","sense","index","key","gloss","definition","lexiconMarkdown","senseSection","definitionRegexp","glossRegexp","unique","parseSenses","_array","_object","OriginalWordsContainer","OriginalWordHelpers","OriginalWord_OriginalWordComponent","OriginalWordContainer","palette","background","appBar","zIndex","hidden","tabContent","tabs","tabIndex","handleChangeIndex","tabLabels","tabContents","badgeCount","notes","TranslationNotes","original","wordObjects","wordObject","link","originalWords","OriginalWord","badge","badgeContent","value","indicatorColor","textColor","scrollable","scrollButtons","react_swipeable_views_lib_default","onChangeIndex","TranslationHelpsContainer","_index","__index","TranslationHelps_TranslationHelpsComponent","isWord","type","anchorEl","handlePopoverOpen","event","currentTarget","handlePopoverClose","Boolean","aria-owns","aria-haspopup","onMouseEnter","onMouseLeave","closed","BookComponent_TextComponent","popover","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","pointerEvents","child","BookComponent_VerseObjectComponent","BookComponent_OriginalWordsContainer","BookComponent_MilestoneComponent","verseKey","bookVerseData","originalVerseData","translationNotesVerseData","verseObjects","notesTab","originalHelpers","wordsTab","TranslationHelps","ExpansionPanelContainer","chapterKey","bookChapterData","originalChapterData","translationNotesChapterData","verses","keys","o","BookComponent_VerseComponent","BookComponent","bookData","originalData","translationNotesData","chapterComponent","BookComponent_ChapterComponent","intro","react_markdown_default","source","escapeHtml","chaptersInBook","chapters","_unused","bookListItem","listItemIcon","listItemText","bookMetadata","chapterCount","chaptersAndVerses","selected","primary","secondary","list","testamentId","books","toggle","bookComponents","BibleManager_BookComponent","fileList","inset","in","timeout","unmountOnExit","dense","TestamentContainer","BibleManager_TestamentComponent","BibleComponent","bible","bibleList","overflowY","categories","includes","BibleManager_TestamentContainer","ChaptersComponent","ChapterManager_ChapterComponent","progress","referenceLoaded","bibleManager","BibleManager","chapterManager","ChapterManager","bookComponent","Workspace_BookComponent","loadingComponent","disableShrink","canShowBibleManager","canShowChapterManager","referenceIsLoaded","WorkspaceContainer","nextProps","referenceChanged","needToFetch","resources","each","done","newState","fetchResourcesConditionally","_this$props$reference","src_Workspace_Workspace","BottomNavContainer","handleChange","newReference","showLabels","icon","disabled","createMuiTheme","typography","useNextVariants","light","main","dark","contrastText","flexGrow","appFrame","minWidth","workspace","bottomNav","bottom","src_ApplicationBar","src_Workspace","BottomNav","ApplicationContainer","localstorage","keyPrefix","window","scrollTo","set","_resourceRepositories","resourceIds","src_Application_0","location","hostname","unregister","navigator","serviceWorker","ready","registration","ReactDOM","render","src_ApplicationContainer"],"mappings":"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","file":"static/js/main.469bc3f0.chunk.js","sourcesContent":["import path from 'path';\nimport YAML from 'yaml';\nimport {each} from 'async';\nimport localforage from 'localforage';\nimport { setup } from 'axios-cache-adapter';\n\nconst baseURL = \"https://d3r5pm83aa8hdu.cloudfront.net/\";\n\nconst store = localforage.createInstance({\n  driver: [localforage.INDEXEDDB],\n  name: 'web-cache',\n});\nconst api = setup({\n  baseURL: baseURL,\n  cache: {store, maxAge: 1 * 60 * 60 * 1000},\n});\n\n// Purpose: application wide\n// Scope: limited to resource manifests and information\n\nexport const username = 'unfoldingword';\nexport const resourceRepositories = (languageId) => {\n  return {\n    ult: languageId + '_ult',\n    tn: languageId + '-tn',\n    ta: languageId + '-ta',\n    tw: languageId + '-tw',\n    ugnt: 'UGNT',\n    uhb: 'UHB',\n    ugl: languageId + '_ugl',\n    uhal: languageId + '_uhal',\n  };\n};\n\nexport const fetchResourceManifests = (username, languageId) => new Promise((resolve, reject) => {\n  let manifests = {};\n  const _resourceRepositories = resourceRepositories(languageId);\n  const resourceIds = Object.keys(_resourceRepositories);\n  each(\n    resourceIds,\n    (resourceId, done) => {\n      const repository = _resourceRepositories[resourceId];\n      fetchManifest(username, repository)\n      .then(manifest => {\n        manifests[resourceId] = manifest;\n        done();\n      }).catch(reject);\n    },\n    (error) => {\n      if (error) reject(error);\n      resolve(manifests);\n    }\n  );\n});\n\nexport const fetchManifest = (username, repository) => new Promise((resolve, reject) => {\n  fetchFileFromServer(username, repository, 'manifest.yaml')\n  .then(yaml => {\n    const json = YAML.parseDocument(yaml).toJSON();\n    resolve(json);\n  }).catch(reject);\n});\n\n// https://git.door43.org/unfoldingword/en_ult/raw/branch/master/manifest.yaml\nexport const fetchFileFromServer = (username, repository, filepath, branch='master') => new Promise((resolve, reject) => {\n  const uri = path.join(username, repository, 'raw/branch', branch, filepath);\n  get(uri).then(resolve).catch(reject);\n});\n\nexport const get = (uri) => new Promise((resolve, reject) => {\n  api.get(uri).then(response => {\n    resolve(response.data);\n  }).catch(error => console.warn(error));\n});\n","import usfmjs from 'usfm-js';\nimport {each} from 'async';\n\n// Purpose: application wide\n// Scope: limited to resource files and parsing\n// Notes: pass in manifests don't fetch them\n\nimport * as ApplicationHelpers from '../ApplicationHelpers';\n\nexport const fetchResources = (props) => new Promise((resolve, reject) => {\n  const {username, languageId, reference, manifests} = props;\n  let resources = {\n    ult: null,\n    tn: null,\n    original: null,\n  };\n  const resourceIds = ['ult', 'tn', 'original'];\n  each(resourceIds,\n    (resourceId, done) => {\n      switch (resourceId) {\n        case 'ult':\n          fetchBook(username, languageId, reference.book, manifests.ult)\n          .then(data => {\n            resources[resourceId] = data.chapters;\n            done();\n          });\n          break;\n        case 'tn':\n          translationNotes(username, languageId, reference.book, manifests.tn)\n          .then(data => {\n            resources[resourceId] = data;\n            done();\n          });\n          break;\n        case 'original':\n          fetchOriginalBook(username, languageId, reference.book, manifests.uhb, manifests.ugnt)\n          .then(data => {\n            resources[resourceId] = data.chapters;\n            done();\n          });\n          break;\n        default:\n          done();\n          break;\n      }\n    },\n    (error) => {\n      resolve(resources);\n    }\n  );\n});\n\nexport const fetchBook = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  if (!projectByBookId(manifest.projects, bookId)) {\n    const error = 'book not found in ult';\n    console.warn(error);\n    reject(error);\n  }\n  const repository = ApplicationHelpers.resourceRepositories(languageId).ult;\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(usfm => {\n    const json = usfmjs.toJSON(usfm);\n    resolve(json);\n  }).catch(reject);\n});\n\nexport const fetchOriginalBook = (username, languageId, bookId, uhbManifest, ugntManifest) => new Promise((resolve, reject) => {\n  let manifest, repository;\n  const uhbProject = projectByBookId(uhbManifest.projects, bookId);\n  const ugntProject = projectByBookId(ugntManifest.projects, bookId);\n  const repositories = ApplicationHelpers.resourceRepositories(languageId);\n  if (uhbProject) {\n    manifest = uhbManifest;\n    repository = repositories.uhb;\n  };\n  if (ugntProject) {\n    manifest = ugntManifest;\n    repository = repositories.ugnt;\n  };\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(usfm => {\n    const json = usfmjs.toJSON(usfm);\n    resolve(json);\n  }).catch(reject);\n});\n\nexport const fetchUGNTBook = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  const repository = ApplicationHelpers.resourceRepositories(languageId).ugnt;\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(usfm => {\n    const json = usfmjs.toJSON(usfm);\n    resolve(json);\n  }).catch(reject);\n});\n\nexport const fetchUHBBook = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  const repository = ApplicationHelpers.resourceRepositories(languageId).uhb;\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(usfm => {\n    const json = usfmjs.toJSON(usfm);\n    resolve(json);\n  }).catch(reject);\n});\n\nexport const translationNotes = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  fetchNotes(username, languageId, bookId, manifest)\n  .then(array => {\n    let translationNotesObject = {};\n    array.shift();\n    array.forEach(item => {\n      let [book, chapter, verse, id, support_reference, original_quote, occurrence, gl_quote, occurrence_note] = item;\n      if (book && chapter && verse) {\n        if (!translationNotesObject[chapter]) translationNotesObject[chapter] = {};\n        if (!translationNotesObject[chapter][verse]) translationNotesObject[chapter][verse] = [];\n        let object = {\n          id: id,\n          support_reference: support_reference,\n          original_quote: original_quote,\n          occurrence: occurrence,\n          gl_quote: gl_quote,\n          occurrence_note: occurrence_note.replace(/<br>/g,'\\n'),\n        };\n        translationNotesObject[chapter][verse].push(object);\n      }\n    });\n    resolve(translationNotesObject);\n  }).catch(reject);\n})\n\nexport const fetchNotes = (username, languageId, bookId, manifest) => new Promise((resolve, reject) => {\n  const repository = ApplicationHelpers.resourceRepositories(languageId).tn;\n  fetchFileByBookId(username, repository, bookId, manifest)\n  .then(tsv => {\n    const data = tsvParse(tsv);\n    resolve(data);\n  }).catch(reject);\n});\n\nexport const fetchFileByBookId = (username, repository, bookId, manifest) => new Promise((resolve, reject) => {\n  let {path} = projectByBookId(manifest.projects, bookId);\n  path = path.replace(/^\\.\\//, '');\n  ApplicationHelpers.fetchFileFromServer(username, repository, path)\n  .then(resolve).catch(reject);\n});\n\nexport const projectByBookId = (projects, bookId) => {\n  const _projects = projects.filter(item => item.identifier === bookId);\n  let project;\n  if (_projects.length > 0) {\n    project = _projects[0];\n  }\n  return project;\n}\n\nexport const tsvParse = (tsv) =>\n  tsv.split('\\n').map(row => row.trim().split('\\t'));\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Headroom from 'react-headroom';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport * as WorkspaceHelpers from '../Workspace/WorkspaceHelpers';\n\nconst ApplicationBar = ({\n  classes,\n  projectName,\n  manifests,\n  reference,\n}) => {\n\n  let bookName = '';\n  if (manifests && manifests['ult'] && manifests['ult'].projects && reference.book) {\n    const project = WorkspaceHelpers.projectByBookId(manifests['ult'].projects, reference.book);\n    bookName = project.title;\n  }\n  const referenceComponent = (bookName ? <span>&nbsp;-&nbsp;{bookName} {reference.chapter}</span> : <span />);\n\n  return (\n    <Headroom>\n      <div className={classes.paper}>\n        <div className={classes.toolbar}>\n          <Typography className={classes.projectName} variant=\"subheading\" color=\"inherit\" noWrap>\n            {projectName}\n          </Typography>\n          <Typography variant=\"title\" color=\"inherit\" className={classes.coin} noWrap>\n            {referenceComponent}\n          </Typography>\n        </div>\n      </div>\n    </Headroom>\n  );\n}\n\nApplicationBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  reference: PropTypes.object.isRequired,\n  projectName: PropTypes.string.isRequired,\n};\n\nconst styles = theme => ({\n  paper: {\n    color: '#fff',\n    backgroundColor: '#31ADE3',\n    textAlign: 'center',\n    boxShadow: '0px 1px 5px 0px rgba(0, 0, 0, 0.2),' +\n               '0px 2px 2px 0px rgba(0, 0, 0, 0.14),' +\n               '0px 3px 1px -2px rgba(0, 0, 0, 0.12)',\n  },\n  toolbar: {\n    margin: 'auto',\n    display: 'inline-flex',\n    padding: '1em 0',\n  },\n  projectName: {\n    paddingTop: '0.1em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(ApplicationBar);\n","import ApplicationBarContainer from './ApplicationBarContainer';\nexport default ApplicationBarContainer;\n","import React from 'react';\nimport ApplicationBar from './ApplicationBar';\n\nconst projectName = 'uW translationHelps';\n\nclass ApplicationBarContainer extends React.Component {\n  state = {\n  };\n\n  render() {\n    const {props} = this;\n    return (\n      <ApplicationBar\n        {...props}\n        projectName={projectName}\n      />\n    );\n  };\n}\nexport default ApplicationBarContainer;\n","export const styles = theme => ({\n  root: {\n  },\n  paper: {\n    padding: theme.spacing.unit * 2,\n  },\n  column: {\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  verse: {\n  },\n  fullWidth: {\n    width: '100%'\n  },\n  expansionPanelDetails: {\n    paddingLeft: 0,\n    paddingRight: 0,\n    paddingBottom: 0,\n  },\n  expansionPanelActions: {\n    padding: 0,\n  },\n});\n\nexport default styles;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n  ExpansionPanelActions,\n  IconButton,\n} from '@material-ui/core';\nimport {\n  ExpandMore,\n  ExpandLess,\n} from '@material-ui/icons';\n\nimport styles from './styles';\n\nexport const ExpansionPanelComponent = ({\n  classes,\n  summary,\n  details,\n  id,\n  open,\n  handleToggle,\n  handleClose\n}) => {\n  return (\n    <ExpansionPanel expanded={open} className={classes.column} onChange={handleToggle}>\n      <ExpansionPanelSummary expandIcon={<ExpandMore />}>\n        <span id={id} style={{position: 'absolute', top: '-5em'}}></span>\n        {summary}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n      {\n        open ?\n          <div className={classes.fullWidth}>\n            {details}\n          </div>\n        : ''\n      }\n      </ExpansionPanelDetails>\n      <ExpansionPanelActions className={classes.expansionPanelActions}>\n        <IconButton\n          className={classes.button}\n          aria-label=\"Close\"\n          onClick={handleClose}\n        >\n          <ExpandLess />\n        </IconButton>\n      </ExpansionPanelActions>\n    </ExpansionPanel>\n  );\n};\n\nExpansionPanelComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  summary: PropTypes.object.isRequired,\n  details: PropTypes.object,\n  open: PropTypes.bool.isRequired,\n  id: PropTypes.number.isRequired,\n  handleToggle: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(ExpansionPanelComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n} from '@material-ui/core';\n\nimport ExpansionPanelComponent from './ExpansionPanelComponent';\n\nclass ExpansionContainer extends React.Component {\n  state = {\n    id: Math.random(),\n    open: false,\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n    this.scrollToId(this.state.id);\n  };\n\n  handleToggle = () => {\n    this.setState({ open: !this.state.open });\n    this.scrollToId(this.state.id);\n  };\n\n  scrollToId = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  render() {\n    const {props} = this;\n    const {open, id} = this.state;\n    return (\n      <ExpansionPanelComponent\n        {...props}\n        id={id}\n        open={open}\n        handleClose={this.handleClose.bind(this)}\n        handleToggle={this.handleToggle.bind(this)}\n      />\n    )\n  }\n}\n\nExpansionContainer.propTypes = {\n  summary: PropTypes.object.isRequired,\n  details: PropTypes.object,\n};\n\nexport default ExpansionContainer;\n","import * as ApplicationHelpers from '../../../ApplicationHelpers';\n\nconst username = ApplicationHelpers.username;\nconst repository = (languageId) => ApplicationHelpers.resourceRepositories(languageId).ta;\n// https://git.door43.org/[username]/[languageId]_ta/src/branch/master/translate/figs-metaphor\n// title = title.md\n// markdown = 01.md\nexport const fetchTitle = (languageId, linkPath) => new Promise((resolve, reject) => {\n  const uriPath = linkPath.split('/').splice(1).join('/') + '/title.md';\n  ApplicationHelpers.fetchFileFromServer(username, repository(languageId), uriPath)\n  .then(resolve).catch(reject);\n});\n\nexport const fetchArticle = (languageId, linkPath) => new Promise((resolve, reject) => {\n  const uriPath = linkPath.split('/').splice(1).join('/') + '/01.md';\n  ApplicationHelpers.fetchFileFromServer(username, repository(languageId), uriPath)\n  .then(article => {\n    const prefix = linkPath.split('/').splice(0,2).join('/');\n    article = article.split('../').join(`http://${languageId}/ta/${prefix}/`)\n      .split('/01.md').join('').split('rc://').join('http://');\n    resolve(article);\n  }).catch(reject);\n});\n","import * as ApplicationHelpers from '../../../ApplicationHelpers';\n\nconst username = ApplicationHelpers.username;\nconst repository = (languageId) => ApplicationHelpers.resourceRepositories(languageId).tw;\n// https://git.door43.org/[username]/[languageId]_ta/src/branch/master/bible/kt/abomination.md\n// title = first line of file\n// markdown = the path + .md\n// rc://en/tw/dict/bible/kt/christ\nexport const fetchTitle = (languageId, linkPath) => new Promise((resolve, reject) => {\n  const uriPath = linkPath.split('/').splice(1).join('/') + '.md';\n  ApplicationHelpers.fetchFileFromServer(username, repository(languageId), uriPath)\n  .then(markdown => {\n    const title = markdown.split(/\\n/)[0].replace(/#/g, '').trim();\n    resolve(title);\n  }).catch(reject);\n});\n\nexport const fetchArticle = (languageId, linkPath) => new Promise((resolve, reject) => {\n  const uriPath = linkPath.split('/').splice(1).join('/') + '.md'; // remove \"/dict/\"\n  ApplicationHelpers.fetchFileFromServer(username, repository(languageId), uriPath)\n  .then(article => {\n    const prefix = linkPath.split('/').splice(0,2).join('/');\n    article = article.split('../').join(`http://${languageId}/tw/${prefix}/`)\n      .split('.md').join('').split('rc://').join('http://');\n    resolve(article);\n  }).catch(reject);\n});\n","import * as TranslationAcademyHelpers from './TranslationAcademy/helpers';\nimport * as TranslationWordsHelpers from './TranslationWords/helpers';\n\nexport const fetchTitle = (languageId, resourceId, linkPath) => new Promise((resolve, reject) => {\n  switch (resourceId) {\n    case 'ta':\n      TranslationAcademyHelpers.fetchTitle(languageId, linkPath)\n      .then(resolve).catch(error => console.log(error));\n      break;\n    case 'tw':\n      TranslationWordsHelpers.fetchTitle(languageId, linkPath)\n      .then(resolve).catch(error => console.log(error));\n      break;\n    case 'tn':\n      break;\n    default:\n      const message = `resourceId not configured: ${languageId} - ${resourceId} - ${linkPath}`;\n      console.log(message);\n      break;\n  };\n});\n\nexport const fetchArticle = (languageId, resourceId, linkPath) => new Promise((resolve, reject) => {\n  switch (resourceId) {\n    case 'ta':\n      TranslationAcademyHelpers.fetchArticle(languageId, linkPath)\n      .then(resolve).catch(error => console.log(error));\n      break;\n    case 'tw':\n      TranslationWordsHelpers.fetchArticle(languageId, linkPath)\n      .then(resolve).catch(error => console.log(error));\n      break;\n    case 'tn':\n      break;\n    default:\n      const message = `resourceId not configured: ${languageId} - ${resourceId} - ${linkPath}`;\n      console.log(message);\n      break;\n  };\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Chip,\n  Typography,\n} from '@material-ui/core';\n\nimport * as helpers from './helpers';\n\nclass RCLinkContainer extends React.Component {\n  state = {\n    languageId: null,\n    resourceId: null,\n    path: null,\n    title: null,\n    article: null,\n    open: null,\n    reference: null,\n  };\n\n  parseHref(href) {\n    let _match, languageId, resourceId, path, reference;\n    const regexpLanguageIdResourcePath = /http:\\/\\/([\\w-_]+)\\/([\\w-_]+)\\/(.+)/;\n    if (regexpLanguageIdResourcePath.test(href)) {\n      const match = regexpLanguageIdResourcePath.exec(href);\n      [_match, languageId, resourceId, path] = match;\n    } else {\n      path = href;\n    }\n    if (resourceId === 'tn') {\n      const regexpReference = /\\/([\\w]+)\\/([\\d]+)\\/([\\d]+)/;\n      if (regexpReference.test(path)) {\n        const match = regexpReference.exec(path);\n        const [_match, book, chapter, verse] = match;\n        if (book !== 'obs') {\n          reference = {book, chapter: parseInt(chapter), verse: parseInt(verse)};\n        }\n      }\n    }\n    return {\n      languageId,\n      resourceId,\n      path,\n      reference,\n    }\n  };\n\n  componentWillMount() {\n    const {href, children} = this.props;\n    let state = this.parseHref(href);\n    const text = children[0];\n    if (text !== href) {\n      state.title = text;\n    }\n    this.setState(state);\n  };\n\n  componentDidMount() {\n    const {title, languageId, resourceId, path} = this.state;\n    if (!title && languageId && resourceId && path) {\n      helpers.fetchTitle(languageId, resourceId, path)\n      .then(title => {\n        this.setState({\n          title: title,\n        });\n      });\n    }\n  };\n\n  handleOpen = () => {\n    const {languageId, resourceId, path, title, reference} = this.state;\n    if (reference) {\n      this.props.setReference(reference)\n    } else {\n      helpers.fetchArticle(languageId, resourceId, path)\n      .then(article => {\n        const tab = {\n          title: title || path,\n          text: article,\n        };\n        this.props.addTab(tab);\n      });\n    }\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    const {title, path} = this.state;\n    const {classes} = this.props;\n\n    return (\n      <Chip\n        label={\n          <Typography noWrap component='span'>\n            {title || path}\n          </Typography>\n        }\n        component='span'\n        className={classes.chip}\n        classes={{label: classes.label}}\n        onClick={this.handleOpen}\n        clickable\n      />\n    );\n  }\n};\n\nRCLinkContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  href: PropTypes.string.isRequired,\n  addTab: PropTypes.func.isRequired,\n  setReference: PropTypes.func.isRequired,\n};\n\n\nconst styles = theme => ({\n  chip: {\n    height: 'unset',\n    maxWidth: '95%',\n  },\n  label: {\n    maxWidth: '94%',\n  }\n});\n\nexport default withStyles(styles, { withTheme: true })(RCLinkContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport remark from 'remark';\nimport remark2react from 'remark-react';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport RCLinkContainer from './RCLinkContainer';\n\nclass TextComponentWithRCLinks extends React.Component {\n  state = {\n    component: null,\n  };\n\n  componentDidMount() {\n    const {text, addTab, setReference} = this.props;\n    const options = {\n      remarkReactComponents: {\n        a: (props) => (\n          <RCLinkContainer\n            {...props}\n            setReference={setReference}\n            addTab={addTab}\n          />\n        ),\n        div: (props) => <div {...props} style={{width: '100%'}}/>,\n      }\n    };\n    const component = remark()\n    .use(remark2react, options)\n    .processSync(text).contents;\n    this.setState({\n      component,\n    });\n  };\n\n  render() {\n    return this.state.component;\n  };\n};\n\nTextComponentWithRCLinks.propTypes = {\n  text: PropTypes.string.isRequired,\n  addTab: PropTypes.func.isRequired,\n  setReference: PropTypes.func.isRequired,\n};\n\nexport default TextComponentWithRCLinks;\n","import TranslationNoteComponent from './TranslationNoteComponent';\nexport default TranslationNoteComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Divider,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport TextComponentWithRCLinks from '../TextComponentWithRCLinks';\n\nexport const TranslationNoteComponent = ({classes, note, addTab, setReference}) => {\n  if (!note) debugger\n  const occurrence_note = note.occurrence_note.replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '');\n  const noteComponent = (\n    <TextComponentWithRCLinks\n      setReference={setReference}\n      text={occurrence_note}\n      addTab={addTab}\n    />\n  );\n  return (\n    <div className={classes.root}>\n      <Divider />\n      <div className={classes.note}>\n        <strong>{note.gl_quote}</strong> {noteComponent}\n      </div>\n    </div>\n  );\n};\n\nTranslationNoteComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  note: PropTypes.object.isRequired,\n  addTab: PropTypes.func.isRequired,\n  setReference: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  note: {\n    marginTop: '0.5em',\n    marginBottom: '0.5em',\n  },\n});\n\nexport default withStyles(styles)(TranslationNoteComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nexport const OriginalWordComponent = ({classes, verseObject, senses}) => {\n\n  return (\n    <div>\n      <Typography>\n        <span><strong>{verseObject.text || verseObject.content}</strong> -</span>\n        <span> <em>lemma:</em> {verseObject.lemma}</span>\n        <span> <em>strong:</em> {verseObject.strong}</span>\n      </Typography>\n      {\n        senses.map((sense, index) =>\n          <Typography key={index}>\n            <sup>{index + 1}</sup>\n            {\n              sense.gloss ?\n              <span> <em>Gloss:</em> {sense.gloss}</span>\n              : ''\n            }\n            {\n              sense.definition ?\n              <span> <em>Definition:</em> {sense.definition}</span>\n              : ''\n            }\n          </Typography>\n        )\n      }\n    </div>\n  );\n};\n\nOriginalWordComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n  senses: PropTypes.array,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(OriginalWordComponent);\n","import path from 'path';\nimport * as ApplicationHelpers from '../../../ApplicationHelpers';\n\nconst username = 'unfoldingword';\nconst languageId = 'en'\nconst repositories = ApplicationHelpers.resourceRepositories(languageId);\n\nexport const parseSenses = (lexiconMarkdown) => {\n  let senses = [];\n  const sensesSection = lexiconMarkdown.split(/##\\s*Senses/)[1];\n  const senseSections = sensesSection.split(/###\\s*Sense/).splice(1);\n  senseSections.forEach(senseSection => {\n    const definitionRegexp = /####\\s*Definitions?.*?[\\n\\s]+(.*?)\\n/;\n    const glossRegexp = /####\\s*Glosse?s?.*?[\\n\\s]+(.*?)\\n/;\n    let definition = definitionRegexp.test(senseSection) ? definitionRegexp.exec(senseSection)[1] : null;\n    definition = (!/#/.test(definition)) ? definition : null;\n    let gloss = glossRegexp.test(senseSection) ? glossRegexp.exec(senseSection)[1] : null;\n    gloss = (!/#/.test(gloss)) ? gloss : null;\n    const sense = {\n      definition: definition,\n      gloss: gloss,\n    };\n    senses.push(sense);\n  });\n  const uniqueSenses = unique(senses);\n  return uniqueSenses;\n};\n\nexport const senses = (strong) => new Promise((resolve, reject) => {\n  let repository, filepath;\n  if (/^H/.test(strong)) {\n    repository = repositories.uhal;\n    filepath = path.join('content', strong + '.md');\n  }\n  if (/^G/.test(strong)) {\n    repository = repositories.ugl;\n    filepath = path.join('content', strong, '01.md');\n  }\n  ApplicationHelpers.fetchFileFromServer(username, repository, filepath)\n  .then(markdown => {\n    const senses = parseSenses(markdown);\n    resolve(senses);\n  }).catch(reject);\n});\n\nexport const unique = (array, response=[]) => {\n  let _array = array;\n  array.forEach(object => {\n    _array = _array.filter(_object =>\n      !(object.gloss === _object.gloss && object.definition === _object.definition)\n    );\n    _array.push(object);\n  });\n  return _array;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport OriginalWordComponent from './OriginalWordComponent';\nimport * as OriginalWordHelpers from './OriginalWordHelpers';\n\nclass OriginalWordsContainer extends React.Component {\n  state = {\n    senses: [],\n  };\n\n  componentDidMount() {\n    OriginalWordHelpers.senses(this.props.verseObject.strong)\n    .then(senses => {\n      this.setState({\n        senses: senses,\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  render() {\n    return (\n      <OriginalWordComponent\n        verseObject={this.props.verseObject}\n        senses={this.state.senses}\n      />\n    );\n  };\n};\n\nOriginalWordsContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n});\n\nexport default withStyles(styles, { withTheme: true })(OriginalWordsContainer);\n","import OriginalWordContainer from './OriginalWordContainer';\nexport default OriginalWordContainer;\n","export const styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: '100%',\n  },\n  width: {\n    width: '100%',\n  },\n  appBar: {\n    width: '95%',\n    zIndex: '10',\n    margin: 'auto',\n  },\n  hidden: {\n    height: '0px',\n  },\n  padding: {\n    padding: `0 ${theme.spacing.unit * 2}px`,\n  },\n  tabContent: {\n    padding: `0 ${theme.spacing.unit * 3}px`,\n  }\n});\n\nexport default styles;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport SwipeableViews from 'react-swipeable-views';\nimport {\n  AppBar,\n  Tabs,\n  Tab,\n  Divider,\n  Badge,\n} from '@material-ui/core';\n\nimport TextComponentWithRCLinks from './TextComponentWithRCLinks';\nimport TranslationNotes from './TranslationNotes';\nimport OriginalWord from '../BookComponent/OriginalWord';\n\nimport styles from './TranslationHelpsStyles';\n\nexport const TranslationHelpsComponent = ({\n  classes,\n  languageId,\n  setReference,\n  tabs,\n  addTab,\n  tabIndex,\n  handleChangeIndex,\n  id,\n}) => {\n  let tabLabels = [];\n  let tabContents = [];\n  let badgeCount = 0;\n\n  tabs.forEach((tab, index) => {\n    let content;\n    if (tab.text) {\n      badgeCount = 0;\n      content = <TextComponentWithRCLinks\n        text={tab.text}\n        addTab={addTab}\n        setReference={setReference}\n      />;\n    } else if (tab.notes) {\n      badgeCount = tab.notes.length;\n      content = tab.notes.map((note, index) =>\n        <TranslationNotes\n          key={index}\n          note={note}\n          addTab={addTab}\n          setReference={setReference}\n        />\n      );\n    } else if (tab.original) {\n      const wordObjects = tab.original;\n      badgeCount = wordObjects.length;\n      content = wordObjects.map((wordObject, index) => {\n        const link = wordObject.link.replace('rc://*/', `http://${languageId}/`);\n        const originalWords = wordObject.originalWords.map((verseObject, index) =>\n          <OriginalWord key={index} verseObject={verseObject} />\n        );\n        const text = `${link}`;\n        return (\n          <div key={index}>\n            <Divider />\n            <TextComponentWithRCLinks\n              text={text}\n              addTab={addTab}\n              setReference={setReference}\n            />\n            {originalWords}\n          </div>\n        );\n      });\n    }\n    const badge = (\n      <Badge className={classes.padding} color=\"primary\" badgeContent={badgeCount}>\n        {tab.title}\n      </Badge>\n    );\n    tabLabels.push(\n      <Tab key={tabLabels.length} label={ (badgeCount > 0) ? badge : tab.title } />\n    );\n    tabContents.push(\n      <div key={tabContents.length} className={(index === tabIndex) ? classes.tabContent : classes.hidden }>\n        {content}\n      </div>);\n  });\n  return (\n    <div id={id} className={classes.root}>\n      <AppBar className={classes.appBar} position=\"sticky\" color=\"default\">\n        <Tabs\n          className={classes.width}\n          value={tabIndex}\n          onChange={handleChangeIndex}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollable\n          scrollButtons=\"auto\"\n        >\n          {tabLabels}\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        className={classes.width}\n        index={tabIndex}\n        onChangeIndex={handleChangeIndex}\n      >\n        {tabContents}\n      </SwipeableViews>\n    </div>\n  );\n}\n\nTranslationHelpsComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  tabs: PropTypes.array.isRequired,\n  addTab: PropTypes.func.isRequired,\n  handleChangeIndex: PropTypes.func.isRequired,\n  languageId: PropTypes.string.isRequired,\n  setReference: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(TranslationHelpsComponent);\n","import TranslationHelpsContainer from './TranslationHelpsContainer';\nexport default TranslationHelpsContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n} from '@material-ui/core';\n\nimport TranslationHelpsComponent from './TranslationHelpsComponent';\n\nclass TranslationHelpsContainer extends React.Component {\n  state = {\n    id: Math.random(),\n    tabIndex: 0,\n    tabs: this.props.tabs,\n  };\n\n  handleChangeIndex = (_index, __index) => {\n    const index = (__index !== undefined) ? __index : _index;\n    this.setState({ tabIndex: index });\n    this.scrollToId(this.state.id);\n  };\n\n  addTab = (tab) => {\n    let {tabs} = this.state;\n    tabs.push(tab);\n    this.setState({\n      tabs,\n      tabIndex: tabs.length - 1,\n    });\n    this.scrollToId(this.state.id);\n  };\n\n  scrollToId = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  render() {\n    const {props} = this;\n    const {tabs, tabIndex, id} = this.state;\n    return (\n      <TranslationHelpsComponent\n        {...props}\n        id={id}\n        tabs={tabs}\n        tabIndex={tabIndex}\n        addTab={this.addTab.bind(this)}\n        handleChangeIndex={this.handleChangeIndex.bind(this)}\n      />\n    )\n  }\n}\n\nTranslationHelpsContainer.propTypes = {\n  tabs: PropTypes.array.isRequired,\n  languageId: PropTypes.string.isRequired,\n  setReference: PropTypes.func.isRequired,\n};\n\nexport default TranslationHelpsContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nexport const TextComponent = ({classes, verseObject}) => {\n  const isWord = verseObject.type === 'word';\n  // const isText = verseObject.type === 'text';\n  return (\n    <span>{isWord ? ' ': ''}{verseObject.text}</span>\n  );\n};\n\nTextComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(TextComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Popover,\n} from '@material-ui/core';\n\nimport TextComponent from './TextComponent';\nimport OriginalWord from './OriginalWord/index.js';\n\nclass OriginalWordsContainer extends React.Component {\n  state = {\n    anchorEl: null,\n  };\n\n  handlePopoverOpen = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handlePopoverClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n    const { classes, children, originalWords } = this.props;\n    const { anchorEl } = this.state;\n    const open = Boolean(anchorEl);\n    return (\n      <span>\n        <span\n          aria-owns={open ? 'mouse-over-popover' : undefined}\n          aria-haspopup=\"true\"\n          onMouseEnter={this.handlePopoverOpen}\n          onMouseLeave={this.handlePopoverClose}\n          className={(open ? classes.open : classes.closed)}\n        >\n          {\n            children.map((verseObject, index) =>\n              <TextComponent key={index} verseObject={verseObject}/>\n            )\n          }\n        </span>\n        <Popover\n          id=\"mouse-over-popover\"\n          className={classes.popover}\n          classes={{\n            paper: classes.paper,\n          }}\n          open={open}\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'left',\n          }}\n          onClose={this.handlePopoverClose}\n          disableRestoreFocus\n        >\n        {\n          originalWords.map((verseObject, index) =>\n            <OriginalWord key={index} verseObject={verseObject} />\n          )\n        }\n        </Popover>\n      </span>\n    );\n  }\n}\n\nOriginalWordsContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  children: PropTypes.array.isRequired,\n  originalWords: PropTypes.array,\n};\n\nconst styles = theme => ({\n  open: {\n    backgroundColor: 'lightgoldenrodyellow',\n  },\n  closed: {\n  },\n  popover: {\n    pointerEvents: 'none',\n  },\n  paper: {\n    padding: theme.spacing.unit,\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(OriginalWordsContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport VerseObjectComponent from './VerseObjectComponent';\nimport OriginalWordsContainer from './OriginalWordsContainer';\n\nexport const MilestoneComponent = ({classes, verseObject, originalWords}) => {\n  originalWords.push(verseObject);\n  const container = (verseObject.children[0].type === 'milestone') ?\n    verseObject.children.map((child, index) =>\n      <VerseObjectComponent\n        key={index}\n        verseObject={child}\n        originalWords={originalWords}\n      />\n    ) :\n    <OriginalWordsContainer\n      originalWords={originalWords}\n      children={verseObject.children}\n    />;\n\n  return container;\n};\n\nMilestoneComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n  originalWords: PropTypes.array,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(MilestoneComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport MilestoneComponent from './MilestoneComponent';\nimport TextComponent from './TextComponent';\n\nexport const VerseObjectComponent = ({classes, verseObject, originalWords}) => {\n  const component = verseObject.type === 'milestone' ?\n    <MilestoneComponent\n      verseObject={verseObject}\n      originalWords={originalWords}\n    /> :\n    <TextComponent\n      verseObject={verseObject}\n    />;\n  return component;\n};\n\nVerseObjectComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n  originalWords: PropTypes.array,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(VerseObjectComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport styles from './styles';\n\nimport ExpansionPanelContainer from './ExpansionPanelContainer';\nimport VerseObjectComponent from './VerseObjectComponent';\nimport TranslationHelps from '../TranslationHelps';\n\nimport * as originalHelpers from '../TranslationHelps/Original/helpers';\n\nexport const VerseComponent = ({\n  classes,\n  languageId,\n  verseKey,\n  bookVerseData,\n  originalVerseData,\n  translationNotesVerseData,\n  reference,\n  setReference,\n}) => {\n  const verseObjects =\n  bookVerseData.verseObjects ?\n  bookVerseData.verseObjects.map((verseObject, index) => {\n    // const lastVerseObject = (index > 0) ? verseData.verseObjects[index - 1] : null;\n    // const nextVerseObject = (index < verseData.verseObjects.length - 1) ? verseData.verseObjects[index + 1] : null;\n    return (\n      <VerseObjectComponent\n        key={index}\n        verseObject={verseObject}\n        originalWords={[]}\n      />\n    );\n  }) : <span />;\n\n  let tabs = [];\n  if (translationNotesVerseData) {\n    const notesTab = {\n      title: 'Notes',\n      notes: translationNotesVerseData,\n    };\n    tabs.push(notesTab)\n  };\n  const wordObjects = originalHelpers.taggedWords(originalVerseData.verseObjects);\n  if (wordObjects.length > 0) {\n    const wordsTab = {\n      title: 'Words',\n      original: wordObjects,\n    };\n    tabs.push(wordsTab);\n  }\n\n  const details = (tabs.length > 0) ?\n    <TranslationHelps\n      languageId={languageId}\n      tabs={tabs}\n      setReference={setReference}\n    /> : null;\n\n  const {book, chapter} = reference;\n  const id = `${book}_${chapter}_${verseKey}`;\n\n  return (\n    <ExpansionPanelContainer\n      summary={\n        <span className={classes.verse}>\n          <span id={id} style={{position: 'absolute', top: '-5em'}}></span>\n          <sup>{verseKey}</sup>\n          {verseObjects}\n        </span>\n      }\n      details={details}\n    />\n  );\n};\n\nVerseComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseKey: PropTypes.string.isRequired,\n  bookVerseData: PropTypes.object.isRequired,\n  translationNotesVerseData: PropTypes.array,\n  languageId: PropTypes.string.isRequired,\n  originalVerseData: PropTypes.object,\n  setReference: PropTypes.func.isRequired,\n  reference: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(VerseComponent);\n","\nexport const taggedWords = (verseObjects) => {\n  const wordLinks = verseObjects\n  .filter(verseObject => verseObject.tw)\n  .map(verseObject => {\n    let originalWords = [];\n    if (verseObject.type === 'word') originalWords.push(verseObject);\n    if (verseObject.children) originalWords = originalWords.concat(verseObject.children);\n    let wordObject = {\n      link: verseObject.tw,\n      originalWords,\n    };\n    return wordObject;\n  });\n  return wordLinks;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport styles from './styles';\n\nimport TranslationHelps from '../TranslationHelps';\nimport ExpansionPanelContainer from './ExpansionPanelContainer';\nimport VerseComponent from './VerseComponent';\n\nexport const ChapterComponent = ({\n  classes,\n  languageId,\n  chapterKey,\n  bookChapterData,\n  originalChapterData,\n  translationNotesChapterData,\n  setReference,\n  reference,\n}) => {\n  const verses = Object.keys(bookChapterData)\n  .filter(verseKey => {\n    const text = bookChapterData[verseKey].verseObjects.map(o => o.text).join('');\n    return /\\S+/g.test(text);\n  })\n  .map(verseKey =>\n    <VerseComponent\n      key={verseKey}\n      verseKey={verseKey}\n      languageId={languageId}\n      bookVerseData={bookChapterData[verseKey]}\n      originalVerseData={originalChapterData ? originalChapterData[verseKey] : null}\n      translationNotesVerseData={translationNotesChapterData[verseKey]}\n      setReference={setReference}\n      reference={reference}\n    />\n  );\n  const intro = (translationNotesChapterData['intro'] && translationNotesChapterData['intro'][0]) ?\n    translationNotesChapterData['intro'][0]['occurrence_note']\n    .replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '')\n    : '';\n  const tabs = [{\n    title: 'Chapter Notes',\n    text: intro,\n  }];\n  const introPanel = (\n    <ExpansionPanelContainer\n      key={'chapter'+chapterKey}\n      summary={<h2>Chapter {chapterKey}</h2>}\n      details={\n        <TranslationHelps\n          languageId={languageId}\n          tabs={tabs}\n          setReference={setReference}\n        />\n      }\n    />\n  );\n  const panels = [introPanel].concat(verses);\n\n  return panels;\n};\n\nChapterComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  chapterKey: PropTypes.number.isRequired,\n  bookChapterData: PropTypes.object.isRequired,\n  translationNotesChapterData: PropTypes.object,\n  languageId: PropTypes.string.isRequired,\n  originalChapterData: PropTypes.object,\n  setReference: PropTypes.func.isRequired,\n  reference: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ChapterComponent);\n","import BookComponent from './BookComponent';\nexport default BookComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactMarkdown from 'react-markdown';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport styles from './styles';\n\nimport ExpansionPanelContainer from './ExpansionPanelContainer';\nimport ChapterComponent from './ChapterComponent';\nimport TranslationHelps from '../TranslationHelps';\n\nexport const BookComponent = ({\n  classes,\n  languageId,\n  reference,\n  bookData,\n  originalData,\n  translationNotesData,\n  setReference,\n}) => {\n  const {chapter} = reference;\n  const chapterComponent = (\n    <ChapterComponent\n      languageId={languageId}\n      chapterKey={reference.chapter}\n      bookChapterData={bookData[chapter]}\n      originalChapterData={originalData[chapter]}\n      translationNotesChapterData={translationNotesData[chapter]}\n      setReference={setReference}\n      reference={reference}\n    />\n  );\n  const intro = translationNotesData['front']['intro'][0]['occurrence_note'];\n  const introDetails = intro.split('\\n').splice(1).join('\\n')\n    .replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '');\n  const tabs = [{\n    title: 'Book Notes',\n    text: introDetails\n  }];\n  return (\n    <div className={classes.root}>\n      <ExpansionPanelContainer\n        key={''+reference.book+'intro'}\n        summary={\n          <ReactMarkdown\n            source={intro.split('\\n')[0]}\n            escapeHtml={false}\n          />\n        }\n        details={\n          <TranslationHelps\n            setReference={setReference}\n            languageId={languageId}\n            tabs={tabs}\n          />\n        }\n      />\n      {chapterComponent}\n    </div>\n  );\n};\n\nBookComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  bookData: PropTypes.object.isRequired,\n  translationNotesData: PropTypes.object,\n  languageId: PropTypes.string.isRequired,\n  originalData: PropTypes.object,\n  setReference: PropTypes.func.isRequired,\n  reference: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(BookComponent);\n","import data from './chaptersAndVerses.json';\n\nexport const chaptersInBook = bookId => {\ntry {\n  const chapters = bookData(bookId).chapters;\n  return chapters;\n} catch {debugger}\n}\n\nexport const versesInChapter = (bookId, chapter) => {\n  const verses = chaptersInBook([chapter - 1]);\n  return verses;\n}\n\nexport const bookData = bookId => {\n  const _bookData = data.filter(row => row.id === bookId)[0];\n  return _bookData;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Book,\n  BookOutlined,\n} from '@material-ui/icons';\n\nimport * as chaptersAndVerses from '../../chaptersAndVerses';\n\nexport const BookComponent = ({classes, bookMetadata, reference, setReference}) => {\n  const bookId = bookMetadata.identifier;\n  const chapterCount = chaptersAndVerses.chaptersInBook(bookId).length;\n  return (\n    <ListItem\n      button\n      selected={reference.book === bookMetadata.identifier}\n      className={classes.bookListItem}\n      style={{\n        paddingLeft: '2.2em',\n        paddingRight: '0.7em',\n      }}\n      onClick={() => {\n        setReference({\n          book: bookId,\n        });\n      }}\n    >\n      <ListItemIcon className={classes.listItemIcon}>\n        {\n          (reference.book === bookMetadata.identifier) ?\n          <Book /> :\n          <BookOutlined />\n        }\n      </ListItemIcon>\n      <ListItemText\n        className={classes.listItemText}\n        primary={bookMetadata.title}\n        secondary={chapterCount + ' Chapters' }\n      />\n    </ListItem>\n  );\n}\n\nBookComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  bookMetadata: PropTypes.object.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(BookComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Collapse,\n} from '@material-ui/core';\nimport {\n  Bookmarks,\n  BookmarksOutlined,\n} from '@material-ui/icons';\n\nimport BookComponent from './BookComponent';\n\nexport const TestamentComponent = ({classes, testamentId, books, reference, setReference, open, toggle}) => {\n  const bookComponents = books ?\n    books.map((bookMetadata) =>\n      <BookComponent\n        key={bookMetadata.identifier}\n        bookMetadata={bookMetadata}\n        reference={reference}\n        setReference={setReference}\n      />\n    ) : [];\n\n  return (\n    <div>\n      <ListItem\n        button\n        selected={open}\n        className={classes.fileList}\n        style={{\n          paddingLeft: '1em',\n          paddingRight: '0.5em',\n        }}\n        onClick={toggle}\n      >\n        <ListItemIcon className={classes.listItemIcon}>\n          {\n            open ?\n            <Bookmarks /> :\n            <BookmarksOutlined />\n          }\n        </ListItemIcon>\n        <ListItemText\n          inset\n          className={classes.listItemText}\n          primary={testamentId}\n          secondary={books.length + ' Books'}\n        />\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <List dense className={classes.list}>\n          {bookComponents}\n        </List>\n      </Collapse>\n    </div>\n  );\n}\n\nTestamentComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  testamentId: PropTypes.string.isRequired,\n  books: PropTypes.array.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n}\nconst styles = theme => ({\n  list: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(TestamentComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TestamentComponent from './TestamentComponent';\n\nclass TestamentContainer extends React.Component {\n  state = {\n    open: false,\n  };\n\n  toggle() {\n    this.setState({\n      open: !this.state.open\n    })\n  };\n\n  render() {\n    const props = this.props;\n    const {open} = this.state;\n    return (\n      <TestamentComponent\n        {...props}\n        open={open}\n        toggle={this.toggle.bind(this)}\n      />\n    );\n  };\n};\n\nTestamentContainer.propTypes = {\n  testamentId: PropTypes.string.isRequired,\n  books: PropTypes.array.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n}\n\nexport default TestamentContainer;\n","import BibleComponent from './BibleComponent'\nexport default BibleComponent\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport TestamentContainer from './TestamentContainer';\n\nexport const BibleComponent = ({classes, manifests, reference, setReference}) => {\n  let bible = {};\n  const ult = manifests['ult'];\n  if (ult) {\n    ult.projects.forEach(project => {\n      const testamentId = project.categories.includes('bible-ot') ? 'Old Testament': 'New Testament';\n      if (!bible[testamentId]) bible[testamentId] = [];\n      bible[testamentId].push(project);\n    });\n  }\n  return (\n    <Paper className={classes.bible}>\n      <List\n        className={classes.bible}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.bibleList}>\n          {\n            Object.keys(bible).map(testamentId =>\n              <TestamentContainer\n                key={testamentId}\n                testamentId={testamentId}\n                books={bible[testamentId]}\n                reference={reference}\n                setReference={setReference}\n              />\n            )\n          }\n        </div>\n      </List>\n    </Paper>\n    )\n}\n\nBibleComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  bible: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  bibleList: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(BibleComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Bookmark,\n  BookmarkBorder,\n} from '@material-ui/icons';\n\nexport const ChapterComponent = ({classes, chapter, verses, reference, setReference}) =>\n  <ListItem\n    button\n    selected={reference.chapter === chapter}\n    className={classes.bookListItem}\n    style={{\n      paddingLeft: '2em',\n      paddingRight: '0.7em',\n    }}\n    onClick={() => {\n      setReference({\n        book: reference.book,\n        chapter: chapter,\n      });\n    }}\n  >\n    <ListItemIcon className={classes.listItemIcon}>\n      {\n        (reference.chapter === chapter) ?\n        <Bookmark /> :\n        <BookmarkBorder />\n      }\n    </ListItemIcon>\n    <ListItemText\n      className={classes.listItemText}\n      primary={'Chapter ' + chapter}\n      secondary={verses + ' Verses' }\n    />\n  </ListItem>\n\nChapterComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n  chapter: PropTypes.number.isRequired,\n  verses: PropTypes.number.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles)(ChapterComponent);\n","import ChaptersComponent from './ChaptersComponent'\nexport default ChaptersComponent\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport ChapterComponent from './ChapterComponent';\n\nimport * as chaptersAndVerses from '../../chaptersAndVerses';\n\nexport const ChaptersComponent = ({classes, bookData, reference, setReference}) => {\n  const chapters = chaptersAndVerses.chaptersInBook(reference.book)\n  .map((verses, index) =>\n    <ChapterComponent\n      key={index}\n      chapter={index+1}\n      verses={verses}\n      reference={reference}\n      setReference={setReference}\n    />\n  );\n\n  return (\n    <Paper className={classes.root}>\n      <List\n        className={classes.root}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.list}>\n          {chapters}\n        </div>\n      </List>\n    </Paper>\n  );\n};\n\nChaptersComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  list: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(ChaptersComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport BookComponent from './BookComponent';\nimport BibleManager from './BibleManager';\nimport ChapterManager from './ChapterManager';\n\nexport const Workspace = ({\n  classes,\n  bookData,\n  originalData,\n  translationNotesData,\n  username,\n  languageId,\n  manifests,\n  reference,\n  setReference,\n  referenceLoaded,\n}) => {\n  const bibleManager = (\n    <BibleManager\n      manifests={manifests}\n      reference={reference}\n      setReference={setReference}\n    />\n  );\n  const chapterManager = (\n    <ChapterManager\n      reference={reference}\n      setReference={setReference}\n    />\n  );\n  const bookComponent = (\n    <BookComponent\n      languageId={languageId}\n      reference={reference}\n      bookData={bookData}\n      originalData={originalData}\n      translationNotesData={translationNotesData}\n      setReference={setReference}\n    />\n  );\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  const canShowBibleManager = (!reference.book);\n  const canShowChapterManager = (!reference.chapter);\n  const referenceIsLoaded = (referenceLoaded && referenceLoaded.book === reference.book);\n  const canShowBookComponent = (referenceIsLoaded && !!bookData && !!translationNotesData);\n\n  let component = loadingComponent;\n  if (canShowBibleManager) component = bibleManager;\n  else if (canShowChapterManager) component = chapterManager;\n  else if (canShowBookComponent) component = bookComponent;\n\n  return (\n    <div className={classes.root}>\n      {component}\n    </div>\n  );\n}\n\nWorkspace.propTypes = {\n  classes: PropTypes.object.isRequired,\n  username: PropTypes.string.isRequired,\n  languageId: PropTypes.string.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n  manifests: PropTypes.object,\n  originalData: PropTypes.object,\n  bookData: PropTypes.object,\n  translationNotesData: PropTypes.object,\n  referenceLoaded: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(Workspace);\n","import WorkspaceContainer from './WorkspaceContainer'\nexport default WorkspaceContainer\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Workspace from './Workspace';\n\nimport * as WorkspaceHelpers from './WorkspaceHelpers';\n\nclass WorkspaceContainer extends React.Component {\n  state = {\n    ult: null,\n    tn: null,\n    original: null,\n    referenceLoaded: null,\n  };\n\n  fetchResourcesConditionally(nextProps) {\n    const {reference} = nextProps;\n    const referenceChanged = (nextProps.reference.book !== this.props.reference.book);\n    const emptyBookData = (!this.state.bookData);\n    const needToFetch = (emptyBookData || referenceChanged)\n    const canFetch = (reference.book && Object.keys(nextProps.manifests).length > 0);\n    if (canFetch && needToFetch) {\n      WorkspaceHelpers.fetchResources(nextProps)\n      .then(newState => {\n        newState.referenceLoaded = reference;\n        this.setState(newState);\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.fetchResourcesConditionally(nextProps);\n  };\n\n  componentDidMount() {\n    this.fetchResourcesConditionally(this.props);\n  };\n\n  componentDidUpdate() {\n    const {book, chapter, verse} = this.props.reference;\n    const id = `${book}_${chapter}_${verse}`;\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  }\n\n  render() {\n    const props = this.props;\n    const {ult, tn, original, referenceLoaded} = this.state;\n    return (\n      <Workspace\n        {...props}\n        referenceLoaded={referenceLoaded}\n        bookData={ult}\n        translationNotesData={tn}\n        originalData={original}\n      />\n    );\n  };\n};\n\nWorkspaceContainer.propTypes = {\n  username: PropTypes.string.isRequired,\n  languageId: PropTypes.string.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default WorkspaceContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {\n  Paper,\n  BottomNavigation,\n  BottomNavigationAction,\n} from '@material-ui/core';\nimport {\n  Bookmarks,\n  Book,\n  Bookmark,\n} from '@material-ui/icons';\n\nclass BottomNavContainer extends React.Component {\n  handleChange = (event, value) => {\n    let newReference = this.props.reference;\n    switch (value) {\n      case 1:\n        newReference = {};\n        break;\n      case 2:\n        newReference = {book: this.props.reference.book};\n        break;\n      default:\n        break;\n    };\n    this.props.setReference(newReference);\n  };\n\n  render() {\n    const { classes, reference } = this.props;\n\n    let value = null;\n    if (!reference.book) {\n      value = 1;\n    } else if (!reference.chapter) {\n      value = 2;\n    }\n\n    return (\n      <Paper className={classes.root}>\n        <BottomNavigation\n          value={value}\n          onChange={this.handleChange}\n          showLabels\n          className={classes.root}\n        >\n          <BottomNavigationAction\n            label=\"Bookmarks\"\n            icon={<Bookmarks />}\n            disabled={true}\n          />\n          <BottomNavigationAction\n            label=\"Books\"\n            icon={<Book />}\n          />\n          <BottomNavigationAction\n            label=\"Chapters\"\n            icon={<Bookmark />}\n          />\n        </BottomNavigation>\n      </Paper>\n    );\n  }\n}\n\nBottomNavContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(BottomNavContainer);\n","import BottomNavContainer from './BottomNavContainer';\nexport default BottomNavContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport './Application.css';\n\nimport ApplicationBar from './ApplicationBar';\nimport Workspace from './Workspace';\nimport BottomNav from './BottomNav';\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  palette: {\n    primary: {\n      light: '#59B7E7',\n      main: '#31ADE3',\n      dark: '#014263',\n      contrastText: '#FFF'\n    },\n  },\n});\n\nexport const Application = ({classes, username, languageId, reference, manifests, setReference}) =>\n<MuiThemeProvider theme={theme}>\n  <div className={classes.root}>\n    <div className={classes.appFrame}>\n      <main className={classes.main}>\n        <ApplicationBar\n          username={username}\n          languageId={languageId}\n          manifests={manifests}\n          reference={reference}\n          setReference={setReference}\n        />\n        <div className={classes.workspace}>\n          <Workspace\n            username={username}\n            languageId={languageId}\n            manifests={manifests}\n            reference={reference}\n            setReference={setReference}\n          />\n        </div>\n      </main>\n      <nav className={classes.bottomNav}>\n        <BottomNav\n          reference={reference}\n          setReference={setReference}\n        />\n      </nav>\n    </div>\n  </div>\n</MuiThemeProvider>;\n\nApplication.propTypes = {\n  classes: PropTypes.object.isRequired,\n  username: PropTypes.string.isRequired,\n  languageId: PropTypes.string.isRequired,\n  reference: PropTypes.object.isRequired,\n  setReference: PropTypes.func.isRequired,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  appFrame: {\n    zIndex: 1,\n    position: 'relative',\n    display: 'flex',\n    width: '100%',\n  },\n  main: {\n    width: '100%',\n    minWidth: '20em',\n  },\n  workspace: {\n    padding: '1em 1em 5.5em 1em',\n  },\n  bottomNav: {\n    width: '100%',\n    position: 'fixed',\n    bottom: 0,\n    zIndex: 10,\n  }\n});\n\nexport default withStyles(styles)(Application);\n","import React from 'react';\nimport localstorage from 'local-storage'\n\nimport Application from './Application';\nimport './Application.css';\n\nimport * as ApplicationHelpers from './ApplicationHelpers';\n\nconst keyPrefix = 'ApplicationContainer.state.';\n\nclass ApplicationContainer extends React.Component {\n  state = {\n    username: 'unfoldingWord',\n    languageId: 'en',\n    manifests: {},\n    reference: {},\n  };\n\n  componentWillMount() {\n    const reference = localstorage.get(keyPrefix + 'reference');\n    if (reference && reference.book !== 'obs') this.setState({reference});\n  };\n\n  setReference(reference) {\n    window.scrollTo(0,0);\n    this.setState({\n      reference,\n    });\n    localstorage.set(keyPrefix + 'reference', reference);\n  };\n\n  componentDidMount() {\n    const {username, languageId} = this.state;\n    ApplicationHelpers.fetchResourceManifests(username, languageId)\n    .then(manifests => {\n      this.setState({\n        manifests,\n      });\n    });\n  };\n\n  render() {\n    const {username, languageId, reference, manifests} = this.state;\n    return (\n      <Application\n        username={username}\n        languageId={languageId}\n        reference={reference}\n        setReference={this.setReference.bind(this)}\n        manifests={manifests}\n      />\n    );\n  };\n};\n\nexport default ApplicationContainer;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              if (window) window.alert(\n                'Update is available, close the App and/or all tabs and restart the App to get the latest.'\n              );\n              // Execute callback\n              // if (config && config.onUpdate) {\n              //   config.onUpdate(registration);\n              // }\n              unregister();\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              if (window) window.alert(\n                'The first load of a Book and Chapter may take longer to download the resources.'\n              );\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ApplicationContainer from './ApplicationContainer';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<ApplicationContainer />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}