{"version":3,"sources":["components/Viewer/Workspace/TranslationHelps/styles.js","components/Viewer/langnames.js","components/Viewer/gitApi.js","components/Viewer/Workspace/TranslationHelps/TranslationAcademy/helpers.js","components/Viewer/Workspace/TranslationHelps/TranslationWords/helpers.js","components/Viewer/Workspace/TranslationHelps/helpers.js","components/Viewer/Workspace/TranslationHelps/RCLinkContainer.js","components/Viewer/Workspace/TranslationHelps/TextComponentWithRCLinks.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord/helpers.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord/Container.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord/index.js","components/Viewer/Workspace/styles.js","components/Viewer/Workspace/TranslationHelps/Container.js","components/Viewer/Workspace/TranslationHelps/index.js","components/Viewer/Workspace/Resources/Resource.js","components/Viewer/Workspace/TranslationHelps/Component.js","components/Viewer/Workspace/TranslationHelps/HelpsTab.js","components/Viewer/Workspace/Scripture/BookSelection/Book.js","components/Viewer/Workspace/Scripture/BookSelection/Testament/Component.js","components/Viewer/Workspace/Scripture/BookSelection/Testament/index.js","components/Viewer/Workspace/Scripture/BookSelection/Testament/Container.js","components/Viewer/Workspace/Scripture/BookSelection/index.js","components/Viewer/Workspace/Scripture/BookSelection/Component.js","components/Viewer/Workspace/Scripture/ChapterSelection/Chapter.js","components/Viewer/Workspace/Scripture/ChapterSelection/index.js","components/Viewer/Workspace/Scripture/ChapterSelection/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/ExpansionPanel/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/ExpansionPanel/index.js","components/Viewer/Workspace/Scripture/ScriptureView/ExpansionPanel/Container.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/Word.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/Container.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/AlignedWords/index.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/Milestone.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/Text.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/index.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseObject/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/Verse/Title.js","components/Viewer/Workspace/Scripture/ScriptureView/Verse/Reference.js","components/Viewer/Workspace/Scripture/Resources.context.js","components/Viewer/Workspace/Scripture/ScriptureView/Verse/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/Verse/index.js","components/Viewer/Workspace/TranslationHelps/Original/helpers.js","components/Viewer/Workspace/Scripture/ScriptureView/Chapter.js","components/Viewer/Workspace/Scripture/ScriptureView/AlignmentsTable/helpers.js","components/Viewer/Workspace/Scripture/ScriptureView/theme.js","components/Viewer/Workspace/Scripture/ScriptureView/AlignmentsTable/LemmaIndex.context.js","components/Viewer/Workspace/Scripture/ScriptureView/AlignmentsTable/Component.js","components/Viewer/Workspace/Scripture/ScriptureView/AlignmentsTable/index.js","components/Viewer/Workspace/Scripture/ScriptureView/TranslationNotesTable.js","components/Viewer/Workspace/Scripture/ScriptureView/VerseCountTable.js","components/Viewer/Workspace/Scripture/ScriptureView/index.js","components/Viewer/Workspace/Scripture/ScriptureView/ScriptureView.js","components/Viewer/Workspace/Scripture/Scripture.js","components/Viewer/Workspace/Scripture/Container.js","components/Viewer/Workspace/Scripture/index.js","components/Viewer/Workspace/OpenBibleStories/StorySelection/Story.js","components/Viewer/Workspace/OpenBibleStories/StorySelection/index.js","components/Viewer/Workspace/OpenBibleStories/StorySelection/Component.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Card/Component.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Card/index.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Card/Container.js","components/Viewer/Workspace/OpenBibleStories/youtubeIds.js","components/Viewer/Workspace/OpenBibleStories/helpers.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Frame/Component.js","components/Viewer/Workspace/OpenBibleStories/translationHelps/helpers.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Frame/index.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Frame/Container.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Story/Component.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/index.js","components/Viewer/Workspace/OpenBibleStories/OpenBibleStoriesView/Story/Container.js","components/Viewer/Workspace/OpenBibleStories/Component.js","components/Viewer/Workspace/OpenBibleStories/Container.js","components/Viewer/Workspace/OpenBibleStories/index.js","ApplicationBar.js","BottomNav.js","components/Viewer/Workspace/Component.js","components/Viewer/Workspace/index.js","components/Viewer/Workspace/Container.js","components/Viewer/Manifests.context.js","components/Viewer/Viewer.js","components/Viewer/index.js","styles.js","theme.js","helpers.js","Context.context.js","History.context.js","App.js","serviceWorker.js","index.js","components/Viewer/Workspace/Resources/Download.js","components/Viewer/Workspace/Resources/Languages/components.js","components/Viewer/Workspace/Resources/styles.js","components/Viewer/Workspace/Resources/Languages/Container.js","components/Viewer/Workspace/Resources/Languages/index.js","components/Viewer/Workspace/Resources/Component.js","components/Viewer/Workspace/Resources/index.js","components/Viewer/Workspace/History/Context.js","components/Viewer/Workspace/History/Component.js","components/Viewer/Workspace/History/index.js","components/Viewer/Workspace/TranslationHelps/TranslationNotes/TranslationNoteComponent.js","components/Viewer/Workspace/TranslationHelps/TranslationNotes/index.js","components/Viewer/Workspace/Scripture/helpers.js","components/Viewer/chaptersAndVerses.js"],"names":["styles","theme","root","backgroundColor","palette","background","paper","width","appBar","zIndex","margin","hidden","padding","concat","spacing","unit","tabContent","getLanguage","_ref","language","languageId","langname","langnames","filter","object","lc","id","pk","languageName","ang","region","lr","gateway","gw","country","hc","localized","ln","direction","ld","aliases","alt","countries","cc","baseURL","apiPath","cacheStore","localforage","createInstance","driver","INDEXEDDB","name","zipStore","api","setup","cache","store","maxAge","exclude","query","key","req","serialized","params","URLSearchParams","toString","JSON","stringify","url","resourceRepositories","obs","obs-tn","obs-tq","obs-sn","obs-sq","ult","ust","irv","ulb","udb","tn","ta","tw","ugnt","uhb","ugl","uhal","fetchResourceManifests","_x","_fetchResourceManifests","apply","this","arguments","_callee","_ref2","username","manifests","_resourceRepositories","resourceIds","promises","manifestArray","regenerator_default","a","wrap","_context","prev","next","Object","keys","map","resourceId","repository","fetchManifest","includes","Promise","all","sent","forEach","index","abrupt","stop","getLanguages","_x2","_getLanguages","_callee2","_ref3","uid","languageIds","languages","_context2","getLanguageIds","sort","b","_x3","_getLanguageIds","_callee3","_ref4","languageIdsArray","_context3","getLanguageIdsByResource","flat","push","_x4","_getLanguageIdsByResource","_callee4","_ref5","uri","repos","_context4","q","limit","exclusive","Path","join","get","data","repo","split","_x5","_fetchManifest","_callee5","_ref6","yaml","json","_context5","getFile","path","YAML","safeLoad","fetchFileFromServer","_x6","_fetchFileFromServer","_callee6","_ref7","_ref7$branch","branch","_context6","repositoryExists","t0","_x7","_getFile","_callee7","_ref8","file","_context7","getFileFromZip","_x8","_repositoryExists","_callee8","_ref9","_ref18","_context8","_callee9","_ref10","_ref19","_context9","fetchRepositoriesZipFiles","_x10","_fetchRepositoriesZipFiles","_callee10","_ref11","repositories","zipArray","_context10","values","fetchRepositoryZipFile","_callee11","_ref12","response","zipArrayBuffer","_context11","zipUri","fetch","status","arrayBuffer","setItem","_callee12","_ref13","zipBlob","zip","zipPath","_context12","getItem","JSZip","loadAsync","toLowerCase","async","_ref14","_ref14$branch","resourceRepository","gitApi","fetchTitle","_fetchTitle","_path","title","splice","fetchArticle","_fetchArticle","article","_article","prefix","word","TranslationWords_helpers_fetchTitle","markdown","replace","trim","TranslationWords_helpers_fetchArticle","TranslationAcademyHelpers","TranslationWordsHelpers","console","log","RCLinkContainer","state","context","_this","props","open","handleOpen","_this$state","_this$state$context","reference","objectSpread","setContext","Workspace_TranslationHelps_helpers_fetchArticle","helpers","then","tab","text","addTab","handleClose","setState","href","regexpLanguageIdResourcePath","test","match","exec","_match2","slicedToArray","regexpReference","_match5","bookId","chapter","verse","parseInt","_this$props","children","parseHref","_this2","_this$state2","_this$state2$context","Workspace_TranslationHelps_helpers_fetchTitle","_this$state3","classes","react_default","createElement","index_es","label","noWrap","component","className","chip","onClick","variant","icon","icons_index_es","color","clickable","React","Component","withStyles","height","maxWidth","withTheme","TextComponentWithRCLinks","options","remarkReactComponents","TranslationHelps_RCLinkContainer","assign","div","style","remark","use","remark2react","processSync","contents","verseObject","senses","content","lemma","strong","morph","sense","gloss","definition","parseSenses","lexiconMarkdown","uniqueSenses","senseSection","definitionRegexp","glossRegexp","unique","array","_strong","Error","_array","_object","Container","_senses2","unmounted","catch","error","AlignedWord_Component","column","marginLeft","marginRight","tabVerse","fullWidth","expansionPanelDetails","expansionPanelActions","lazy","resolve","require","Math","random","tabIndex","tabs","handleChangeIndex","_index","__index","undefined","scrollToId","length","element","document","getElementById","scrollIntoView","behavior","block","react","fallback","bind","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","card","minWidth","marginBottom","fontSize","pos","actions","textAlign","button","_ref$manifest$dublin_","manifest","dublin_core","identifier","subject","description","rights","publisher","_ref$context","contributors","gutterBottom","size","d","_styles__WEBPACK_IMPORTED_MODULE_3__","HelpsTab","tabLabels","tabContents","badgeCount","notes","original","wordObjects","words","badge","badgeContent","currentTab","position","value","onChange","indicatorColor","textColor","scrollButtons","TranslationNotes","AlignedWord","note","wordObject","link","originalWords","bookListItem","listItemIcon","listItemText","paddingLeft","bookMetadata","chapterCount","chaptersAndVerses","selected","paddingRight","primary","secondary","list","paddingTop","paddingBottom","testamentId","books","toggle","bookComponents","Book","fileList","inset","in","timeout","unmountOnExit","dense","Testament_Component","bible","bibleList","overflowY","bibleManifest","projects","slice","project","categories","Testament","verses","_reference","bookData","chapters","ChapterSelection_Chapter","summary","details","handleToggle","expanded","expandIcon","top","aria-label","ExpansionPanel_Component","anchorEl","handlePopoverOpen","event","currentTarget","handlePopoverClose","Boolean","aria-owns","aria-haspopup","onMouseEnter","onMouseLeave","closed","VerseObject_Word","popover","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","pointerEvents","Milestone","_ref$verseObject","tag","occurrence","occurrences","child","VerseObject","originalWord","_originalWords","parse","type","AlignedWords","_ref$originalWords","VerseObject_Text","VerseObject_Milestone","data-verse-object","nextChar","Title","toUpperCase","verseKey","_ref$resource","resource","noTitle","verseObjects","titleComponent","Verse_Title","ResourcesContext","createContext","ResourcesContextProvider","_useState","useState","_useState2","resources","setResources","_useState3","_useState4","contextLoaded","setContextLoaded","_useState5","_useState6","verseCountTableData","setVerseCountTableData","populateResources","asyncToGenerator","mark","referenceChanged","needToFetch","_resources2","_resources","pivotTranslationNotes","rows","deepFreeze","populateVerseCountTableData","columns","format","chapterKey","chapterData","verseCount","chapterIndex","row","Provider","_ref$context$referenc","_useContext","useContext","_useContext$resources","referenceResources","_resourceId","Verse_Reference","scriptureTab","originalHelpers","wordsTab","notesTab","TranslationHelps","ExpansionPanel","intro","Verse","time","lemmaIndex","getWords","entry","alignment","timeEnd","_ref2$originalWords","_verseObject","getMuiTheme","createMuiTheme","typography","useNextVariants","overrides","MuiPaper","elevation4","boxShadow","rounded","borderRadius","MuiTableCell","MUIDataTableHeadCell","fixedHeader","MUIDataTable","responsiveScroll","maxHeight","MuiTableRow","LemmaIndexContext","LemmaIndexContextProvider","setLemmaIndex","populateLemmaIndex","_lemmaIndex","_useContext2","lemmaRows","_entry$reference","_helpers$textFromVers","textFromVerseObject","_ref3$originalTexts","originalTexts","_ref3$targetTexts","targetTexts","_textFromVerseObject","_originalTexts","_targetTexts","target","dist_default","filterType","selectableRows","responsive","download","print","viewColumns","AlignmentsTable","display","customBodyRender","tableMeta","updateValue","maxNoteLength","substring","shift","pop","_row","supportReference","origQuote","glQuote","VerseCountTable","ScriptureView","front","introDetails","translationNotesTable","TranslationNotesTable","verseCountTable","ScriptureView_VerseCountTable","alignmentsTable","ScriptureView_AlignmentsTable","chapterComponent","ScriptureView_Chapter","ScriptureHelpers","bookName","react_markdown_default","source","escapeHtml","progress","bookSelection","BookSelection","chapterSelection","ChapterSelection","scriptureView","Scripture_ScriptureView","disableShrink","shouldShowBookSelection","shouldShowChapterSelection","shouldShowScriptureView","Workspace_Scripture_Scripture","storyKey","frames","stories","components","_storyKey","Story","media","player","videoFrame","handleToggleOpen","image","youtubeId","videoUrl","ReactPlayer_default","controls","config","youtube","playerVars","rel","modestbranding","disableActionSpacing","aria-expanded","helps","frameKey","Card_Component","youtubeIds","framesFromStory","storyMarkdown","frameMarkdown","frameData","imageRegexp","_imageRegexp$exec","_imageRegexp$exec2","fetchStory","_fetchStory","storyId","numberPadded","storyIds","storyArray","toConsumableArray","Array","questions","studyNotes","studyQuestions","_text","Card","fetchHelps","_fetchHelps","helpsArray","promise","fetchNotesAndWords","fetchQuestions","fetchStudyNotes","fetchStudyQuestions","_fetchStudyQuestions","pad","_fetchStudyNotes","parseStudyNotes","_fetchQuestions","parseQuestions","_fetchNotesAndWords","parseNotes","number","questionItem","_questionItem$split","_questionItem$split2","toArray","questionText","answerLines","gl_quote","occurrence_note","_markdown$split","_markdown$split2","notesMarkdown","wordsMarkdown","noteText","_noteText$split","_noteText$split2","quote","noteLines","_noteText$split3","_noteText$split4","thHelpers","Frame_Component","story","guide","header","_story$frameKey","Frame","newProps","OpenBibleStoriesView_Story_Component","shouldShowStorySelection","shouldShowOpenBibleStoriesView","StorySelection","OpenBibleStoriesView","OpenBibleStoriesContainer","_this$props$context","_fetchOpenBibleStories","_this$props$context$r","OpenBibleStories_Component","logo","lineHeight","overflow","textOverflow","applicationName","logoWordMark","src","logoIcon","referenceComponent","inline","BottomNavContainer","handleChange","previousChapter","view","nextChapter","chaptersInBook","shouldShowHistory","couldShowReference","couldShowBook","couldShowChapter","showLabels","bottomNavigation","History","Resources","OpenBibleStories","Scripture","history","historyComponent","contexts","scripture","openBibleStories","loadingComponent","shouldShowResources","shouldShowScripture","shouldShowOpenBibleStories","Workspace_Component","ManifestsContext","ManifestsContextProvider","setManifests","populateManifests","_manifests","refreshManifests","oldContext","languageChanged","usernameChanged","Viewer","handleManifestsChange","setOldContext","Workspace","ViewerWrapper","flexGrow","appFrame","main","workspace","bottomNav","bottom","light","dark","contrastText","MuiBottomNavigationAction","&$selected","validateContext","valid","validReference","chapterAndVerses","updateQueryFromContext","_context$reference","_username","_uid","_languageId","_bookId","_chapter","_verse","rc","window","location","pathname","pushState","contextFromQuery","urlParams","search","rcArray","string","_rcArray","save","localstorage","set","load","defaultValue","ContextContext","defaultContext","ContextContextProvider","_defaultContext","useEffect","scrollTo","updateContext","shouldSetContext","keyPrefix","HistoryContext","HistoryContextProvider","loadHistory","loadedHistory","setHistory","saveHistory","addHistory","_history","newContext","unshift","addToHistoryArray","App","src_ApplicationBar","components_Viewer","BottomNav","hostname","ReactDOM","render","src_App","navigator","serviceWorker","ready","registration","register","downloading","setDownloading","complete","setComplete","setError","downloadingComponent","completeComponent","errorComponent","onProgress","inputComponent","inputRef","objectWithoutProperties","ref","Control","InputProps","inputProps","selectProps","input","innerRef","innerProps","textFieldProps","Menu","square","NoOptionsMessage","noOptionsMessage","Option","buttonRef","isFocused","fontWeight","isSelected","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","flexWrap","flex","alignItems","chipFocused","emphasize","grey","left","marginTop","right","divider","selectStyles","base","& input","font","suggestions","gatewayLabel","react_select_esm","Resource","resourceExists","languageMatch","Languages","Download","contextComponents","Context","noteComponent","TranslationNoteComponent","fetchResources","_fetchResources","uhbManifest","ugntManifest","testament","originalManifest","resourcesArray","_Volumes_Github_Projects_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","whichTestament","_Volumes_Github_Projects_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","fetchBook","translationNotes","fetchOriginalBook","_x9","_fetchBook","usfm","projectByBookId","fetchFileByBookId","usfmjs","toJSON","_fetchOriginalBook","translationNotesObject","item","_item","_Volumes_Github_Projects_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","book","support_reference","original_quote","_translationNotes","fetchNotes","_fetchNotes","tsv","tsvParse","_fetchFileByBookId","_projects","_Volumes_Github_Projects_translation_helps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","i","validateBookId","validateChapter","dependencies","validateReference","blankReference","validBookId","validChapter","validVerse","inRange","validateVerse"],"mappings":"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","file":"static/js/main.d62fa88b.chunk.js","sourcesContent":["export const styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: '100%',\n  },\n  width: {\n    width: '100%',\n  },\n  appBar: {\n    width: '95%',\n    zIndex: '10',\n    margin: 'auto',\n  },\n  hidden: {\n    // height: '0px',\n  },\n  padding: {\n    padding: `0 ${theme.spacing.unit * 2}px`,\n  },\n  tabContent: {\n    padding: `0 ${theme.spacing.unit * 3}px`,\n  }\n});\n\nexport default styles;\n","import langnames from './langnames.json';\n\nexport const getLanguage = ({languageId}) => {\n  let language;\n  const langname = langnames.filter(object => object.lc === languageId)[0];\n  if (langname) {\n    language = {\n      id: langname.pk,\n      languageName: langname.ang,\n      region: langname.lr,\n      gateway: langname.gw,\n      country: langname.hc,\n      localized: langname.ln,\n      languageId: langname.lc,\n      direction: langname.ld,\n      aliases: langname.alt,\n      countries: langname.cc,\n    };\n  }\n  return language;\n};\n\nexport const getLanguageName = ({languageId}) => {\n  const language = getLanguage({languageId});\n  const languageName = language ? language.ln : null;\n  return languageName;\n};\n","import Path from 'path';\nimport YAML from 'js-yaml-parser';\nimport localforage from 'localforage';\nimport { setup } from 'axios-cache-adapter';\nimport JSZip from 'jszip';\n\nimport * as langnames from './langnames';\n\nconst baseURL = 'https://git.door43.org/';\nconst apiPath = 'api/v1';\n\nconst cacheStore = localforage.createInstance({\n  driver: [localforage.INDEXEDDB],\n  name: 'web-cache',\n});\n\nconst zipStore = localforage.createInstance({\n  driver: [localforage.INDEXEDDB],\n  name: 'zip-store',\n});\n\nconst api = setup({\n  baseURL: baseURL,\n  cache: {\n    store: cacheStore,\n    maxAge: 1 * 24 * 60 * 60 * 1000,\n    exclude: { query: false },\n    key: req => {\n      // if (req.params) debugger\n      let serialized = req.params instanceof URLSearchParams ?\n      req.params.toString() : JSON.stringify(req.params) || '';\n      return req.url + serialized;\n    },\n  },\n});\n\nexport const resourceRepositories = ({languageId}) => {\n  return {\n    obs: languageId + '_obs',\n    'obs-tn': languageId + '_obs-tn',\n    'obs-tq': languageId + '_obs-tq',\n    'obs-sn': languageId + '_obs-sn',\n    'obs-sq': languageId + '_obs-sq',\n    ult: languageId + '_ult',\n    ust: languageId + '_ust',\n    irv: languageId + '_irv',\n    ulb: languageId + '_ulb',\n    udb: languageId + '_udb',\n    tn: languageId + '_tn',\n    ta: languageId + '_ta',\n    tw: languageId + '_tw',\n    ugnt: 'el-x-koine_ugnt',\n    uhb: 'hbo_uhb',\n    ugl: languageId + '_ugl',\n    uhal: languageId + '_uhal',\n  };\n};\n\nexport async function fetchResourceManifests({username, languageId}) {\n  let manifests = {};\n  const _resourceRepositories = resourceRepositories({languageId});\n  const resourceIds = Object.keys(_resourceRepositories);\n  const promises = resourceIds.map(resourceId => {\n    const repository = _resourceRepositories[resourceId];\n    const _username = ['ugnt','uhb'].includes(resourceId) ? 'unfoldingword' : username;\n    return fetchManifest({username: _username, repository})\n  });\n  const manifestArray = await Promise.all(promises);\n  resourceIds.forEach((resourceId, index) => {\n    manifests[resourceId] = manifestArray[index];\n  });\n  return manifests;\n};\n\nexport async function getLanguages({uid, resourceIds}) {\n  const languageIds = await getLanguageIds({uid, resourceIds});\n  const languages = languageIds.map(languageId =>\n    langnames.getLanguage({languageId})\n  ).filter(language => !!language);\n  languages.sort((a,b) =>\n    (a.languageId > b.languageId) ? 1 : ((b.languageId > a.languageId) ? -1 : 0)\n  );\n  return languages;\n};\n\nexport async function getLanguageIds({uid, resourceIds}) {\n  let languageIds = [];\n  const promises = resourceIds.map(resourceId => {\n    return getLanguageIdsByResource({uid, resourceId});\n  });\n  const languageIdsArray = await Promise.all(promises);\n  const _languageIds = languageIdsArray.flat();\n  _languageIds.forEach(languageId => {\n    const languageAdded = languageIds.includes(languageId);\n    if (!languageAdded) languageIds.push(languageId);\n  });\n  return languageIds;\n}\n\n// /repos/search?q=ulb&uid=4598&limit=50&exclusive=true\nexport async function getLanguageIdsByResource({uid, resourceId}) {\n  let languageIds = [];\n  const params = {q: resourceId, uid, limit: 50, exclusive: true};\n  const uri = Path.join(apiPath, `repos/search`);\n  const repos = await get({uri, params});\n  if (repos && repos.data) {\n    languageIds = repos.data.map(repo => repo.name.split('_')[0]);\n  }\n  return languageIds;\n};\n\nexport async function fetchManifest({username, repository}) {\n  const yaml = await getFile({username, repository, path: 'manifest.yaml'});\n  const json = (yaml) ? YAML.safeLoad(yaml) : null;\n  return json;\n};\n\n// https://git.door43.org/unfoldingword/en_ult/raw/branch/master/manifest.yaml\nexport async function fetchFileFromServer({username, repository, path, branch='master'}) {\n  const repoExists = await repositoryExists({username, repository});\n  if (repoExists) {\n    const uri = Path.join(username, repository, 'raw/branch', branch, path);\n    try {\n      const data = await get({uri});\n      return data;\n    }\n    catch(error) {\n      return null;\n    }\n  } else {\n    return null;\n  }\n};\n\nexport async function getFile({username, repository, path, branch}) {\n  let file;\n  file = await getFileFromZip({username, repository, path, branch});\n  if (!file) {\n    file = await fetchFileFromServer({username, repository, path, branch});\n  }\n  return file;\n}\n\n// This does not work with latest Gitea since auth is required to get real uid other than 0\n// export async function getUID({username}) {\n//   const uri = Path.join(apiPath, 'users', username);\n//   const user = await get({uri});\n//   const {id: uid} = user;\n//   return uid;\n// }\n\nexport async function repositoryExists({uid, repository}) {\n  const params = { q: repository, uid, limit: 100 };\n  const uri = Path.join(apiPath, 'repos', 'search');\n  const {data: repos} = await get({uri, params});\n  const repo = repos.filter(repo => repo.name === repository)[0];\n  return !!repo;\n};\n\nasync function get({uri, params}) {\n  const {data} = await api.get(uri, { params });\n  return data;\n};\n\nexport async function fetchRepositoriesZipFiles({username, languageId, branch}) {\n  const repositories = resourceRepositories({languageId});\n  const promises = Object.values(repositories).map(repository => {\n    return fetchRepositoryZipFile({username, repository, branch});\n  });\n  const zipArray = await Promise.all(promises);\n  return zipArray;\n};\n\n// https://git.door43.org/unfoldingWord/en_ult/archive/master.zip\nasync function fetchRepositoryZipFile({username, repository, branch}) {\n  const repoExists = await repositoryExists({username, repository});\n  if (!repoExists) {\n    return null;\n  }\n  const uri = zipUri({username, repository, branch});\n  const response = await fetch(uri);\n  if (response.status === 200 || response.status === 0) {\n    const zipArrayBuffer = await response.arrayBuffer(); // blob storage not supported on mobile\n    await zipStore.setItem(uri, zipArrayBuffer);\n    return true;\n  } else {\n    return false;\n  }\n};\n\nasync function getFileFromZip({username, repository, path, branch}) {\n  let file;\n  const uri = zipUri({username, repository, branch});\n  const zipBlob = await zipStore.getItem(uri);\n  try {\n    if (zipBlob) {\n      const zip = await JSZip.loadAsync(zipBlob);\n      const zipPath = Path.join(repository.toLowerCase(), path);\n      file = await zip.file(zipPath).async(\"string\");\n    }\n  } catch(error) {\n    file = null;\n  }\n  return file;\n};\n\nfunction zipUri({username, repository, branch='master'}) {\n  const zipPath = Path.join(username, repository, 'archive', `${branch}.zip`);\n  const zipUri = baseURL + zipPath;\n  return zipUri;\n};\n\n// http://bg.door43.org/api/v1/repos/unfoldingword/en_ugl/git/trees/master\nexport async function fetchTree({username, repository, sha='master'}) {\n  try {\n    const uri = Path.join('api/v1/repos', username, repository, 'git/trees', sha);\n    const data = await get({uri});\n    const tree = JSON.parse(data);\n    return tree;\n  } catch(error) {\n    return null;\n  }\n};\n\nexport async function recursiveTree({username, repository, path, sha}) {\n  let tree = {};\n  const pathArray = path.split();\n  const results = fetchTree({username, repository, sha});\n  const result = results.tree.filter(item => item.path === pathArray[0])[0];\n  if (result) {\n    if (result.type === 'tree') {\n      const childPath = pathArray.slice(1).join('/');\n      const children = recursiveTree({username, repository, path: childPath, sha: result.sha});\n      tree[result.path] = children;\n    } else if (result.type === 'blob') {\n      tree[result.path] = true;\n    }\n  }\n};\n\nexport async function fileExists({username, repository, path, branch}) {\n  // get root listing\n  recursiveTree()\n  // get recursive path listing\n}\n","import * as gitApi from '../../../gitApi';\n\nconst resourceRepository = ({languageId}) => gitApi.resourceRepositories({languageId}).ta;\n// https://git.door43.org/[username]/[languageId]_ta/src/branch/master/translate/figs-metaphor\n// title = title.md\n// markdown = 01.md\nexport async function fetchTitle({username, languageId, path}) {\n  const repository = resourceRepository({languageId});\n  const _path = path.split('/').splice(1).join('/') + '/title.md';\n  const title = await gitApi.getFile({username, repository, path: _path});\n  return title;\n};\n\nexport async function fetchArticle({username, languageId, path}) {\n  let article;\n  const repository = resourceRepository({languageId});\n  const _path = path.split('/').filter(word => word !== 'man').join('/') + '/01.md';\n  try {\n    const _article = await gitApi.getFile({username, repository, path: _path})\n    const prefix = _path.split('/').splice(0,1).join('/');\n    article = _article\n    .split('../').join(`http://${languageId}/ta/${prefix}/`)\n    .split('/01.md').join('')\n    .split('rc://').join('http://');\n  } catch(error) {\n    debugger\n  }\n  return article;\n};\n","import * as gitApi from '../../../gitApi';\n\nconst resourceRepository = ({languageId}) => gitApi.resourceRepositories({languageId}).tw;\n// https://git.door43.org/[username]/[languageId]_ta/src/branch/master/bible/kt/abomination.md\n// title = first line of file\n// markdown = the path + .md\n// rc://en/tw/dict/bible/kt/christ\nexport async function fetchTitle({username, languageId, path}) {\n  let title;\n  const repository = resourceRepository({languageId});\n  const _path = path.split('/').splice(1).join('/') + '.md';\n  const markdown = await gitApi.getFile({username, repository, path: _path});\n  if (markdown) {\n    title = markdown.split(/\\n/)[0].replace(/#/g, '').trim();\n  }\n  return title;\n};\n\nexport async function fetchArticle({username, languageId, path}) {\n  let article;\n  const repository = resourceRepository({languageId});\n  const _path = path.split('/').filter(word => word !== 'dict').join('/') + '.md';\n  const _article = await gitApi.getFile({username, repository, path: _path});\n  if (_article) {\n    const prefix = _path.split('/').splice(0,1).join('/');\n    article = _article\n    .split('../').join(`http://${languageId}/tw/${prefix}/`)\n    .split('.md').join('')\n    .split('rc://').join('http://');\n  }\n  return article;\n};\n","import * as TranslationAcademyHelpers from './TranslationAcademy/helpers';\nimport * as TranslationWordsHelpers from './TranslationWords/helpers';\n\nexport async function fetchTitle({username, languageId, resourceId, path}) {\n  let title;\n  switch (resourceId) {\n    case 'ta':\n      title = await TranslationAcademyHelpers.fetchTitle({username, languageId, path});\n      break;\n    case 'tw':\n      title = await TranslationWordsHelpers.fetchTitle({username, languageId, path});\n      break;\n    case 'tn':\n      break;\n    default:\n      console.log(`resourceId not configured: ${languageId} - ${resourceId} - ${path}`);\n      break;\n  };\n  return title;\n};\n\nexport async function fetchArticle({username, languageId, resourceId, path}) {\n  let article;\n  switch (resourceId) {\n    case 'ta':\n      article = await TranslationAcademyHelpers.fetchArticle({username, languageId, path})\n      break;\n    case 'tw':\n      article = await TranslationWordsHelpers.fetchArticle({username, languageId, path})\n      break;\n    case 'tn':\n      break;\n    default:\n      console.log(`resourceId not configured: ${languageId} - ${resourceId} - ${path}`);\n      break;\n  };\n  return article;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Chip,\n  Typography,\n} from '@material-ui/core';\nimport {\n  Subject,\n} from '@material-ui/icons';\n\nimport * as helpers from './helpers';\n\nclass RCLinkContainer extends React.Component {\n  state = {\n    context: this.props.context,\n    path: null,\n    title: null,\n    article: null,\n    open: null,\n  };\n\n  parseHref({href}) {\n    const {username} = this.props.context;\n    let _match, languageId, resourceId, path, reference, linkedResourceId;\n    if (_match && linkedResourceId) {/* not used, this bypasses linter warning */}\n    const regexpLanguageIdResourcePath = /http:\\/\\/([\\w-_]+)\\/([\\w-_]+)\\/(.+)/;\n    if (regexpLanguageIdResourcePath.test(href)) {\n      const match = regexpLanguageIdResourcePath.exec(href);\n      [_match, languageId, resourceId, path] = match;\n    } else {\n      path = href;\n    }\n    if (resourceId === 'tn') {\n      const regexpReference = /\\/([\\w]+)\\/([\\d]+)\\/([\\d]+)/;\n      if (regexpReference.test(path)) {\n        const match = regexpReference.exec(path);\n        const [_match, bookId, chapter, verse] = match;\n        if (_match) {/* not used, this bypasses linter warning */}\n        if (bookId === 'obs') {\n          resourceId = 'obs';\n          reference = {chapter: parseInt(chapter), verse: parseInt(verse)};\n        } else {\n          resourceId = 'ult';\n          reference = {bookId, chapter: parseInt(chapter), verse: parseInt(verse)};\n        }\n      }\n    }\n    return {\n      context: {\n        username,\n        languageId,\n        resourceId,\n        reference,\n      },\n      path,\n    }\n  };\n\n  componentWillMount() {\n    const {href, children} = this.props;\n    let state = this.parseHref({href});\n    const text = children[0];\n    if (text !== href) {\n      state.title = text;\n    }\n    this.setState(state);\n  };\n\n  componentDidMount() {\n    const {\n      context: {\n        username,\n        languageId,\n        resourceId,\n      },\n      title,\n      path,\n    } = this.state;\n    if (!title && languageId && resourceId && path) {\n      helpers.fetchTitle({username, languageId, resourceId, path})\n      .then(title => {\n        this.setState({\n          title: title,\n        });\n      });\n    }\n  };\n\n  handleOpen = () => {\n    const {\n      context: {\n        username,\n        languageId,\n        resourceId,\n        reference,\n      },\n      path,\n      title,\n    } = this.state;\n    if (reference) {\n      let context = {...this.props.context};\n      if (['ult','obs'].includes(resourceId)) context.resourceId = resourceId;\n      context.reference = reference;\n      this.props.setContext(context);\n    } else {\n      helpers.fetchArticle({username, languageId, resourceId, path})\n      .then(article => {\n        const tab = {\n          title: title || path,\n          text: article,\n        };\n        this.props.addTab(tab);\n      });\n    }\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    const {title, path} = this.state;\n    const {classes} = this.props;\n\n    return (\n      <Chip\n        label={\n          <Typography noWrap component='span'>\n            {title || path}\n          </Typography>\n        }\n        component='span'\n        className={classes.chip}\n        classes={{label: classes.label}}\n        onClick={this.handleOpen}\n        variant='outlined'\n        icon={<Subject />}\n        color='primary'\n        clickable\n      />\n    );\n  }\n};\n\nRCLinkContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  href: PropTypes.string.isRequired,\n  addTab: PropTypes.func.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\n\nconst styles = theme => ({\n  chip: {\n    height: 'unset',\n    maxWidth: '95%',\n  },\n  label: {\n    maxWidth: '81%',\n  }\n});\n\nexport default withStyles(styles, { withTheme: true })(RCLinkContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport remark from 'remark';\nimport remark2react from 'remark-react';\nimport {\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport RCLinkContainer from './RCLinkContainer';\n\nclass TextComponentWithRCLinks extends React.Component {\n  state = {\n    component: null,\n  };\n\n  componentDidMount() {\n    const {text, addTab, context, setContext} = this.props;\n    const options = {\n      remarkReactComponents: {\n        a: (props) => (\n          <RCLinkContainer\n            {...props}\n            context={context}\n            setContext={setContext}\n            addTab={addTab}\n          />\n        ),\n        div: (props) => <div {...props} style={{width: '100%'}}/>,\n      }\n    };\n    const component = remark()\n    .use(remark2react, options)\n    .processSync(text).contents;\n    this.setState({\n      component,\n    });\n  };\n\n  render() {\n    return this.state.component;\n  };\n};\n\nTextComponentWithRCLinks.propTypes = {\n  text: PropTypes.string.isRequired,\n  addTab: PropTypes.func.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default TextComponentWithRCLinks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Typography,\n} from '@material-ui/core';\n\nexport const Component = ({\n  classes,\n  verseObject,\n  senses\n}) => {\n\n  return (\n    <div>\n      <Typography>\n        <span><strong>{verseObject.text || verseObject.content}</strong> -</span>\n        <span> <em>lemma:</em> {verseObject.lemma}</span>\n        <span> <em>strong:</em> {verseObject.strong}</span>\n        <br/>\n        <span> <em>morph:</em> {verseObject.morph}</span>\n      </Typography>\n      {\n        senses.map((sense, index) =>\n          <Typography key={index}>\n            <sup>{index + 1}</sup>\n            {\n              sense.gloss ?\n              <span> <em>Gloss:</em> {sense.gloss}</span>\n              : ''\n            }\n            {\n              sense.definition ?\n              <span> <em>Definition:</em> {sense.definition}</span>\n              : ''\n            }\n          </Typography>\n        )\n      }\n    </div>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n  senses: PropTypes.array,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Path from 'path';\nimport * as gitApi from '../../../../../../gitApi';\n\n/* TODO:\n  remove hardcoded username and languageId\n  pass directly through components\n*/\nconst username = 'unfoldingword';\nconst languageId = 'en'\nconst repositories = gitApi.resourceRepositories({languageId});\n\nexport const parseSenses = ({lexiconMarkdown}) => {\n  let uniqueSenses = [];\n  if (lexiconMarkdown) {\n    let senses = [];\n    const sensesSection = lexiconMarkdown.split(/##\\s*Senses/)[1];\n    const senseSections = sensesSection.split(/###\\s*Sense/).splice(1);\n    senseSections.forEach(senseSection => {\n      const definitionRegexp = /####\\s*Definitions?.*?[\\n\\s]+(.*?)\\n/;\n      const glossRegexp = /####\\s*Glosse?s?.*?[\\n\\s]+(.*?)\\n/;\n      let definition = definitionRegexp.test(senseSection) ? definitionRegexp.exec(senseSection)[1] : null;\n      definition = (!/#/.test(definition)) ? definition : null;\n      let gloss = glossRegexp.test(senseSection) ? glossRegexp.exec(senseSection)[1] : null;\n      gloss = (!/#/.test(gloss)) ? gloss : null;\n      const sense = {\n        definition: definition,\n        gloss: gloss,\n      };\n      senses.push(sense);\n    });\n    uniqueSenses = unique({array: senses});\n  }\n  return uniqueSenses;\n};\n\nexport async function senses({strong}) {\n  let senses, repository, path;\n  if (/H\\d+/.test(strong)) {\n    repository = repositories.uhal;\n    const _strong = strong.match(/H\\d+/)[0];\n    path = Path.join('content', _strong + '.md');\n  }\n  if (/G\\d+/.test(strong)) {\n    repository = repositories.ugl;\n    path = Path.join('content', strong, '01.md');\n  }\n  if (repository && path) {\n    const lexiconMarkdown = await gitApi.getFile({username, repository, path});\n    senses = parseSenses({lexiconMarkdown});\n  }\n  if (!senses) throw(Error(`Could not find sense info for: ${strong}`));\n  return senses;\n};\n\nexport const unique = ({array, response=[]}) => {\n  let _array = array;\n  array.forEach(object => {\n    _array = _array.filter(_object =>\n      !(object.gloss === _object.gloss && object.definition === _object.definition)\n    );\n    _array.push(object);\n  });\n  return _array;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Component from './Component';\nimport * as helpers from './helpers';\n\nclass Container extends React.Component {\n  state = {\n    senses: [],\n  };\n\n  componentDidMount() {\n    const {strong} = this.props.verseObject;\n/* TODO:\n  remove hardcoded username and languageId\n  pass directly through components\n*/\n    helpers.senses({strong})\n    .then(senses => {\n      if (!this.unmounted) {\n        this.setState({\n          senses,\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  componentWillUnmount() {\n    this.unmounted = true;\n  }\n\n  render() {\n    return (\n      <Component\n        verseObject={this.props.verseObject}\n        senses={this.state.senses}\n      />\n    );\n  };\n};\n\nContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n});\n\nexport default withStyles(styles, { withTheme: true })(Container);\n","import Container from './Container';\nexport default Container;\n","export const styles = theme => ({\n  root: {\n  },\n  paper: {\n    padding: theme.spacing.unit * 2,\n  },\n  column: {\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  verse: {\n    margin: 0,\n  },\n  tabVerse: {\n    margin: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 0}px ${theme.spacing.unit * 0}px`,\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  expansionPanelDetails: {\n    padding: 0,\n  },\n  expansionPanelActions: {\n    padding: 0,\n  },\n});\n\nexport default styles;\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n} from '@material-ui/core';\n\nconst Component = lazy(() => Promise.resolve().then(() => require('./Component')));\n\nclass Container extends React.Component {\n  state = {\n    id: Math.random(),\n    tabIndex: 0,\n    tabs: this.props.tabs,\n  };\n\n  handleChangeIndex = (_index, __index) => {\n    const index = (__index !== undefined) ? __index : _index;\n    this.setState({ tabIndex: index });\n    this.scrollToId(this.state.id);\n  };\n\n  addTab = (tab) => {\n    let {tabs} = this.state;\n    tabs.push(tab);\n    this.setState({\n      tabs,\n      tabIndex: tabs.length - 1,\n    });\n    this.scrollToId(this.state.id);\n  };\n\n  scrollToId = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  render() {\n    const {props} = this;\n    const {tabs, tabIndex, id} = this.state;\n    return (\n      <Suspense fallback={<div />}>\n        <Component\n          {...props}\n          id={id}\n          tabs={tabs}\n          tabIndex={tabIndex}\n          addTab={this.addTab.bind(this)}\n          handleChangeIndex={this.handleChangeIndex.bind(this)}\n        />\n      </Suspense>\n    )\n  }\n}\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  tabs: PropTypes.array.isRequired,\n};\n\nexport default Container;\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  Button,\n  Typography,\n} from '@material-ui/core';\n\nconst Component = ({\n  classes,\n  manifest,\n  manifest: {\n    dublin_core: {\n      identifier,\n      subject,\n      title,\n      description,\n      publisher,\n      language,\n      rights,\n      contributors,\n    }\n  },\n  context: {\n    username,\n    languageId,\n  },\n  setContext,\n}) => {\n  return (\n    <Card className={classes.card}>\n      <CardContent>\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n          {subject}\n        </Typography>\n        <Typography variant=\"h6\" component=\"h3\">\n          {title}\n        </Typography>\n        <Typography className={classes.pos} color=\"textSecondary\">\n          {rights}\n        </Typography>\n        <Typography component=\"p\">\n          {description}\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.actions}>\n        <Button\n          size=\"small\"\n          variant=\"contained\"\n          className={classes.button}\n          color=\"primary\"\n          onClick={() => {\n            const resourceId = identifier;\n            const context = {username, languageId, resourceId};\n            setContext(context);\n          }}\n        >\n          Open\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  manifest: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = {\n  card: {\n    minWidth: 275,\n    marginBottom: '1em',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  actions: {\n    width: '100%',\n    textAlign: 'right',\n  },\n  button: {\n    marginLeft: 'auto',\n  },\n};\n\nexport default withStyles(styles)(Component);\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  AppBar,\n  Tabs,\n  Tab,\n  Badge,\n} from '@material-ui/core';\n\nimport styles from './styles';\n\nconst HelpsTab = lazy(() => Promise.resolve().then(() => require('./HelpsTab')));\n\nexport const Component = ({\n  classes,\n  context,\n  setContext,\n  tabs,\n  addTab,\n  tabIndex,\n  handleChangeIndex,\n  id,\n}) => {\n  let tabLabels = [];\n  let tabContents = [];\n  let badgeCount = 0;\n\n  tabs.forEach((tab, index) => {\n    if (tab.text) {\n      badgeCount = 0;\n    } else if (tab.notes) {\n      badgeCount = tab.notes.length;\n    } else if (tab.original) {\n      const wordObjects = tab.original;\n      badgeCount = wordObjects.length;\n    } else if (tab.words) {\n      badgeCount = tab.words.length;\n    } else if (tab.content) {\n      badgeCount = tab.content.length;\n    }\n    const badge = (\n      <Badge className={classes.padding} color=\"primary\" badgeContent={badgeCount}>\n        {tab.title}\n      </Badge>\n    );\n    tabLabels.push(\n      <Tab key={tabLabels.length} label={ (badgeCount > 0) ? badge : tab.title } />\n    );\n    const open = (index === tabIndex);\n    tabContents.push(\n      <div key={tabContents.length} className={ open ? classes.tabContent : classes.hidden }>\n        <Suspense fallback={<div />}>\n          <HelpsTab\n            tab={tab}\n            addTab={addTab}\n            open={open}\n            context={context}\n            setContext={setContext}\n          />\n        </Suspense>\n      </div>);\n  });\n\n  const currentTab = tabContents[tabIndex];\n\n  return (\n    <div id={id} className={classes.root}>\n      <AppBar className={classes.appBar} position=\"sticky\" color=\"default\">\n        <Tabs\n          className={classes.width}\n          value={tabIndex}\n          onChange={handleChangeIndex}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"scrollable\"\n          scrollButtons=\"auto\"\n        >\n          {tabLabels}\n        </Tabs>\n      </AppBar>\n      <div className={classes.width}>\n        {currentTab}\n      </div>\n    </div>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  tabs: PropTypes.array.isRequired,\n  addTab: PropTypes.func.isRequired,\n  handleChangeIndex: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Divider,\n} from '@material-ui/core';\n\nimport styles from './styles';\n\nconst TextComponentWithRCLinks = lazy(() => Promise.resolve().then(() => require('./TextComponentWithRCLinks')));\nconst TranslationNotes = lazy(() => Promise.resolve().then(() => require('./TranslationNotes')));\nconst AlignedWord = lazy(() => Promise.resolve().then(() => require('../Scripture/ScriptureView/VerseObject/AlignedWords/AlignedWord')));\n\nexport const Component = ({\n  classes,\n  tab,\n  addTab,\n  open,\n  context,\n  setContext,\n}) => {\n\n  let content = <div/>;\n  if (open) {\n    if (tab.text) {\n      content = <TextComponentWithRCLinks\n        text={tab.text}\n        addTab={addTab}\n        context={context}\n        setContext={setContext}\n      />;\n    } else if (tab.notes) {\n      content = tab.notes.map((note, index) =>\n        <TranslationNotes\n          key={index}\n          note={note}\n          addTab={addTab}\n          context={context}\n          setContext={setContext}\n        />\n      );\n    } else if (tab.original) {\n      const wordObjects = tab.original;\n      content = wordObjects.map((wordObject, index) => {\n        const link = wordObject.link.replace('rc://*/', `http://${context.languageId}/`);\n        const originalWords = wordObject.originalWords.map((verseObject, index) =>\n          <AlignedWord key={index} verseObject={verseObject} />\n        );\n        const text = `${link}`;\n        return (\n          <div key={index}>\n            <Divider />\n            <TextComponentWithRCLinks\n              text={text}\n              addTab={addTab}\n              context={context}\n              setContext={setContext}\n            />\n            {originalWords}\n          </div>\n        );\n      });\n    } else if (tab.words) {\n      content = tab.words.map((word, index) => {\n        return (\n          <div key={index}>\n            <Divider />\n            <TextComponentWithRCLinks\n              text={word}\n              addTab={addTab}\n              context={context}\n              setContext={setContext}\n            />\n          </div>\n        );\n      });\n    } else if (tab.content) {\n      content = tab.content;\n    }\n  }\n\n  return (\n    <Suspense fallback={<div/>}>\n      {content}\n    </Suspense>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  tab: PropTypes.object.isRequired,\n  addTab: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Book,\n  BookOutlined,\n} from '@material-ui/icons';\n\nimport * as chaptersAndVerses from '../../../chaptersAndVerses';\n\nexport const Component = ({\n  classes,\n  bookMetadata,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) => {\n  const bookId = bookMetadata.identifier;\n  const chapterCount = chaptersAndVerses.chaptersInBook({bookId}).length;\n  return (\n    <ListItem\n      button\n      selected={reference && reference.bookId === bookMetadata.identifier}\n      className={classes.bookListItem}\n      style={{\n        paddingLeft: '2.2em',\n        paddingRight: '0.7em',\n      }}\n      onClick={() => {\n        const reference = {\n          bookId: bookId\n        };\n        const _context = {...context, reference};\n        setContext(_context);\n      }}\n    >\n      <ListItemIcon className={classes.listItemIcon}>\n        {\n          (reference && reference.bookId === bookMetadata.identifier) ?\n          <Book /> :\n          <BookOutlined />\n        }\n      </ListItemIcon>\n      <ListItemText\n        className={classes.listItemText}\n        primary={bookMetadata.title}\n        secondary={chapterCount + ' Chapters' }\n      />\n    </ListItem>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  bookMetadata: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Collapse,\n} from '@material-ui/core';\nimport {\n  Bookmarks,\n  BookmarksOutlined,\n} from '@material-ui/icons';\n\nimport Book from '../Book';\n\nexport const Component = ({\n  classes,\n  testamentId,\n  books,\n  context,\n  setContext,\n  open,\n  toggle\n}) => {\n  const bookComponents = books ?\n    books.map((bookMetadata) =>\n      <Book\n        key={bookMetadata.identifier}\n        bookMetadata={bookMetadata}\n        context={context}\n        setContext={setContext}\n      />\n    ) : [];\n\n  return (\n    <div>\n      <ListItem\n        button\n        selected={open}\n        className={classes.fileList}\n        style={{\n          paddingLeft: '1em',\n          paddingRight: '0.5em',\n        }}\n        onClick={toggle}\n      >\n        <ListItemIcon className={classes.listItemIcon}>\n          {\n            open ?\n            <Bookmarks /> :\n            <BookmarksOutlined />\n          }\n        </ListItemIcon>\n        <ListItemText\n          inset\n          className={classes.listItemText}\n          primary={testamentId}\n          secondary={books.length + ' Books'}\n        />\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <List dense className={classes.list}>\n          {bookComponents}\n        </List>\n      </Collapse>\n    </div>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  testamentId: PropTypes.string.isRequired,\n  books: PropTypes.array.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n}\nconst styles = theme => ({\n  list: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n    open: false,\n  };\n\n  toggle() {\n    this.setState({\n      open: !this.state.open\n    })\n  };\n\n  render() {\n    const props = this.props;\n    const {open} = this.state;\n    return (\n      <Component\n        {...props}\n        open={open}\n        toggle={this.toggle.bind(this)}\n      />\n    );\n  };\n};\n\nContainer.propTypes = {\n  testamentId: PropTypes.string.isRequired,\n  books: PropTypes.array.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n}\n\nexport default Container;\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport Testament from './Testament';\n\nexport const Component = ({classes, manifests, context, setContext}) => {\n  let bible = {};\n  const bibleManifest = manifests[context.resourceId];\n  if (bibleManifest) {\n    let projects = bibleManifest.projects.slice(0);\n    projects.sort((a,b) => { return a.sort - b.sort });\n    projects.forEach(project => {\n      const testamentId = project.categories.includes('bible-ot') ? 'Old Testament': 'New Testament';\n      if (!bible[testamentId]) bible[testamentId] = [];\n      bible[testamentId].push(project);\n    });\n  }\n  return (\n    <Paper className={classes.bible}>\n      <List\n        className={classes.bible}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.bibleList}>\n          {\n            Object.keys(bible).map(testamentId =>\n              <Testament\n                key={testamentId}\n                testamentId={testamentId}\n                books={bible[testamentId]}\n                context={context}\n                setContext={setContext}\n              />\n            )\n          }\n        </div>\n      </List>\n    </Paper>\n    )\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  bible: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  bibleList: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Bookmark,\n  BookmarkBorder,\n} from '@material-ui/icons';\n\nexport const Component = ({\n  classes,\n  chapter,\n  verses,\n  setContext,\n  context,\n  context: {\n    reference,\n  },\n}) => {\n  return (\n    <ListItem\n      button\n      selected={reference.chapter === chapter}\n      className={classes.bookListItem}\n      style={{\n        paddingLeft: '2em',\n        paddingRight: '0.7em',\n      }}\n      onClick={() => {\n        const _reference = {\n          bookId: reference.bookId,\n          chapter,\n        };\n        const _context = {...context, reference: _reference};\n        setContext(_context);\n      }}\n    >\n      <ListItemIcon className={classes.listItemIcon}>\n        {\n          (reference.chapter === chapter) ?\n          <Bookmark /> :\n          <BookmarkBorder />\n        }\n      </ListItemIcon>\n      <ListItemText\n        className={classes.listItemText}\n        primary={'Chapter ' + chapter}\n        secondary={verses + ' Verses' }\n      />\n    </ListItem>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  chapter: PropTypes.number.isRequired,\n  verses: PropTypes.number.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport Chapter from './Chapter';\n\nimport * as chaptersAndVerses from '../../../chaptersAndVerses';\n\nexport const Component = ({\n  classes,\n  bookData,\n  context,\n  setContext,\n  context: {\n    reference,\n    reference: {\n      bookId,\n    },\n  },\n}) => {\n  const chapters = chaptersAndVerses.chaptersInBook({bookId})\n  .map((verses, index) =>\n    <Chapter\n      key={index}\n      chapter={index+1}\n      verses={verses}\n      context={context}\n      setContext={setContext}\n    />\n  );\n\n  return (\n    <Paper className={classes.root}>\n      <List\n        className={classes.root}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.list}>\n          {chapters}\n        </div>\n      </List>\n    </Paper>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  list: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n  ExpansionPanelActions,\n  IconButton,\n} from '@material-ui/core';\nimport {\n  ExpandMore,\n  ExpandLess,\n} from '@material-ui/icons';\n\nimport styles from '../../../styles';\n\nexport const Component = ({\n  classes,\n  summary,\n  details,\n  id,\n  open,\n  handleToggle,\n  handleClose\n}) => {\n  return (\n    <ExpansionPanel expanded={open} className={classes.column} onChange={handleToggle}>\n      <ExpansionPanelSummary expandIcon={<ExpandMore />}>\n        <span id={id} style={{position: 'absolute', top: '-5em'}}></span>\n        {summary}\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n      {\n        open ?\n          <div className={classes.fullWidth}>\n            {details}\n          </div>\n        : ''\n      }\n      </ExpansionPanelDetails>\n      <ExpansionPanelActions className={classes.expansionPanelActions}>\n        <IconButton\n          className={classes.button}\n          aria-label=\"Close\"\n          onClick={handleClose}\n        >\n          <ExpandLess />\n        </IconButton>\n      </ExpansionPanelActions>\n    </ExpansionPanel>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  summary: PropTypes.object.isRequired,\n  details: PropTypes.object,\n  open: PropTypes.bool.isRequired,\n  id: PropTypes.number.isRequired,\n  handleToggle: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n} from '@material-ui/core';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n    id: Math.random(),\n    open: false,\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n    this.scrollToId(this.state.id);\n  };\n\n  handleToggle = () => {\n    this.setState({ open: !this.state.open });\n    this.scrollToId(this.state.id);\n  };\n\n  scrollToId = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  render() {\n    const {props} = this;\n    const {open, id} = this.state;\n    return (\n      <Component\n        {...props}\n        id={id}\n        open={open}\n        handleClose={this.handleClose.bind(this)}\n        handleToggle={this.handleToggle.bind(this)}\n      />\n    )\n  }\n}\n\nContainer.propTypes = {\n  summary: PropTypes.object.isRequired,\n  details: PropTypes.object,\n};\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nexport const Word = ({\n  classes,\n  verseObject,\n}) => {\n  return (\n    <span>\n      {verseObject.text || verseObject.content}\n    </span>\n  );\n};\n\nWord.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(Word);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Popover,\n} from '@material-ui/core';\n\nimport Word from '../Word';\nimport AlignedWord from './AlignedWord';\n\nclass Container extends React.Component {\n  state = {\n    anchorEl: null,\n  };\n\n  handlePopoverOpen = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handlePopoverClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n    const { classes, children, originalWords } = this.props;\n    const { anchorEl } = this.state;\n    const open = Boolean(anchorEl);\n    return (\n      <span>\n        <span\n          aria-owns={open ? 'mouse-over-popover' : undefined}\n          aria-haspopup=\"true\"\n          onMouseEnter={this.handlePopoverOpen}\n          onMouseLeave={this.handlePopoverClose}\n          className={(open ? classes.open : classes.closed)}\n        >\n          {\n            children.map((verseObject, index) =>\n              <Word key={index} verseObject={verseObject} />\n            )\n          }\n        </span>\n        <Popover\n          id=\"mouse-over-popover\"\n          className={classes.popover}\n          classes={{\n            paper: classes.paper,\n          }}\n          open={open}\n          anchorEl={anchorEl}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'left',\n          }}\n          onClose={this.handlePopoverClose}\n          disableRestoreFocus\n        >\n        {\n          originalWords.map((verseObject, index) =>\n            <AlignedWord key={index} verseObject={verseObject} />\n          )\n        }\n        </Popover>\n      </span>\n    );\n  }\n}\n\nContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  children: PropTypes.array.isRequired,\n  originalWords: PropTypes.array,\n};\n\nconst styles = theme => ({\n  open: {\n    backgroundColor: 'lightgoldenrodyellow',\n  },\n  closed: {\n  },\n  popover: {\n    pointerEvents: 'none',\n  },\n  paper: {\n    padding: theme.spacing.unit,\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(Container);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport VerseObject from '../VerseObject';\nimport AlignedWords from './AlignedWords';\n\nexport const Milestone = ({\n  classes,\n  originalWords,\n  verseObject: {\n    tag,\n    children,\n    tw,\n    strong,\n    lemma,\n    morph,\n    occurrence,\n    occurrences,\n    content,\n  },\n}) => {\n  let component;\n  switch (tag) {\n    case 'k':\n      component = children.map((child, index) =>\n        <VerseObject\n          key={index}\n          verseObject={child}\n        />\n      );\n      break;\n    case 'zaln':\n      const originalWord = {\n        strong,\n        lemma,\n        morph,\n        occurrence,\n        occurrences,\n        content,\n      };\n      let _originalWords = JSON.parse(JSON.stringify(originalWords));\n      _originalWords.push(originalWord);\n      if (children.length === 1 && children[0].type === 'milestone') {\n        component = (\n          <VerseObject\n            verseObject={children[0]}\n            originalWords={_originalWords}\n          />\n        );\n      } else {\n        component = (\n          <AlignedWords\n            originalWords={_originalWords}\n            children={children}\n          />\n        );\n      }\n      break;\n    default:\n      component = (<div/>);\n      break;\n  }\n\n  return component;\n};\n\nMilestone.propTypes = {\n  verseObject: PropTypes.object.isRequired,\n  originalWords: PropTypes.array,\n};\n\nexport default Milestone;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nexport const Text = ({classes, verseObject}) => {\n  return (\n    <span>\n      {verseObject.text}\n    </span>\n  );\n};\n\nText.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseObject: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n});\n\nexport default withStyles(styles)(Text);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Milestone from './Milestone';\nimport Text from './Text';\nimport Word from './Word';\nimport AlignedWords from './AlignedWords';\n\nexport const Component = ({\n  classes,\n  verseObject,\n  originalWords=[],\n}) => {\n  const {type} = verseObject;\n  let component;\n\n  switch (type) {\n    case 'text':\n      component = <Text verseObject={verseObject} />;\n      break;\n    case 'quote':\n      component = <Text verseObject={verseObject} />;\n      break;\n    case 'milestone':\n      component = (\n        <Milestone\n          verseObject={verseObject}\n          originalWords={originalWords}\n        />\n      );\n      break;\n    case 'word':\n      if (verseObject.strong) {\n        component = (\n          <AlignedWords\n            children={[verseObject]}\n            originalWords={[verseObject]}\n          />\n        );\n      } else {\n        component = <Word verseObject={verseObject} />;\n      }\n      break;\n    case 'section':\n      component = <span/>;\n      break;\n    case 'paragraph':\n      component = <span/>;\n      break;\n    case 'footnote':\n      component = <sup>f</sup>;\n      break;\n    default:\n      debugger\n      component = (\n        <span>\n          <sup>*</sup>\n          <Text verseObject={verseObject} />\n          <sup>*</sup>\n        </span>\n      );\n      break;\n  };\n\n  return (\n    <span data-verse-object={JSON.stringify(verseObject)}>\n      {component}\n      {verseObject.nextChar}\n    </span>\n  );\n};\n\nComponent.propTypes = {\n  verseObject: PropTypes.object.isRequired,\n  originalWords: PropTypes.array,\n};\n\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Chip,\n  Typography,\n} from '@material-ui/core';\nimport {\n  LibraryBooksOutlined,\n} from '@material-ui/icons';\n\nexport const Title = ({\n  manifest: {\n    dublin_core: {\n      identifier,\n      title,\n    },\n  },\n}) => (\n  <div style={{width: '100%', textAlign: 'right', marginBottom: '0.5em',}}>\n    <Chip\n      label={\n        <Typography variant='caption'>\n          <strong>{identifier.toUpperCase()}</strong> ({title})\n        </Typography>\n      }\n      icon={\n        <LibraryBooksOutlined fontSize='small' />\n      }\n      style={{height: '25px'}}\n    />\n  </div>\n);\n\nTitle.propTypes = {\n  manifest: PropTypes.object.isRequired,\n};\n\nexport default Title;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from '../../../styles';\n\nimport VerseObject from '../VerseObject';\nimport Title from './Title';\n\nexport const Reference = ({\n  classes,\n  verseKey,\n  context: {\n    reference: {\n      chapter,\n    },\n  },\n  resource: {\n    manifest,\n    manifest: {\n      dublin_core:{\n        language: {\n          direction,\n        },\n      },\n    },\n    data,\n  },\n  noTitle,\n}) => {\n\n  let verse = <span />;\n  if (data[chapter][verseKey] && data[chapter][verseKey].verseObjects) {\n    verse = data[chapter][verseKey].verseObjects.map((verseObject, index) =>\n      <VerseObject\n        key={index}\n        verseObject={verseObject}\n      />\n    );\n  }\n\n  let titleComponent = <span />;\n  if (!noTitle) {\n    titleComponent = (\n      <Title\n        manifest={manifest}\n      />\n    );\n  }\n\n  return (\n    <div className={classes.verse}>\n      <div style={{direction: direction}}>\n        <sup>{verseKey} </sup>\n        {verse}\n      </div>\n      {titleComponent}\n    </div>\n  );\n};\n\nReference.propTypes = {\n  classes: PropTypes.object.isRequired,\n  verseKey: PropTypes.string.isRequired,\n  resource: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  noTitle: PropTypes.bool,\n};\n\nexport default withStyles(styles, { withTheme: true })(Reference);\n","import React, {\n  createContext,\n  useState\n} from 'react';\nimport deepFreeze from 'deep-freeze';\n\nimport * as helpers from './helpers';\n\nexport const ResourcesContext = createContext();\n\nexport function ResourcesContextProvider({children}) {\n  const [resources, setResources] = useState({});\n  const [contextLoaded, setContextLoaded] = useState({});\n  const [verseCountTableData, setVerseCountTableData] = useState();\n\n  const populateResources = async ({\n    manifests,\n    context,\n    context: {\n      reference,\n    },\n  }) => {\n    const {ult, ust, ulb, irv, obs} = resources;\n    const referenceChanged = (\n      (reference && !contextLoaded.reference) ||\n      (reference && (reference.bookId !== contextLoaded.reference.bookId))\n    );\n    const emptyBookData = (!(ult || ust || ulb || irv || obs));\n    const needToFetch = (emptyBookData || referenceChanged)\n    const canFetch = (reference && reference.bookId && Object.keys(manifests).length > 0);\n    if (canFetch && needToFetch) {\n      let _resources = await helpers.fetchResources({manifests, context});\n      _resources.tn = pivotTranslationNotes(_resources.tn);\n      setResources(_resources);\n      setContextLoaded(context);\n    }\n  };\n\n  const pivotTranslationNotes = (tn) => {\n    const rows = tn.data;\n    const data = helpers.pivotTranslationNotes({tn: rows});\n    const _tn = {...tn, data, rows};\n    return _tn;\n  }\n\n  const populateVerseCountTableData = () => {\n    let columns = ['bookId', 'chapter'];\n    let data = [];\n    let index = {};\n    const {reference: {bookId}} = contextLoaded;\n    const resourceIds = Object.keys(resources);\n    resourceIds.forEach(resourceId => {\n      const resource = resources[resourceId];\n      if (resource.data && resource.manifest && /usfm/.test(resource.manifest.dublin_core.format)) {\n        columns.push(resourceId);\n        const chapterKeys = Object.keys(resource.data);\n        chapterKeys.forEach(chapterKey => {\n          index[chapterKey] = index[chapterKey] || {};\n          const chapterData = resource.data[chapterKey];\n          const verseCount = Object.keys(chapterData).length;\n          index[chapterKey][resourceId] = verseCount;\n        });\n      }\n    });\n    const chapterKeys = Object.keys(index);\n    chapterKeys.forEach(chapterKey => {\n      const chapterIndex = index[chapterKey];\n      const resourceIds = Object.keys(chapterIndex);\n      let row = [bookId, chapterKey];\n      resourceIds.forEach(resourceId => {\n        const verseCount = chapterIndex[resourceId];\n        row.push(verseCount);\n      });\n      data.push(row);\n    });\n    const _verseCountTableData = {columns, data};\n    setVerseCountTableData(_verseCountTableData);\n  };\n\n  const _resources = deepFreeze(resources);\n\n  const value = {\n    resources: _resources,\n    populateResources,\n    contextLoaded,\n    verseCountTableData,\n    populateVerseCountTableData,\n  };\n\n  return (\n    <ResourcesContext.Provider value={value}>\n      {children}\n    </ResourcesContext.Provider>\n  );\n};\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Divider,\n} from '@material-ui/core';\n\nimport styles from '../../../styles';\n\nimport ExpansionPanel from '../ExpansionPanel';\nimport TranslationHelps from '../../../TranslationHelps';\nimport Reference from './Reference';\nimport Title from './Title';\n\nimport * as originalHelpers from '../../../TranslationHelps/Original/helpers';\n\nimport {ResourcesContext} from '../../Resources.context';\n\nexport const VerseComponent = ({\n  classes,\n  languageId,\n  verseKey,\n  context,\n  setContext,\n  context: {\n    resourceId,\n    reference: {\n      bookId,\n      chapter,\n    },\n  },\n}) => {\n  const {\n    resources,\n    resources: {\n      tn,\n      original,\n    },\n  } = useContext(ResourcesContext);\n\n  let tabs = [];\n\n  const referenceResources = ['ult','ust','ulb','udb','irv']\n  .filter(_resourceId => _resourceId !== resourceId)\n  .filter(_resourceId => !!(resources[_resourceId] && resources[_resourceId].data))\n  .map(_resourceId => (\n    <div key={_resourceId + verseKey}>\n      <Reference\n        verseKey={verseKey}\n        resource={resources[_resourceId]}\n        context={context}\n      />\n      <Divider variant=\"middle\" />\n    </div>\n  ));\n  const scriptureComponent = (\n    <div style={{paddingTop: '1em'}}>\n      {referenceResources}\n      <Reference\n        verseKey={verseKey}\n        resource={original}\n        context={context}\n      />\n    </div>\n  );\n\n  const scriptureTab = {\n    title: 'Reference',\n    content: scriptureComponent,\n  }\n  tabs.push(scriptureTab);\n\n  if (original.data[chapter][verseKey]) {\n    const {verseObjects} = original.data[chapter][verseKey];\n    const wordObjects = originalHelpers.taggedWords({verseObjects});\n    if (wordObjects.length > 0) {\n      const wordsTab = {\n        title: 'Words',\n        original: wordObjects,\n      };\n      tabs.push(wordsTab);\n    }\n  }\n  if (tn.data && tn.data[chapter] && tn.data[chapter][verseKey]) {\n    const notesTab = {\n      title: tn.manifest.dublin_core.title,\n      notes: tn.data[chapter][verseKey],\n    };\n    tabs.push(notesTab);\n  };\n  const resource = resources[context.resourceId];\n  const details = (\n    <div>\n      <div style={{paddingRight: '24px'}}>\n        <Title\n          manifest={resource.manifest}\n        />\n      </div>\n      {\n        (tabs.length > 0) ?\n        <TranslationHelps\n          context={context}\n          setContext={setContext}\n          tabs={tabs}\n        /> : null\n      }\n    </div>\n  )\n  const id = `${bookId}_${chapter}_${verseKey}`;\n\n  return (\n    <ExpansionPanel\n      summary={\n        <div>\n          <span id={id} style={{position: 'absolute', top: '-5em'}}></span>\n          <div className={classes.verse}>\n            <Reference\n              verseKey={verseKey}\n              resource={resource}\n              context={context}\n              noTitle\n            />\n          </div>\n        </div>\n      }\n      details={details}\n    />\n  );\n};\n\nVerseComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  verseKey: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(VerseComponent);\n","import Component from './Component';\nexport default Component;\n","\nexport const taggedWords = ({verseObjects}) => {\n  if (!verseObjects) return [];\n  const wordLinks = verseObjects\n  .filter(verseObject => verseObject.tw)\n  .map(verseObject => {\n    let originalWords = [];\n    if (verseObject.type === 'word') originalWords.push(verseObject);\n    if (verseObject.children) originalWords = originalWords.concat(verseObject.children);\n    let wordObject = {\n      link: verseObject.tw,\n      originalWords,\n    };\n    return wordObject;\n  });\n  return wordLinks;\n};\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from '../../styles';\n\nimport TranslationHelps from '../../TranslationHelps';\nimport ExpansionPanel from './ExpansionPanel';\nimport Verse from './Verse';\n\nimport {ResourcesContext} from '../Resources.context';\n\nexport const Chapter = ({\n  classes,\n  context,\n  context: {\n    resourceId,\n    reference,\n    reference: {\n      chapter,\n    }\n  },\n  setContext,\n}) => {\n  const {\n    resources,\n    resources: {\n      tn,\n    },\n  } = useContext(ResourcesContext);\n\n  const resource = resources[resourceId];\n  const verses = Object.keys(resource.data[chapter])\n  // .filter(verseKey => {\n  //   return /\\d+/g.test(verseKey); // don't show front/intro\n  // })\n  .map(verseKey =>\n    <Verse\n      key={`${reference.chapter}-${verseKey}`}\n      context={context}\n      setContext={setContext}\n      verseKey={verseKey}\n    />\n  );\n  let intro;\n  let tabs = [];\n  if (!!tn.data && tn.data[chapter]) {\n    intro = (tn.data[chapter]['intro'] && tn.data[chapter]['intro'][0]) ?\n    tn.data[chapter]['intro'][0]['occurrence_note']\n    .replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '')\n    : '';\n    tabs = [{\n      title: tn.manifest.dublin_core.title,\n      text: intro,\n    }];\n  }\n  const introPanel = (\n    <ExpansionPanel\n      key={'chapter'+reference.chapter}\n      summary={<h2>Chapter {reference.chapter}</h2>}\n      details={\n        <TranslationHelps\n          context={context}\n          setContext={setContext}\n          tabs={tabs}\n        />\n      }\n    />\n  );\n  const panels = [introPanel].concat(verses);\n\n  return panels;\n};\n\nChapter.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(Chapter);\n","\nexport const index = ({data}) => {\n  if (!data) return {};\n  console.time('indexing');\n  let lemmaIndex = {};\n  const chapterKeys = Object.keys(data);\n  chapterKeys.forEach(chapterKey => {\n    const chapter = data[chapterKey];\n    const verseKeys = Object.keys(chapter);\n    verseKeys.forEach(verseKey => {\n      const verse = chapter[verseKey];\n      const {verseObjects} = verse;\n      verseObjects.forEach(verseObject => {\n        const originalWords = getWords({verseObject});\n        originalWords.forEach(originalWord => {\n          const {lemma, strong} = originalWord;\n          const entry = {\n            reference: {chapter: chapterKey, verse: verseKey},\n            alignment: verseObject,\n            strong,\n          };\n          if (!lemmaIndex[lemma]) lemmaIndex[lemma] = [];\n          lemmaIndex[lemma].push(entry);\n        })\n      });\n    });\n  });\n  console.timeEnd('indexing');\n  return lemmaIndex;\n};\n\n\nexport const getWords = ({verseObject, originalWords=[]}) => {\n  if (verseObject.type === 'milestone') {\n    let originalWord = JSON.parse(JSON.stringify(verseObject));\n    delete originalWord.children;\n    originalWords.push(originalWord);\n    const {children} = verseObject;\n    children.forEach(_verseObject => {\n      getWords({verseObject: _verseObject, originalWords});\n    });\n  }\n  return originalWords;\n};\n\nexport const textFromVerseObject = ({verseObject, originalTexts=[], targetTexts=[]}) => {\n  const {content, text, children} = verseObject;\n  if (content) originalTexts.push(content);\n  if (text) targetTexts.push(text);\n  if (children) {\n    children.forEach(_verseObject => {\n      const {_originalTexts, _targetTexts} = textFromVerseObject({verseObject: _verseObject, originalTexts, targetTexts})\n      originalTexts.concat(_originalTexts);\n      targetTexts.concat(_targetTexts);\n    });\n  }\n  return {\n    originalTexts,\n    targetTexts,\n  };\n};\n\nexport const flattenVerseObjects = ({verseObjects}) => {\n  let flattenedVerseObjects = [];\n  verseObjects.forEach(verseObject => {\n    const _flattenedVerseObject = flattenVerseObject({verseObject});\n    flattenedVerseObjects = flattenedVerseObjects.concat(_flattenedVerseObject);\n  });\n  return flattenedVerseObjects;\n};\n\nexport const flattenVerseObject = ({verseObject, verseObjects=[]}) => {\n  const {type, children} = verseObject;\n  if (type === 'word') verseObjects.push(verseObject);\n  if (children) {\n    children.forEach(_verseObject => {\n      const _verseObjects = flattenVerseObject({verseObject: _verseObject, verseObjects})\n      verseObjects = verseObjects.concat(_verseObjects);\n    });\n  }\n  return verseObjects;\n};\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst getMuiTheme = () => createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  overrides: {\n    MuiPaper: {\n      elevation4: {\n        boxShadow: 'none',\n      },\n      rounded: {\n        borderRadius: 'unset',\n      },\n      root: {\n        backgroundColor: '#FFF',\n      }\n    },\n    MuiTableCell: {\n      root: {\n        padding: '0 8px 0 8px',\n      }\n    },\n    MUIDataTableHeadCell: {\n      fixedHeader: {\n        zIndex: 'unset',\n      }\n    },\n    MUIDataTable: {\n      responsiveScroll: {\n        maxHeight: 'unset',\n      }\n    },\n    MuiTableRow: {\n      root: {\n        height: 'unset',\n      }\n    },\n  }\n});\n\nexport default getMuiTheme;\n","import React, {\n  createContext,\n  useState\n} from 'react';\nimport deepFreeze from 'deep-freeze';\n\nimport * as helpers from './helpers';\n\nexport const LemmaIndexContext = createContext();\n\nexport function LemmaIndexContextProvider({children}) {\n  const [lemmaIndex, setLemmaIndex] = useState();\n\n  const populateLemmaIndex = ({data}) => {\n    const _lemmaIndex = helpers.index({data});\n    setLemmaIndex(_lemmaIndex);\n  }\n\n  const _lemmaIndex = lemmaIndex ? deepFreeze(lemmaIndex) : undefined;\n\n  const value = {\n    lemmaIndex: _lemmaIndex,\n    populateLemmaIndex,\n  };\n\n  return (\n    <LemmaIndexContext.Provider value={value}>\n      {children}\n    </LemmaIndexContext.Provider>\n  );\n};\n","import React, {useContext} from 'react';\nimport MUIDataTable from 'mui-datatables';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport * as helpers from './helpers';\nimport getMuiTheme from '../theme';\n\nimport {ResourcesContext} from '../../Resources.context';\nimport {LemmaIndexContext} from './LemmaIndex.context';\n\nexport const AlignmentsTable = () => {\n  const {\n    resources,\n    contextLoaded,\n    contextLoaded: {\n      resourceId,\n    }\n  } = useContext(ResourcesContext);\n\n  const {lemmaIndex, populateLemmaIndex} = useContext(LemmaIndexContext);\n  if (!lemmaIndex && contextLoaded.reference && resources[resourceId]) {\n    populateLemmaIndex({data: resources[resourceId].data});\n  }\n\n  const columns = [\n    {\n      name: \"Strong's: Lemma\",\n      options: {\n        filter: false,\n        sort: true,\n      }\n    },\n    {\n      name: \"UGNT\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n    {\n      name: \"ULT\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n    {\n      name: \"C:V\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n  ];\n\n  let data = [];\n  if (lemmaIndex) {\n    Object.keys(lemmaIndex).forEach(lemma => {\n      const lemmaRows = lemmaIndex[lemma].map(entry => {\n        const {\n          strong,\n          alignment,\n          reference: {\n            chapter,\n            verse,\n          },\n        } = entry;\n        const {originalTexts, targetTexts} = helpers.textFromVerseObject({verseObject: alignment});\n        const original = originalTexts.join(' ');\n        const target = targetTexts.join(' ');\n        const reference = `${chapter}:${verse}`;\n        return [\n          `${strong}: ${lemma}`,\n          original,\n          target,\n          reference\n        ];\n      });\n      data = data.concat(lemmaRows);\n    });\n  }\n\n  const options = {\n    filterType: 'checkbox',\n    selectableRows: false,\n    responsive: 'scroll',\n    download: false,\n    print: false,\n    filter: false,\n    viewColumns: false,\n  };\n\n  return (\n    <MuiThemeProvider theme={getMuiTheme()}>\n      <MUIDataTable\n        title={\"Search UGNT and ULT for this book\"}\n        data={data}\n        columns={columns}\n        options={options}\n      />\n    </MuiThemeProvider>\n  );\n};\n\nexport default AlignmentsTable;\n","import Component from './Component';\nexport default Component;\n","import React, {useContext} from 'react';\nimport MUIDataTable from \"mui-datatables\";\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\n\nimport getMuiTheme from './theme';\n\nimport {ResourcesContext} from '../Resources.context';\n\nexport const AlignmentsTable = () => {\n  const {\n    resources: {\n      tn,\n    },\n  } = useContext(ResourcesContext);\n  const columns = [\n    {\n      name: \"C:V\",\n      options: {\n        filter: false,\n        sort: true,\n      }\n    },\n    {\n      name: \"ID\",\n      options: {\n       filter: false,\n       sort: true,\n       display: 'false',\n      }\n    },\n    {\n      name: \"Type\",\n      options: {\n       filter: true,\n       sort: true,\n      }\n    },\n    {\n      name: \"Original\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n    {\n      name: \"Occurrence\",\n      options: {\n       filter: false,\n       sort: true,\n       display: 'false',\n      }\n    },\n    {\n      name: \"Gateway\",\n      options: {\n       filter: false,\n       sort: true,\n      }\n    },\n    {\n      name: \"Note\",\n      options: {\n       filter: false,\n       sort: true,\n       display: 'false',\n       customBodyRender: (value, tableMeta, updateValue) => {\n         const maxNoteLength = 100;\n         const note = (value.length <= (maxNoteLength - 3)) ? value :\n           value.substring(0,maxNoteLength) + '...';\n         return (\n           <div>\n            {note}\n           </div>\n         );\n        },\n      }\n    },\n  ];\n\n  let data = [];\n  if (tn.rows) {\n    const rows = tn.rows.slice(0);\n    rows.shift();\n    rows.pop();\n    data = rows.map(row => {\n      const [book, chapter, verse, id, supportReference, origQuote, occurrence, glQuote, note] = row;\n      if (book) {/* book not used, this bypasses linter warning */}\n      const type = (!supportReference) ? 'general' : supportReference;\n      return [\n        `${chapter}:${verse}`,\n        id,\n        type,\n        origQuote,\n        occurrence,\n        glQuote,\n        note,\n      ];\n    });\n  }\n\n  const options = {\n    filterType: 'checkbox',\n    selectableRows: false,\n    responsive: 'scroll',\n    download: false,\n    print: false,\n    filter: true,\n    viewColumns: true,\n  };\n\n  return (\n    <MuiThemeProvider theme={getMuiTheme()}>\n      <MUIDataTable\n        title={\"Search translationNotes\"}\n        data={data}\n        columns={columns}\n        options={options}\n      />\n    </MuiThemeProvider>\n  );\n};\n\nexport default AlignmentsTable;\n","import React, {useContext} from 'react';\nimport MUIDataTable from \"mui-datatables\";\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport {\n} from '@material-ui/core';\n\nimport getMuiTheme from './theme';\n\nimport {ResourcesContext} from '../Resources.context';\n\nexport const VerseCountTable = () => {\n  let columns, data = [];\n  const {\n    contextLoaded,\n    verseCountTableData,\n    populateVerseCountTableData,\n  } = useContext(ResourcesContext);\n  if (contextLoaded.reference && !verseCountTableData) {\n    populateVerseCountTableData();\n  } else {\n    columns = verseCountTableData.columns;\n    data = verseCountTableData.data;\n  }\n\n  const options = {\n    filterType: 'checkbox',\n    selectableRows: false,\n    responsive: 'scroll',\n    download: false,\n    print: false,\n    filter: true,\n    viewColumns: true,\n  };\n\n  return (\n    <MuiThemeProvider theme={getMuiTheme()}>\n      <MUIDataTable\n        title={\"Verse Counts\"}\n        data={data}\n        columns={columns}\n        options={options}\n      />\n    </MuiThemeProvider>\n  );\n};\n\nexport default VerseCountTable;\n","import ScriptureView from './ScriptureView';\nexport default ScriptureView;\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport ReactMarkdown from 'react-markdown';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from '../../styles';\n\nimport ExpansionPanel from './ExpansionPanel';\nimport Chapter from './Chapter';\nimport TranslationHelps from '../../TranslationHelps';\nimport AlignmentsTable from './AlignmentsTable';\nimport TranslationNotesTable from './TranslationNotesTable.js';\nimport VerseCountTable from './VerseCountTable';\n\nimport * as ScriptureHelpers from '../helpers';\n\nimport {ResourcesContext} from '../Resources.context';\nimport {LemmaIndexContextProvider} from './AlignmentsTable/LemmaIndex.context';\n\nexport const ScriptureView = ({\n  classes,\n  context,\n  setContext,\n  context: {\n    resourceId,\n    reference: {\n      bookId,\n      chapter,\n    },\n  },\n}) => {\n  const {\n    resources,\n  } = useContext(ResourcesContext);\n\n  let tabs = [];\n  let intro;\n\n  if (resources && resources.tn && resources.tn.data && resources.tn.data.front) {\n    intro = resources.tn.data.front.intro[0]['occurrence_note'];\n    const introDetails = intro.split('\\n').splice(1).join('\\n')\n    .replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '');\n    tabs.push({\n      title: resources.tn.manifest.dublin_core.title,\n      text: introDetails\n    });\n  }\n\n  const translationNotesTable = (\n    <TranslationNotesTable />\n  );\n  tabs.push({ title: 'Search Notes', content: translationNotesTable });\n\n  const verseCountTable = (\n    <VerseCountTable />\n  );\n  tabs.push({ title: \"Verse Counts\", content: verseCountTable });\n\n  const alignmentsTable = (\n    <LemmaIndexContextProvider>\n      <AlignmentsTable />\n    </LemmaIndexContextProvider>\n  );\n  tabs.push({ title: \"Search Words\", content: alignmentsTable });\n\n  const chapterComponent = (\n    <Chapter\n      context={context}\n      setContext={setContext}\n    />\n  );\n  const resource = resources[resourceId];\n  const {projects} = resource.manifest;\n  const project = ScriptureHelpers.projectByBookId({projects, bookId});\n  const bookName = project ? project.title : '';\n  return (\n    <div className={classes.root}>\n      <ExpansionPanel\n        key={''+context.reference.bookId+'intro'}\n        summary={\n          <ReactMarkdown\n            source={`# ${bookName}`}\n            escapeHtml={false}\n          />\n        }\n        details={\n          <TranslationHelps\n            context={context}\n            setContext={setContext}\n            tabs={tabs}\n          />\n        }\n      />\n      {chapterComponent}\n    </div>\n  );\n};\n\nScriptureView.propTypes = {\n  classes: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  context: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ScriptureView);\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport BookSelection from './BookSelection';\nimport ChapterSelection from './ChapterSelection';\nimport ScriptureView from './ScriptureView';\n\nimport {ResourcesContext} from './Resources.context';\n\nexport const Scripture = ({\n  classes,\n  manifests,\n  context,\n  setContext,\n  context: {\n    reference\n  },\n  lemmaIndex,\n}) => {\n  const {populateResources, contextLoaded} = useContext(ResourcesContext);\n  populateResources({manifests, context});\n\n  const bookSelection = (\n    <BookSelection\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const chapterSelection = (\n    <ChapterSelection\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const scriptureView = (\n    <ScriptureView\n      context={context}\n      setContext={setContext}\n    />\n  );\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowBookSelection = (!reference || !reference.bookId);\n  const shouldShowChapterSelection = (reference && reference.bookId && !reference.chapter);\n  const shouldShowScriptureView = (contextLoaded.reference && contextLoaded.reference.bookId);\n\n  if (shouldShowBookSelection) component = bookSelection;\n  else if (shouldShowChapterSelection) component = chapterSelection;\n  else if (shouldShowScriptureView) component = scriptureView;\n  return (\n    <div className={classes.root}>\n      {component}\n    </div>\n  );\n}\n\nScripture.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(Scripture);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Scripture from './Scripture';\n\nimport {ResourcesContextProvider} from './Resources.context';\n\nclass Container extends React.Component {\n  componentDidUpdate() {\n    const {reference} = this.props.context;\n    if (reference) {\n      const {bookId, chapter, verse} = reference;\n      const id = `${bookId}_${chapter}_${verse}`;\n      const element = document.getElementById(id);\n      if (element) {\n        element.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    }\n  };\n\n  render() {\n    const props = this.props;\n    return (\n      <ResourcesContextProvider>\n        <Scripture\n          {...props}\n        />\n      </ResourcesContextProvider>\n    );\n  };\n};\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default Container;\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Bookmark,\n  BookmarkBorder,\n} from '@material-ui/icons';\n\nexport const Component = ({\n  classes,\n  storyKey,\n  frames,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) =>\n  <ListItem\n    button\n    selected={reference.chapter === storyKey}\n    className={classes.bookListItem}\n    style={{\n      paddingLeft: '2em',\n      paddingRight: '0.7em',\n    }}\n    onClick={() => {\n      const _reference = {\n        bookId: reference.bookId,\n        chapter: storyKey,\n      };\n      const _context = {...context, reference: _reference};\n      setContext(_context);\n    }}\n  >\n    <ListItemIcon className={classes.listItemIcon}>\n      {\n        (reference.chapter === storyKey) ?\n        <Bookmark /> :\n        <BookmarkBorder />\n      }\n    </ListItemIcon>\n    <ListItemText\n      className={classes.listItemText}\n      primary={`Story ${frames[0].text.replace('#','').trim()}`}\n      secondary={Object.keys(frames).length + ' Frames' }\n    />\n  </ListItem>\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  storyKey: PropTypes.number.isRequired,\n  frames: PropTypes.object.isRequired,\n}\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport Story from './Story';\n\nexport const Component = ({\n  classes,\n  stories,\n  context,\n  setContext,\n  context: {\n    reference,\n  },\n}) => {\n  const components = Object.keys(stories).map(_storyKey => {\n    const storyKey = parseInt(_storyKey);\n    const frames = stories[storyKey];\n    return (<Story\n      key={storyKey}\n      context={context}\n      setContext={setContext}\n      storyKey={storyKey}\n      frames={frames}\n    />);\n  });\n\n  return (\n    <Paper className={classes.root}>\n      <List\n        className={classes.root}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.list}>\n          {components}\n        </div>\n      </List>\n    </Paper>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  stories: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  list: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactPlayer from 'react-player';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  CardMedia,\n  IconButton,\n  Collapse,\n} from '@material-ui/core';\nimport {\n  ExpandMore,\n  ExpandLess,\n} from '@material-ui/icons';\n\nexport const Component = ({\n  classes,\n  open,\n  handleToggleOpen,\n  content,\n  details,\n  image,\n  youtubeId,\n}) => {\n  let videoFrame;\n  if (youtubeId) {\n    const videoUrl = `https://www.youtube.com/watch?v=${youtubeId}`;\n    const config = {\n      youtube: {\n        playerVars: {\n          rel: 0,\n          modestbranding: 1,\n        },\n      },\n    };\n    videoFrame = (\n      <div className={classes.media}>\n        <ReactPlayer\n          className={classes.player}\n          url={videoUrl}\n          controls={true}\n          config={config}\n          height=\"100%\"\n          width=\"100%\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <Card className={classes.card}>\n      {\n        image ?\n        <CardMedia\n          className={classes.media}\n          image={image}\n          title=\"Open Bible Stories Image\"\n        />\n        : videoFrame\n      }\n      <CardContent className={classes.content}>\n        {content}\n      </CardContent>\n      <CardActions className={classes.actions} disableActionSpacing>\n        <IconButton\n          className={classes.button}\n          onClick={handleToggleOpen}\n          aria-expanded={open}\n          aria-label=\"Show more\"\n        >\n          {open ? <ExpandLess /> : <ExpandMore />}\n        </IconButton>\n      </CardActions>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <CardContent className={classes.details}>\n          {details}\n        </CardContent>\n        <CardActions className={classes.actions} disableActionSpacing>\n          <IconButton\n            className={classes.button}\n            onClick={handleToggleOpen}\n            aria-expanded={open}\n            aria-label=\"collapse\"\n          >\n            {open ? <ExpandLess /> : <ExpandMore />}\n          </IconButton>\n        </CardActions>\n      </Collapse>\n    </Card>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  handleToggleOpen: PropTypes.func.isRequired,\n  content: PropTypes.element.isRequired,\n  details: PropTypes.element.isRequired,\n  image: PropTypes.string,\n  youtubeId: PropTypes.string,\n};\n\nconst styles = {\n  card: {\n    marginBottom: '1em',\n  },\n  media: {\n    width: 'calc(100vw - 1.9em)',\n    height: 'calc((100vw - 1.9em) * 9/16)',\n    maxWidth: '40em',\n    maxHeight: 'calc(40em * 9/16)',\n  },\n  content: {\n    paddingBottom: 0,\n  },\n  details: {\n    padding: 0,\n  },\n  actions: {\n    padding: 0,\n  },\n  button: {\n    marginLeft: 'auto',\n  },\n  player: {\n    width: '100%',\n    height: '100%',\n  },\n};\n\nexport default withStyles(styles)(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n    open: false,\n    id: Math.random(),\n    helps: {},\n  };\n\n  handleToggleOpen = () => {\n    this.setState({open: !this.state.open});\n    this.scrollToId();\n  };\n\n  scrollToId = () => {\n    const element = document.getElementById(this.state.id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  componentWillMount() {\n    const {\n      frameKey,\n      context: {\n        reference,\n      },\n    } = this.props;\n    if (parseInt(reference.verse) === parseInt(frameKey)) {\n      this.scrollToId();\n    }\n  };\n\n  render() {\n    const {open, id} = this.state;\n    const {props} = this;\n    return (\n      <div id={id}>\n        <Component\n          {...props}\n          open={open}\n          handleToggleOpen={this.handleToggleOpen.bind(this)}\n        />\n      </div>\n    );\n  }\n};\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  content: PropTypes.element.isRequired,\n  details: PropTypes.element.isRequired,\n  image: PropTypes.string,\n  youtubeId: PropTypes.string,\n};\n\nexport default Container;\n","const youtubeIds = [\n  \"UHEzSQE6TOs\",\n  \"OkJWjWFVvV4\",\n  \"2ycsRNjhYjU\",\n  \"aBPANcV67nk\",\n  \"I84GIPjHW0Q\",\n  \"lNzawXS8iKk\",\n  \"hDPJKRZa7U4\",\n  \"l0G3AQOYPR0\",\n  \"lfwMHrfoki0\",\n  \"SPSRlFyq_CQ\",\n  \"RpidswdLDWs\",\n  \"ZJKdHg9yVRs\",\n  \"MIk6i62zQ9A\",\n  \"Xg5dWR59sR8\",\n  \"vM4EzYDNSSM\",\n  \"IHwCxln7EbA\",\n  \"UL2pNVepgY8\",\n  \"DZxkuz2NEe8\",\n  \"KMoK1oITeBQ\",\n  \"jBCf1YY5pzM\",\n  \"sgABmFUZKx0\",\n  \"78PNW7qpufE\",\n  \"DxqwSFPTp3A\",\n  \"O0c_U3rPW0Q\",\n  \"im9mN_i_Y44\",\n  \"y3y27a90cBs\",\n  \"ie03EnZJ8kE\",\n  \"g6L2xbnpgCg\",\n  \"p7F8u3ymfn8\",\n  \"uFvINl8a7Ow\",\n  \"y0RYWZZw9Nc\",\n  \"MzdAo6p3J48\",\n  \"Htgd5jnKzPc\",\n  \"jCy9BJhwg6w\",\n  \"deYD2wxIQlA\",\n  \"gC6jkPn9sks\",\n  \"4srXPVgYU0w\",\n  \"F-CEE6hc1aE\",\n  \"4gFX7PnhfdI\",\n  \"RlOsDbJ9hEc\",\n  \"MAhIbNxMlPI\",\n  \"vCaywUPxzy4\",\n  \"kDMNXa4Z_M0\",\n  \"wb5owhurDXc\",\n  \"WUcXHSmjvgw\",\n  \"Ij34FKUaUJM\",\n  \"ioqNQiAUz0E\",\n  \"ep6RD36iDFw\",\n  \"ZWl5kehifDU\",\n  \"CnSJk-p087Y\"\n];\n\nexport default youtubeIds;\n","import * as gitApi from '../../gitApi';\nimport youtubeIds from './youtubeIds';\n\nexport const framesFromStory = ({storyMarkdown}) => {\n  let frames = {};\n  storyMarkdown.split(/\\s*?\\n\\s*?\\n\\s*?[!]/)\n  .forEach((frameMarkdown, index) => {\n    frames[index] = frameData({frameMarkdown});\n  });\n  return frames;\n}\n\nexport const frameData = ({frameMarkdown}) => {\n  let data = {};\n  const imageRegexp = /\\((http.*?\\.jpg).*?\\)/;\n  if (imageRegexp.test(frameMarkdown)) {\n    const [match, image] = imageRegexp.exec(frameMarkdown);\n    if (match) {/* not used, this bypasses linter warning */}\n    data.image = image;\n  }\n  data.text = frameMarkdown.replace(/\\s*\\[.*?\\]\\(.*?\\)\\s*/,'').trim();\n  return data;\n}\n\nexport async function fetchStory({username, languageId, storyId}) {\n  const repository = gitApi.resourceRepositories({languageId}).obs;\n  const numberPadded = (storyId < 10) ? `0${storyId}` : `${storyId}`;\n  const path = `content/${numberPadded}.md`;\n  const storyMarkdown = await gitApi.getFile({username, repository, path});\n  const frames = framesFromStory({storyMarkdown});\n  return frames;\n};\n\nexport async function fetchOpenBibleStories({username, languageId}) {\n  const storyIds = [...Array(51).keys()].splice(1);\n  let stories = {};\n  const promises = storyIds.map(storyId =>\n    fetchStory({username, languageId, storyId})\n  );\n  const storyArray = await Promise.all(promises);\n  storyIds.forEach((storyId, index) => {\n    stories[storyId] = storyArray[index];\n  });\n  return stories;\n};\n\nexport const youtubeId = ({storyKey}) => {\n  return youtubeIds[storyKey - 1];\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport remark from 'remark';\nimport remark2react from 'remark-react';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Card from '../Card';\nimport TranslationHelps from '../../../TranslationHelps';\nimport * as helpers from '../../helpers';\n\nexport const Component = ({\n  classes,\n  context,\n  setContext,\n  open,\n  handleToggleOpen,\n  storyKey,\n  frameKey,\n  image,\n  text,\n  helps,\n}) => {\n  let tabs = [];\n  if (helps) {\n    const {\n      notes,\n      words,\n      questions,\n      studyNotes,\n      studyQuestions,\n    } = helps;\n    if (studyQuestions) tabs.push({ title: 'Study Questions', text: helps.studyQuestions });\n    if (notes) tabs.push({ title: 'Notes', notes });\n    if (words) tabs.push({ title: 'Words', words });\n    if (questions) tabs.push({ title: 'Questions', notes: questions });\n    if (studyNotes) tabs.push({ title: 'Study Notes', notes: helps.studyNotes });\n  }\n\n  const details = (tabs.length > 0) ?\n    <TranslationHelps\n      context={context}\n      setContext={setContext}\n      tabs={tabs}\n    /> : <div />;\n\n  const options = {\n    remarkReactComponents: {\n      strong: 'sup',\n    }\n  };\n  const _text = (frameKey > 0) ? `**${frameKey}** ${text}` : text;\n  const content = remark().use(remark2react, options).processSync(_text).contents;\n\n  let youtubeId;\n  if (parseInt(frameKey) === 0) {\n    youtubeId = helpers.youtubeId({storyKey});\n  }\n\n  return (\n    <Card\n      context={context}\n      content={content}\n      details={details}\n      image={image}\n      youtubeId={youtubeId}\n    />\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  handleToggleOpen: PropTypes.func.isRequired,\n  frameKey: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  image: PropTypes.string,\n  helps: PropTypes.object.isRequired,\n};\n\nconst styles = {\n};\n\nexport default withStyles(styles)(Component);\n","import * as gitApi from '../../../gitApi';\n\nexport async function fetchHelps({username, languageId, storyKey, frameKey}) {\n  let helps = {};\n  const resourceIds = [\n    'obs-tn',\n    'obs-tq',\n    'obs-sn',\n  ];\n  const promises = resourceIds.map(resourceId => {\n    let promise;\n    if (resourceId === 'obs-tn')\n      promise = fetchNotesAndWords({username, languageId, storyKey, frameKey});\n    if (resourceId === 'obs-tq')\n      promise = fetchQuestions({username, languageId, storyKey, frameKey});\n    if (resourceId === 'obs-sn')\n      promise = fetchStudyNotes({username, languageId, storyKey, frameKey});\n    return promise;\n  });\n  const helpsArray = await Promise.all(promises);\n  resourceIds.forEach((resourceId, index) => {\n    if (resourceId === 'obs-tn') {\n      helps.notes = helpsArray[index].notes;\n      helps.words = helpsArray[index].words;\n    }\n    if (resourceId === 'obs-tq')\n      helps.questions = helpsArray[index];\n    if (resourceId === 'obs-sn')\n      helps.studyNotes = helpsArray[index];\n  });\n  return helps;\n};\n\nexport async function fetchStudyQuestions({username, languageId, storyKey}) {\n  const repository = gitApi.resourceRepositories({languageId})['obs-sq'];\n  const file = pad(storyKey) + '.md';\n  const path = ['content', file].join('/');\n  const markdown = await gitApi.getFile({username, repository, path});\n  return markdown;\n};\n\nexport async function fetchStudyNotes({username, languageId, storyKey, frameKey}) {\n  const repository = gitApi.resourceRepositories({languageId})['obs-sn'];\n  const file = pad(frameKey) + '.md';\n  const path = ['content', pad(storyKey), file].join('/');\n  const markdown = await gitApi.getFile({username, repository, path});\n  const data = parseStudyNotes({markdown});\n  return data;\n};\n\nexport async function fetchQuestions({username, languageId, storyKey, frameKey}) {\n  const repository = gitApi.resourceRepositories({languageId})['obs-tq'];\n  const file = pad(frameKey) + '.md';\n  const path = ['content', pad(storyKey), file].join('/');\n  const markdown = await gitApi.getFile({username, repository, path});\n  const questions = parseQuestions({markdown});\n  return questions;\n};\n\nexport async function fetchNotesAndWords({username, languageId, storyKey, frameKey}) {\n  const repository = gitApi.resourceRepositories({languageId})['obs-tn'];\n  const file = pad(frameKey) + '.md';\n  const path = ['content', pad(storyKey), file].join('/');\n  const markdown = await gitApi.getFile({username, repository, path});\n  const helps = parseNotes({markdown});\n  return helps;\n};\n\nexport const pad = (number) => `${(number < 10) ? 0 : ''}${number}`;\n\nexport const parseQuestions = ({markdown}) => {\n  if (!markdown) return null;\n  const questions = markdown.split(/\\n\\s*#\\s*/m)\n  .map(questionItem => {\n    const [questionText, ...answerLines] = questionItem.split(/\\n\\s*/m);\n    const question = questionText.replace(/\\s*#\\s*/,'');\n    const answer = answerLines.join('\\n\\n');\n    return {\n      gl_quote: question,\n      occurrence_note: answer,\n    };\n  });\n  return questions;\n}\n\nexport const parseNotes = ({markdown}) => {\n  if (!markdown) return {};\n  const [notesMarkdown, wordsMarkdown] = markdown.split(/#+\\s*translationWords\\s*/m);\n  const notes = notesMarkdown.split(/\\n\\s*#\\s*/m)\n  .map(noteText => {\n    const [quote, ...noteLines] = noteText.split(/\\n\\s*\\n/m);\n    const gl_quote = quote.replace(/\\s*#\\s*/,'');\n    const occurrence_note = noteLines.join('\\n\\n')\n    return {\n      gl_quote,\n      occurrence_note,\n    };\n  });\n  let words;\n  if (wordsMarkdown && /\\w+/.test(wordsMarkdown)) {\n    words = wordsMarkdown.split(/\\n?\\s*\\*\\s*/m)\n    .filter(word => word !== '')\n    .map(word => word.replace(/\\[\\[rc/,'http').replace(/\\]\\]/,''));\n  }\n  const helps = {\n    notes,\n    words,\n  };\n  return helps;\n}\n\nexport const parseStudyNotes = ({markdown}) => {\n  if (!markdown) return null;\n  const data = markdown.split(/\\n\\s*#+\\s*/m)\n  .map(noteText => {\n    const [quote, ...noteLines] = noteText.split(/\\n\\s*\\n/m);\n    const gl_quote = quote.replace(/\\s*#\\s*/,'');\n    const occurrence_note = noteLines.join('\\n\\n');\n    return {\n      gl_quote,\n      occurrence_note,\n    };\n  }).filter(note => !/^;/.test(note.occurrence_note));\n  return data;\n}\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nimport * as thHelpers from '../../translationHelps/helpers';\n\nclass Container extends React.Component {\n  state = {\n    open: false,\n    helps: {},\n  };\n\n  handleToggleOpen = () => {\n    this.setState({open: !this.state.open});\n    this.scrollToId();\n  };\n\n  scrollToId = () => {\n    const element = document.getElementById(this.props.frameKey);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  async componentDidMount() {\n    const {\n      storyKey,\n      frameKey,\n      context: {\n        username,\n        languageId,\n        reference,\n      },\n    } = this.props;\n    const helps = await thHelpers.fetchHelps({username, languageId, storyKey, frameKey});\n    this.setState({helps});\n    if (parseInt(reference.verse) === parseInt(frameKey)) {\n      this.scrollToId();\n    }\n  };\n\n  render() {\n    const {open} = this.state;\n    const {props} = this;\n    const helps = {...this.state.helps, ...this.props.helps};\n    return (\n      <div id={props.frameKey}>\n        <Component\n          {...props}\n          helps={helps}\n          open={open}\n          handleToggleOpen={this.handleToggleOpen.bind(this)}\n        />\n      </div>\n    );\n  }\n};\n\nContainer.propTypes = {\n  storyKey: PropTypes.number.isRequired,\n  frameKey: PropTypes.string.isRequired,\n  helps: PropTypes.object,\n  text: PropTypes.string.isRequired,\n  image: PropTypes.string,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport remark from 'remark';\nimport remark2react from 'remark-react';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from '../../../styles';\nimport Card from '../Card';\nimport Frame from '../Frame/';\nimport TranslationHelps from '../../../TranslationHelps';\n\n// TODO: Show front/back matter\nexport const Component = ({\n  classes,\n  storyKey,\n  story,\n  context,\n  setContext,\n  helps,\n  guide,\n  title,\n}) => {\n  let intro;\n  const header = `# ${title}`;\n  const content = remark().use(remark2react).processSync(header).contents;\n  let tabs = [];\n  if (guide) {\n    const title = \"Guide\"\n    const text = guide;\n    tabs.push({ title, text });\n  }\n  const details = (\n    <TranslationHelps\n      context={context}\n      setContext={setContext}\n      tabs={tabs}\n    />\n  );\n  intro = (\n    <Card\n      context={context}\n      content={content}\n      details={details}\n    />\n  );\n  const frames = Object.keys(story).map((frameKey, index) => {\n    const {image, text} = story[frameKey];\n    return (\n      <Frame\n        key={`${storyKey}:${frameKey}`}\n        storyKey={storyKey}\n        helps={index === 0 ? helps : {}}\n        frameKey={frameKey}\n        image={image}\n        text={text}\n        context={context}\n        setContext={setContext}\n      />\n    );\n  });\n  return (\n    <div className={classes.column}>\n      {intro}\n      {frames}\n    </div>\n  );\n};\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  storyKey: PropTypes.number.isRequired,\n  story: PropTypes.object.isRequired,\n  helps: PropTypes.object,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(Component);\n","import Story from './Story/';\nexport default Story;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nimport * as thHelpers from '../../translationHelps/helpers';\n\nclass Container extends React.Component {\n  state = {\n    open: false,\n    id: Math.random(),\n    helps: null,\n  };\n\n  handleToggleOpen = () => {\n    this.setState({open: !this.state.open});\n    this.scrollToId();\n  };\n\n  scrollToId = () => {\n    const element = document.getElementById(this.state.id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n  fetchStudyQuestions({\n    storyKey,\n    context: {\n      username,\n      languageId,\n    },\n  }) {\n    thHelpers.fetchStudyQuestions({username, languageId, storyKey: 0})\n    .then(guide => {\n      thHelpers.fetchStudyQuestions({username, languageId, storyKey})\n      .then(studyQuestions => {\n        const helps = { studyQuestions: studyQuestions };\n        this.setState({\n          helps,\n          guide,\n        });\n      });\n    });\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.fetchStudyQuestions(newProps);\n  }\n\n  componentDidMount() {\n    this.fetchStudyQuestions(this.props);\n  };\n\n  render() {\n    const {helps, guide, open, id} = this.state;\n    const {props} = this;\n    return (\n      <div id={id}>\n        <Component\n          {...props}\n          helps={helps}\n          guide={guide}\n          open={open}\n          handleToggleOpen={this.handleToggleOpen.bind(this)}\n        />\n      </div>\n    );\n  }\n};\n\nContainer.propTypes = {\n  storyKey: PropTypes.number.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\n\nimport StorySelection from './StorySelection';\nimport OpenBibleStoriesView from './OpenBibleStoriesView';\n\nexport const OpenBibleStoriesComponent = ({\n  classes,\n  context,\n  context: {\n    reference\n  },\n  setContext,\n  stories,\n  title,\n}) => {\n\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowStorySelection = (stories && !reference.chapter);\n  const shouldShowOpenBibleStoriesView = (stories && reference.chapter);\n\n  if (shouldShowStorySelection) {\n    const storySelection = (\n      <StorySelection\n        context={context}\n        setContext={setContext}\n        stories={stories}\n      />\n    );\n    component = storySelection;\n  }\n  else if (shouldShowOpenBibleStoriesView) {\n    const openBibleStoriesView = (\n      <OpenBibleStoriesView\n        context={context}\n        setContext={setContext}\n        storyKey={reference.chapter}\n        story={stories[reference.chapter]}\n        title={title}\n      />\n    );\n    component = openBibleStoriesView;\n  }\n\n  return (\n    <div className={classes.root}>\n      {component}\n    </div>\n  );\n}\n\nOpenBibleStoriesComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  stories: PropTypes.object,\n  title: PropTypes.string.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(OpenBibleStoriesComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport styles from './styles';\n\nimport Component from './Component';\n\nimport * as helpers from './helpers';\n\nclass OpenBibleStoriesContainer extends React.Component {\n  state = {\n    stories: null,\n  };\n\n  componentDidMount() {\n    const {username, languageId} = this.props.context;\n    helpers.fetchOpenBibleStories({username, languageId})\n    .then(stories => {\n      this.setState({ stories });\n    });\n  };\n\n  componentDidUpdate() {\n    const {reference: {bookId, chapter, verse}} = this.props.context;\n    const id = `${bookId}_${chapter}_${verse}`;\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  }\n\n  render() {\n    const {stories} = this.state;\n    const {props} = this;\n    const {title} = props.manifests['obs'].dublin_core;\n    return (\n      <Component\n        {...props}\n        stories={stories}\n        title={title}\n      />\n    );\n  }\n};\n\nOpenBibleStoriesContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(OpenBibleStoriesContainer);\n","import Container from './Container';\nexport default Container;\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Headroom from 'react-headroom';\nimport {\n  Typography,\n} from '@material-ui/core';\n\nimport * as ScriptureHelpers from './components/Viewer/Workspace/Scripture/helpers';\n\nconst ApplicationBar = ({\n  classes,\n  applicationName,\n  manifests,\n  context: {\n    resourceId,\n    reference,\n  },\n}) => {\n\n  let bookName = '';\n  let chapter = '';\n  if (manifests[resourceId] && reference) {\n    const { bookId } = reference;\n    chapter = reference.chapter;\n    const {projects} = manifests[resourceId];\n    const project = ScriptureHelpers.projectByBookId({projects, bookId});\n    bookName = project ? project.title : '';\n  }\n  const logoWordMark = (\n    <img className={classes.logo} src='./uw-logo-wordmark.png' alt=\"unfoldingWord\" />\n  );\n  const logoIcon = (\n    <img className={classes.logo} src='./uw-logo-icon.png' alt=\"unfoldingWord\" />\n  );\n  const logo = (bookName) ? logoIcon : logoWordMark;\n  const referenceComponent = (bookName ? <span>{bookName} {chapter}</span> : <span />);\n\n  return (\n    <Headroom>\n      <div className={classes.paper}>\n        <div className={classes.root}>\n          {logo}\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.title} inline noWrap>\n            {referenceComponent}\n          </Typography>\n        </div>\n      </div>\n    </Headroom>\n  );\n}\n\nApplicationBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  manifests: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  projectName: PropTypes.string,\n};\n\nconst styles = theme => ({\n  paper: {\n    color: '#fff',\n    backgroundColor: '#31ADE3',\n    textAlign: 'center',\n    boxShadow: '0px 1px 5px 0px rgba(0, 0, 0, 0.2),' +\n               '0px 2px 2px 0px rgba(0, 0, 0, 0.14),' +\n               '0px 3px 1px -2px rgba(0, 0, 0, 0.12)',\n  },\n  root: {\n    paddingTop: 'calc(env(safe-area-inset-top) * 0.75)',\n    margin: 'auto',\n    display: 'inline-flex',\n    maxWidth: '40em',\n  },\n  logo: {\n    height: '2em',\n    margin: '8px',\n  },\n  title: {\n    lineHeight: '200%',\n    fontSize: 'calc(0.6vw + 1em)',\n    paddingTop: 'calc(0.5em - 0.8vw)',\n    overflow: 'unset',\n    textOverflow: 'unset',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(ApplicationBar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  BottomNavigation,\n  BottomNavigationAction,\n} from '@material-ui/core';\nimport {\n  LibraryBooks,\n  Book,\n  Bookmark,\n  History,\n  KeyboardArrowLeft,\n  KeyboardArrowRight,\n} from '@material-ui/icons';\n\nimport {chaptersInBook} from './components/Viewer/chaptersAndVerses';\n\nclass BottomNavContainer extends React.Component {\n  handleChange = (event, value) => {\n    let context = {...this.props.context};\n    let {\n      username,\n      languageId,\n      reference,\n    } = context;\n    switch (value) {\n      case 0:\n        context = this.previousChapter();\n        break;\n      case 1:\n        context = {username, languageId, view: 'history', reference: {}};\n        break;\n      case 2:\n        context = {username, languageId, reference: {}};\n        break;\n      case 3:\n        context.reference = {};\n        break;\n      case 4:\n        if (reference) context.reference = {bookId: reference.bookId};\n        break;\n      case 5:\n        context = this.nextChapter();\n        break;\n      default:\n        break;\n    };\n    this.props.setContext(context);\n  };\n\n  previousChapter = () => {\n    let reference = {...this.props.context.reference}\n    let {chapter} = reference;\n    if (chapter > 1) {\n      reference.chapter = chapter - 1;\n      reference.verse = undefined;\n    }\n    const context = {...this.props.context, reference};\n    return context;\n  };\n\n  nextChapter = () => {\n    let reference = {...this.props.context.reference}\n    let {bookId, chapter} = reference;\n    const bookChapters = chaptersInBook({bookId}).length\n    if (chapter < bookChapters) {\n      reference.chapter = chapter + 1\n      reference.verse = undefined;\n    }\n    const context = {...this.props.context, reference};\n    return context;\n  };\n\n  render() {\n    const { classes, context } = this.props;\n\n    const shouldShowHistory = (context.view === 'history');\n    const couldShowReference = (!context.resourceId);\n    const couldShowBook = (!(context.resourceId === 'obs') && !(context.reference && context.reference.bookId));\n    const couldShowChapter = (!(context.reference && context.reference.chapter));\n\n    let value;\n    if (shouldShowHistory) { value = 1; }\n    else if (couldShowReference) { value = 2; }\n    else if (couldShowBook) { value = 3; }\n    else if (couldShowChapter) { value = 4; }\n\n    return (\n      <Paper className={classes.root}>\n        <BottomNavigation\n          value={value}\n          onChange={this.handleChange}\n          showLabels={true}\n          className={classes.bottomNavigation}\n        >\n          <BottomNavigationAction\n            className={classes.button}\n            icon={<KeyboardArrowLeft />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"History\"\n            icon={<History />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Resources\"\n            icon={<LibraryBooks />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Books\"\n            icon={<Book />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            label=\"Chapters\"\n            icon={<Bookmark />}\n          />\n          <BottomNavigationAction\n            className={classes.button}\n            icon={<KeyboardArrowRight />}\n          />\n        </BottomNavigation>\n      </Paper>\n    );\n  }\n}\n\nBottomNavContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  bottomNavigation: {\n    margin: '0 auto',\n    maxWidth: '40em',\n  },\n  button: {\n    paddingLeft: '0',\n    paddingRight: '0',\n    minWidth: '60px',\n  },\n});\n\nexport default withStyles(styles, { withTheme: true })(BottomNavContainer);\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nconst History = lazy(() => Promise.resolve().then(() => require('./History')));\nconst Resources = lazy(() => Promise.resolve().then(() => require('./Resources')));\nconst OpenBibleStories = lazy(() => Promise.resolve().then(() => require('./OpenBibleStories')));\nconst Scripture = lazy(() => Promise.resolve().then(() => require('./Scripture')));\n\nexport const Component = ({\n  classes,\n  manifests,\n  history,\n  context,\n  setContext,\n  title,\n}) => {\n  const historyComponent = (\n    <History\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n      contexts={history}\n    />\n  );\n  const resources = (\n    <Resources\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const scripture = (\n    <Scripture\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const openBibleStories = (\n    <OpenBibleStories\n      context={context}\n      setContext={setContext}\n      manifests={manifests}\n    />\n  );\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  let component = loadingComponent;\n  const shouldShowHistory = (context.view === 'history');\n  if (Object.keys(manifests).length > 0) {\n    const shouldShowResources = (!context.resourceId);\n    const shouldShowScripture = (['ult','ust','ulb','udb','irv'].includes(context.resourceId));\n    const shouldShowOpenBibleStories = (context.resourceId === 'obs');\n\n    if (shouldShowHistory) component = historyComponent;\n    else if (shouldShowResources) component = resources;\n    else if (shouldShowScripture) component = scripture;\n    else if (shouldShowOpenBibleStories) component = openBibleStories;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Suspense fallback={loadingComponent}>\n        {component}\n      </Suspense>\n    </div>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n  manifests: PropTypes.object,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Container from './Container';\nexport default Container;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Component from './Component';\n\nclass Container extends React.Component {\n  state = {\n  };\n\n  componentDidUpdate() {\n    const {reference} = this.props.context;\n    if (reference) {\n      const {bookId, chapter, verse} = reference;\n      const id = `${bookId}_${chapter}_${verse}`;\n      const element = document.getElementById(id);\n      if (element) {\n        element.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    }\n  }\n\n  render() {\n    const props = this.props;\n    return (\n      <Component\n        {...props}\n      />\n    );\n  };\n};\n\nContainer.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default Container;\n","import React, {\n  createContext,\n  useState\n} from 'react';\nimport deepFreeze from 'deep-freeze';\nimport * as gitApi from './gitApi';\n\nexport const ManifestsContext = createContext();\n\nexport function ManifestsContextProvider({children}) {\n  const [manifests, setManifests] = useState({});\n\n  // load new manifests and update context if language or username changes\n  const populateManifests = async ({context}) => {\n    const _manifests = await gitApi.fetchResourceManifests(context);\n    setManifests(_manifests);\n    return _manifests;\n  };\n\n  // load new manifests and update context if language or username changes\n  const refreshManifests = async ({context, oldContext}) => {\n    let _manifests = {...manifests};\n    const languageChanged = (oldContext.languageId !== context.languageId);\n    const usernameChanged = (oldContext.username !== context.username);\n    if (languageChanged || usernameChanged) {\n      _manifests = await populateManifests({context});\n    };\n    return _manifests;\n  };\n\n  const _manifests = deepFreeze(manifests);\n\n  const value = {\n    manifests: _manifests,\n    populateManifests,\n    refreshManifests,\n    setManifests,\n  };\n\n  return (\n    <ManifestsContext.Provider value={value}>\n      {children}\n    </ManifestsContext.Provider>\n  );\n};\n","import React, {useState, useContext} from 'react';\nimport PropTypes from 'prop-types';\n\nimport Workspace from './Workspace';\n\nimport {\n  ManifestsContextProvider,\n  ManifestsContext,\n} from './Manifests.context';\n\nfunction Viewer({\n  classes,\n  context,\n  setContext,\n  history,\n  handleManifestsChange,\n}) {\n  const [oldContext, setOldContext] = useState(context);\n  const {manifests, populateManifests, refreshManifests} = useContext(ManifestsContext);\n  if (Object.keys(manifests).length === 0) {\n    populateManifests({context})\n    .then(handleManifestsChange);\n  }\n  if (JSON.stringify(context) !== JSON.stringify(oldContext)) {\n    refreshManifests({context, oldContext})\n    .then(handleManifestsChange);\n    setOldContext(context);\n  }\n\n  return (\n    <Workspace\n      context={context}\n      setContext={setContext}\n      history={history}\n      manifests={manifests}\n    />\n  );\n};\n\nfunction ViewerWrapper (props) {\n  return (\n    <ManifestsContextProvider>\n      <Viewer {...props} />\n    </ManifestsContextProvider>\n  );\n};\n\nViewerWrapper.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  history: PropTypes.array,\n};\n\nexport default ViewerWrapper;\n","import Viewer from './Viewer';\nexport default Viewer;\n","const styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  appFrame: {\n    zIndex: 1,\n    position: 'relative',\n    display: 'flex',\n    width: '100%',\n  },\n  main: {\n    width: '100%',\n    minWidth: '20em',\n  },\n  workspace: {\n    padding: '1em 1em 5.5em 1em',\n  },\n  bottomNav: {\n    width: '100%',\n    position: 'fixed',\n    bottom: 0,\n    zIndex: 10,\n  }\n});\n\nexport default styles;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  palette: {\n    primary: {\n      light: '#59B7E7',\n      main: '#31ADE3',\n      dark: '#014263',\n      contrastText: '#FFF'\n    },\n  },\n  overrides: {\n    MuiBottomNavigationAction: {\n      label: {\n        '&$selected': {\n          fontSize: '0.8rem',\n        },\n      },\n    },\n  },\n});\n\nexport default theme;\n","import localstorage from 'local-storage';\nimport * as chapterAndVerses from './components/Viewer/chaptersAndVerses';\n\nexport const validateContext = (context) => {\n  const {resourceId, reference} = context;\n  let valid;\n  valid = (!resourceId && !reference); // valid if neither is set\n  if (resourceId && reference) {\n    const validReference = chapterAndVerses.validateReference({reference});\n    valid = (resourceId && validReference);\n  }\n  return valid;\n};\n\nexport const updateQueryFromContext = (context) => {\n  let reference = context.reference || {};\n  const _context = {...context, reference};\n  const {\n    username,\n    uid,\n    languageId,\n    resourceId,\n    reference: {\n      bookId,\n      chapter,\n      verse,\n    },\n  } = _context;\n  const _username = username ? `owner=${username}` : '';\n  const _uid = uid ? `&uid=${uid}` : '';\n  const _languageId = languageId ? `/${languageId}` : '';\n  const _resourceId = resourceId ? `/${resourceId}` : '';\n  const _bookId = bookId ? `/${bookId}` : '';\n  const _chapter = chapter ? `/${chapter}` : '';\n  const _verse = verse ? `/${verse}` : '';\n  const rc = `&rc=${_languageId}${_resourceId}${_bookId}${_chapter}${_verse}`\n  const path = window.location.pathname;\n  const query = `${path}?${_username}${_uid}${rc}`;\n  window.history.pushState(context, null, query);\n};\n\nexport const contextFromQuery = () => {\n  const urlParams = new URLSearchParams(window.location.search);\n  const username = urlParams.get('owner') || 'door43-catalog';\n  const uid = urlParams.get('uid') || '4598';\n  const rc = urlParams.get('rc') || ''\n  const rcArray = rc.slice(1).split('/').filter(string => string);\n  const [languageId, resourceId, bookId, chapter, verse] = rcArray;\n  return {\n    username,\n    uid,\n    languageId: languageId || 'en',\n    resourceId: resourceId,\n    reference: {\n      bookId,\n      chapter,\n      verse,\n    },\n  }\n};\n\nexport const save = ({key, value}) => {\n return localstorage.set(key, value);\n};\n\nexport const load = ({key, defaultValue}) => {\n  let value;\n  try {\n    value = localstorage.get(key);\n  } catch(error) {\n    value = defaultValue;\n  }\n  return value || defaultValue;\n};\n","import React, { createContext, useState } from 'react';\nimport useEffect from 'use-deep-compare-effect';\nimport deepFreeze from 'deep-freeze';\n\nimport { updateQueryFromContext, contextFromQuery, validateContext } from './helpers';\n\nexport const ContextContext = createContext();\n\nconst defaultContext = {\n  username: 'door43-catalog',\n  uid: '4598',\n  languageId: 'en',\n};\n\nexport function ContextContextProvider({children}) {\n  const queryContext = contextFromQuery();\n  const _defaultContext = queryContext || defaultContext();\n\n  const [context, setContext] = useState(_defaultContext);\n\n  useEffect(() => {\n    updateQueryFromContext(context);\n    window.scrollTo(0,0);\n  }, [context]);\n\n  const updateContext = async (_context) => {\n    // allow navigation to Resources selection\n    const emptyResourceId = (!_context.reference || !_context.resourceId);\n    let shouldSetContext;\n    if (emptyResourceId) shouldSetContext = true;\n    // use 'obs' for bookId if is resourceId\n    if (_context.resourceId === 'obs') {\n      const reference = {..._context.reference, bookId: 'obs'}\n      _context.reference = reference;\n    }\n    const validContext = validateContext(_context);\n    // validate context\n    if (validContext) shouldSetContext = true;\n    if (shouldSetContext) {\n      setContext(_context);\n    }\n  };\n\n  const _context = deepFreeze(context);\n\n  const value = {\n    context: _context,\n    updateContext,\n    defaultContext,\n    validateContext,\n  };\n\n  return (\n    <ContextContext.Provider value={value}>\n      {children}\n    </ContextContext.Provider>\n  );\n};\n","import React, {\n  createContext,\n  useState\n} from 'react';\nimport deepFreeze from 'deep-freeze';\n\nimport * as helpers from './helpers';\n\nconst keyPrefix = 'Viewer.state.';\n\nexport const HistoryContext = createContext();\n\nexport function HistoryContextProvider({children}) {\n  const loadHistory = () => {\n    const _history = helpers.load({\n      key: `${keyPrefix}history`,\n      defaultValue: [],\n    });\n    return _history;\n  };\n  const loadedHistory = loadHistory();\n  const [history, setHistory] = useState(loadedHistory);\n\n  const addToHistoryArray = (_context, _history) =>  {\n    let history = [];\n    if (_history) history = [..._history];\n    const newContext = JSON.stringify(_context);\n    const oldContext = JSON.stringify(history[0]);\n    const isNew = !( newContext === oldContext );\n    if (isNew) {\n      const context = JSON.parse(newContext);\n      history.unshift(context);\n    }\n    if (!history) debugger\n    return history;\n  };\n\n  // add to history (load, add, persist, return)\n  const addHistory = (context) => {\n    if (context.reference && context.reference.chapter) {\n      let _history = addToHistoryArray(context, history);\n      setHistory(_history);\n      saveHistory();\n    }\n    return history;\n  };\n\n  const saveHistory = () => {\n    helpers.save({ key: `${keyPrefix}history`, value: history });\n  };\n\n  const _history = history ? deepFreeze(history) : null;\n\n  const value = {\n    history: _history,\n    setHistory,\n    addHistory,\n    loadHistory,\n  };\n\n  return (\n    <HistoryContext.Provider value={value}>\n      {children}\n    </HistoryContext.Provider>\n  );\n};\n","import React, {useContext, useState} from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport ApplicationBar from './ApplicationBar';\nimport BottomNav from './BottomNav';\nimport Viewer from './components/Viewer';\n\nimport styles from './styles';\nimport theme from './theme';\n\nimport { ContextContext, ContextContextProvider } from './Context.context';\nimport { HistoryContext, HistoryContextProvider } from './History.context';\n\nfunction App({classes}) {\n  const {context, updateContext} = useContext(ContextContext);\n  const {history, addHistory} = useContext(HistoryContext);\n  const [manifests, setManifests] = useState({});\n\n  // window.addEventListener(\"popstate\", (e) => {\n  //   const context = e.state;\n  //   setContext(context, true);\n  // });\n\n  const setContext = (_context) => {\n    addHistory(_context);\n    updateContext(_context);\n  };\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <div className={classes.root}>\n        <div className={classes.appFrame}>\n          <main className={classes.main}>\n            <ApplicationBar\n              applicationName=\"unfoldingWord\"\n              context={context}\n              manifests={manifests}\n            />\n            <div className={classes.workspace}>\n              <Viewer\n                context={context}\n                setContext={setContext}\n                history={history}\n                handleManifestsChange={setManifests}\n              />\n            </div>\n          </main>\n          <nav className={classes.bottomNav}>\n            <BottomNav\n              context={context}\n              setContext={updateContext}\n            />\n          </nav>\n        </div>\n      </div>\n    </MuiThemeProvider>\n  );\n};\n\nfunction AppWrapper({classes}) {\n\n  return (\n    <ContextContextProvider>\n      <HistoryContextProvider>\n        <App\n          classes={classes}\n        />\n      </HistoryContextProvider>\n    </ContextContextProvider>\n  );\n};\n\nexport default withStyles(styles)(AppWrapper);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              if (window) window.alert(\n                'Update is available, close the App and/or all tabs and restart the App to get the latest.'\n              );\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              if (window) window.alert(\n                'The first load of a Book and Chapter may take longer to download the resources.'\n              );\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.register();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  Button,\n  Typography,\n  CircularProgress,\n} from '@material-ui/core';\nimport {\n  DoneAll,\n  ErrorOutline,\n} from '@material-ui/icons';\n\nimport * as gitApi from '../../gitApi';\n\nconst Component = ({\n  classes,\n  context: {\n    username,\n    languageId,\n  },\n}) => {\n  const [downloading, setDownloading] = useState(false);\n  const [complete, setComplete] = useState(false);\n  const [error, setError] = useState(false);\n\n  const subject = 'All Resources for this Language';\n  const title = 'Download for Offline Use';\n\n  const downloadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n  const completeComponent = (\n    <DoneAll />\n  );\n  const errorComponent = (\n    <ErrorOutline />\n  );\n  let component = <div />;\n  if (error) component = errorComponent;\n  if (complete) component = completeComponent;\n  if (downloading) component = downloadingComponent;\n\n  return (\n    <Card className={classes.card}>\n      <CardContent>\n        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n          {subject}\n        </Typography>\n        <Typography variant=\"h6\" component=\"h3\">\n          {title}\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.actions}>\n        {component}\n        <Button\n          size=\"small\"\n          variant=\"contained\"\n          className={classes.button}\n          color=\"primary\"\n          onClick={()=>{\n            setDownloading(true);\n            gitApi.fetchRepositoriesZipFiles({username, languageId, onProgress: (progress)=>{\n\n            }})\n            .then(response => {\n              setDownloading(false);\n              setComplete(true);\n              console.log(response);\n            })\n            .catch(error => {\n              setError(error);\n              console.log(error);\n            });\n          }}\n        >\n          Download\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n};\n\nconst styles = {\n  card: {\n    minWidth: 275,\n    marginBottom: '1em',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  actions: {\n    width: '100%',\n    textAlign: 'right',\n  },\n  button: {\n    marginLeft: 'auto',\n  },\n  progress: {\n    margin: 'auto',\n    display: 'block',\n  },\n};\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\nimport {\n  Typography,\n  TextField,\n  Paper,\n  MenuItem,\n} from '@material-ui/core';\n\nconst NoOptionsMessage = (props) => (\n  <Typography\n    color=\"textSecondary\"\n    className={props.selectProps.classes.noOptionsMessage}\n    {...props.innerProps}\n  >\n    {props.children}\n  </Typography>\n);\n\nconst inputComponent = ({ inputRef, ...props }) =>\n  <div ref={inputRef} {...props} />;\n\nconst Control = (props) => (\n  <TextField\n    fullWidth\n    InputProps={{\n      inputComponent,\n      inputProps: {\n        className: props.selectProps.classes.input,\n        inputRef: props.innerRef,\n        children: props.children,\n        ...props.innerProps,\n      },\n    }}\n    {...props.selectProps.textFieldProps}\n  />\n);\n\nconst Option = (props) => (\n  <MenuItem\n    buttonRef={props.innerRef}\n    selected={props.isFocused}\n    component=\"div\"\n    style={{\n      fontWeight: props.isSelected ? 500 : 400,\n    }}\n    {...props.innerProps}\n  >\n    {props.children}\n  </MenuItem>\n);\n\nconst Placeholder = (props) => (\n  <Typography\n    color=\"textSecondary\"\n    className={props.selectProps.classes.placeholder}\n    {...props.innerProps}\n  >\n    {props.children}\n  </Typography>\n);\n\nconst SingleValue = (props) => (\n  <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n    {props.children}\n  </Typography>\n);\n\nconst ValueContainer = (props) => (\n  <div className={props.selectProps.classes.valueContainer}>\n    {props.children}\n  </div>\n);\n\nconst Menu = (props) => (\n  <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n    {props.children}\n  </Paper>\n);\n\nconst components = {\n  Control,\n  Menu,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nexport default components;\n","import { emphasize } from '@material-ui/core/styles/colorManipulator';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  },\n});\n\nexport default styles;\n","/* eslint-disable react/prop-types, react/jsx-handler-names */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  NoSsr,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons'\n\nimport {getLanguages} from '../../../gitApi';\nimport components from './components';\nimport styles from '../styles';\n\nclass Container extends React.Component {\n  state = {\n    languages: [],\n  };\n\n  async componentDidMount() {\n    const {uid} = this.props.context;\n    const resourceIds = ['ult','ust','ulb','udb','irv','obs'];\n    const languages = await getLanguages({uid, resourceIds});\n    this.setState({languages});\n  };\n\n  handleChange = name => object => {\n    const languageId = object.value;\n    const context = {...this.props.context, languageId};\n    this.props.setContext(context);\n  };\n\n  render() {\n    const {\n      classes,\n      theme,\n      context,\n    } = this.props;\n\n    const selectStyles = {\n      input: base => ({\n        ...base,\n        color: theme.palette.text.primary,\n        '& input': {\n          font: 'inherit',\n        },\n      }),\n    };\n\n    const suggestions = this.state.languages\n    .map(({languageId, languageName, localized, region, gateway}) => {\n      const value = languageId;\n      const name = `${languageId} - ${languageName} - ${localized}`;\n      const gatewayLabel = `(${region} ${gateway ? 'Gateway' : 'Other'})`;\n      const label = `${name} ${gatewayLabel}`;\n      return {value, label};\n    });\n\n    return (\n      <div className={classes.root}>\n        <NoSsr>\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            options={suggestions}\n            components={components}\n            value={\n              suggestions.filter(object => (object.value === context.languageId) )[0]\n            }\n            onChange={this.handleChange('language')}\n            placeholder=\"Select Language\"\n          />\n          <div className={classes.divider} />\n        </NoSsr>\n      </div>\n    );\n  }\n}\n\nContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(Container);\n","import Container from './Container';\nexport default Container;\n","import React, {Suspense, lazy} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  CircularProgress,\n} from '@material-ui/core';\n\nimport Download from './Download';\nimport Languages from './Languages';\nimport styles from '../styles';\n\nconst Resource = lazy(() => Promise.resolve().then(() => require('./Resource')));\n\nexport const Component = ({\n  classes,\n  context,\n  context: {\n    username,\n    languageId,\n  },\n  setContext,\n  manifests,\n}) => {\n  const resources = Object.keys(manifests)\n  .filter(resourceId => {\n    const resourceExists = ['ult','ust','ulb','udb','irv','obs'].includes(resourceId);\n    const manifest = manifests[resourceId];\n    let language;\n    if (manifest) language = manifest.dublin_core.language.identifier;\n    const languageMatch = language === context.languageId;\n    return resourceExists && manifest && languageMatch;\n  });\n  const loadingComponent = (\n    <CircularProgress className={classes.progress} color=\"secondary\" disableShrink />\n  );\n\n  return (\n    <div className={classes.column}>\n      <Languages\n        context={context}\n        setContext={setContext}\n      />\n      <Download context={context} />\n      <Suspense fallback={loadingComponent}>\n        {resources.map(resourceId => (\n          <Resource\n            key={resourceId}\n            context={context}\n            setContext={setContext}\n            manifest={manifests[resourceId]}\n          />\n        ))}\n      </Suspense>\n    </div>\n  );\n};\n\nComponent.propTypes = {\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Component);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  BookmarkBorder,\n} from '@material-ui/icons';\n\nimport * as ScriptureHelpers from '../Scripture/helpers';\n\nconst Component = ({\n  classes,\n  manifest,\n  manifest: {\n    dublin_core: {\n      subject,\n      title,\n      language,\n    }\n  },\n  context,\n  context: {\n    username,\n    languageId,\n    resourceId,\n    reference,\n    reference: {\n      bookId,\n      chapter,\n      verse,\n    },\n  },\n  setContext,\n}) => {\n  let bookName = '';\n  if (manifest && reference && bookId) {\n    const {projects} = manifest;\n    const project = ScriptureHelpers.projectByBookId({projects, bookId});\n    bookName = project.title;\n  }\n  return (\n    <ListItem\n      button\n      className={classes.bookListItem}\n      style={{\n        paddingLeft: '2em',\n        paddingRight: '0.7em',\n      }}\n      onClick={() => {\n        setContext(context);\n      }}\n    >\n      <ListItemIcon className={classes.listItemIcon}>\n        <BookmarkBorder />\n      </ListItemIcon>\n      <ListItemText\n        className={classes.listItemText}\n        primary={`${bookName} ${chapter}${verse ? `:${verse}` : ''}`}\n        secondary={`${language.title} - ${title}`}\n      />\n    </ListItem>\n  );\n}\n\nComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  manifest: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  bookListItem: {\n  },\n  listItemIcon: {\n    marginRight: 0,\n  },\n  listItemText: {\n    paddingLeft: '0.7em',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Paper,\n  List,\n} from '@material-ui/core';\n\nimport Context from './Context';\n\nexport const Component = ({\n  classes,\n  setContext,\n  manifests,\n  contexts,\n}) => {\n  let contextComponents = [];\n  if (contexts) {\n    contextComponents = contexts\n    .filter(context => (!!manifests[context.resourceId]))\n    .map((context, index) => (\n      <Context\n        key={index + JSON.stringify(context)}\n        context={context}\n        setContext={setContext}\n        manifest={manifests[context.resourceId]}\n      />\n    ));\n  }\n  return (\n    <Paper className={classes.root}>\n      <List\n        className={classes.root}\n        component=\"nav\"\n        dense\n      >\n        <div className={classes.list}>\n          {contextComponents}\n        </div>\n      </List>\n    </Paper>\n  );\n};\n\nComponent.propTypes = {\n  contexts: PropTypes.array,\n  setContext: PropTypes.func.isRequired,\n  manifests: PropTypes.object.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    height: '100%',\n    maxWidth: '40em',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n  list: {\n    height: '100%',\n    overflowY: 'auto',\n  },\n});\n\nexport default withStyles(styles)(Component);\n","import Component from './Component';\nexport default Component;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport {\n  Divider,\n} from '@material-ui/core';\nimport {\n} from '@material-ui/icons';\n\nimport TextComponentWithRCLinks from '../TextComponentWithRCLinks';\n\nexport const TranslationNoteComponent = ({\n  classes,\n  context,\n  setContext,\n  note,\n  addTab,\n}) => {\n  if (!note) debugger\n  const occurrence_note = note.occurrence_note.replace(/\\[\\[rc:\\/\\//g, 'http://').replace(/\\]\\]?/g, '');\n  const noteComponent = (\n    <TextComponentWithRCLinks\n      context={context}\n      setContext={setContext}\n      text={occurrence_note}\n      addTab={addTab}\n    />\n  );\n  return (\n    <div className={classes.root}>\n      <Divider />\n      <div className={classes.note}>\n        <strong>{note.gl_quote}</strong> {noteComponent}\n      </div>\n    </div>\n  );\n};\n\nTranslationNoteComponent.propTypes = {\n  classes: PropTypes.object.isRequired,\n  context: PropTypes.object.isRequired,\n  setContext: PropTypes.func.isRequired,\n  note: PropTypes.object.isRequired,\n  addTab: PropTypes.func.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  note: {\n    marginTop: '0.5em',\n    marginBottom: '0.5em',\n  },\n});\n\nexport default withStyles(styles)(TranslationNoteComponent);\n","import TranslationNoteComponent from './TranslationNoteComponent';\nexport default TranslationNoteComponent;\n","import usfmjs from 'usfm-js';\n\n// Purpose: application wide\n// Scope: limited to resource files and parsing\n// Notes: pass in manifests don't fetch them\n\nimport * as gitApi from '../../gitApi';\n\nexport async function fetchResources({\n  context: {\n    username,\n    languageId,\n    reference: {\n      bookId,\n    },\n  },\n  manifests,\n}) {\n  let resources = {\n    ult: null,\n    ust: null,\n    ulb: null,\n    udb: null,\n    irv: null,\n    tn: null,\n    original: null,\n  };\n  const { uhb: uhbManifest, ugnt: ugntManifest} = manifests;\n  const testament = whichTestament({bookId, uhbManifest, ugntManifest})\n  const originalManifest = (testament === 'old') ? uhbManifest : ugntManifest;\n\n  const resourceIds = ['ult','ust','ulb','udb','irv','tn','original'];\n  const promises = resourceIds.map(async (resourceId) => {\n    let manifest;\n    if (['ult','ust','ulb','udb','irv'].includes(resourceId) && manifests[resourceId]) {\n      manifest = manifests[resourceId];\n      return fetchBook({username, languageId, resourceId, bookId, manifest});\n    }\n    if (resourceId === 'tn' && manifests[resourceId]) {\n      manifest = manifests[resourceId];\n      return translationNotes({username, languageId, bookId, manifest});\n    }\n    if (resourceId === 'original') {\n      return fetchOriginalBook({username, languageId, bookId, uhbManifest, ugntManifest});\n    }\n  });\n  const resourcesArray = await Promise.all(promises);\n  resourceIds.forEach((resourceId, index) => {\n    const data = resourcesArray[index];\n    const manifest = (resourceId === 'original') ? originalManifest : manifests[resourceId];\n    resources[resourceId] = {\n      manifest,\n      data\n    };\n  });\n  return resources;\n};\n\nexport async function fetchBook({username, languageId, resourceId, bookId, manifest}) {\n  const {projects} = manifest;\n  if (!projectByBookId({projects, bookId})) return null;\n  const repository = gitApi.resourceRepositories({languageId})[resourceId];\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json.chapters;\n};\n\nexport const whichTestament = ({bookId, uhbManifest, ugntManifest}) => {\n  let testament;\n  const uhbProject = projectByBookId({projects: uhbManifest.projects, bookId});\n  const ugntProject = projectByBookId({projects: ugntManifest.projects, bookId});\n  if (uhbProject) testament = 'old';\n  if (ugntProject) testament = 'new';\n  return testament;\n}\n\nexport async function fetchOriginalBook({username, languageId, bookId, uhbManifest, ugntManifest}) {\n  let manifest, repository;\n  const testament = whichTestament({bookId, uhbManifest, ugntManifest});\n  const repositories = gitApi.resourceRepositories({languageId});\n  if (testament === 'old') {\n    manifest = uhbManifest;\n    repository = repositories.uhb;\n  };\n  if (testament === 'new') {\n    manifest = ugntManifest;\n    repository = repositories.ugnt;\n  };\n  const usfm = await fetchFileByBookId({username: 'unfoldingword', repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json.chapters;\n};\n\nexport async function fetchUGNTBook({username, languageId, bookId, manifest}) {\n  const repository = gitApi.resourceRepositories({languageId}).ugnt;\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json;\n};\n\nexport async function fetchUHBBook({username, languageId, bookId, manifest}) {\n  const repository = gitApi.resourceRepositories({languageId}).uhb;\n  const usfm = await fetchFileByBookId({username, repository, bookId, manifest});\n  const json = usfmjs.toJSON(usfm);\n  return json;\n};\n\nexport const pivotTranslationNotes = ({tn}) => {\n  if (!tn) return {};\n  let translationNotesObject = {};\n  let array = JSON.parse(JSON.stringify(tn));\n  array.shift();\n  array.forEach(item => {\n    let [book, chapter, verse, id, support_reference, original_quote, occurrence, gl_quote, occurrence_note] = item;\n    if (book && chapter && verse) {\n      if (!translationNotesObject[chapter]) translationNotesObject[chapter] = {};\n      if (!translationNotesObject[chapter][verse]) translationNotesObject[chapter][verse] = [];\n      occurrence_note = (!!occurrence_note) ? occurrence_note.replace(/<br>/g,'\\n') : occurrence_note;\n      let object = {\n        id,\n        support_reference,\n        original_quote,\n        occurrence,\n        gl_quote,\n        occurrence_note,\n      };\n      translationNotesObject[chapter][verse].push(object);\n    }\n  });\n  return translationNotesObject\n}\n\nexport async function translationNotes({username, languageId, bookId, manifest}) {\n  const data = await fetchNotes({username, languageId, bookId, manifest});\n  return data;\n};\n\nexport async function fetchNotes({username, languageId, bookId, manifest}) {\n  const repository = gitApi.resourceRepositories({languageId}).tn;\n  const tsv = await fetchFileByBookId({username, repository, bookId, manifest});\n  const data = tsvParse({tsv});\n  return data;\n};\n\nexport async function fetchFileByBookId({username, repository, bookId, manifest}) {\n  let data;\n  const {projects} = manifest;\n  const project = projectByBookId({projects, bookId});\n  let path;\n  if (project && project.path) {\n    path = project.path.replace(/^\\.\\//, '');\n    data = await gitApi.getFile({username, repository, path});\n  }\n  return data;\n};\n\nexport const projectByBookId = ({projects, bookId}) => {\n  const _projects = projects.filter(item => item.identifier === bookId);\n  let project;\n  if (_projects.length > 0) {\n    project = _projects[0];\n  }\n  return project;\n};\n\nexport const tsvParse = ({tsv}) => {\n  try {\n    return tsv.split('\\n').map(row => row.trim().split('\\t'));\n  } catch(error) {\n    return null;\n  }\n};\n","import data from './chaptersAndVerses.json';\n\nexport const chaptersInBook = ({bookId}) => {\n  try {\n    let chapters;\n    if (bookId === 'obs') {\n      chapters = [...Array(50).keys()].map(i=>i+1);\n    } else {\n      chapters = bookData({bookId}).chapters;\n    }\n    return chapters;\n  } catch(error) {\n    return null;\n  }\n};\n\nexport const versesInChapter = ({bookId, chapter}) => {\n  const verses = chaptersInBook({bookId})[chapter - 1];\n  return verses;\n};\n\nexport const bookData = ({bookId}) => {\n  const _bookData = data.filter(row => row.id === bookId)[0];\n  return _bookData;\n};\n\nexport const testament = ({bookId}) => {\n  const _testament = bookData({bookId}).testament;\n  return _testament;\n};\n\nexport const validateBookId = (reference) => {\n  let valid;\n  if (reference.bookId === 'obs') {\n    valid = true;\n  } else if (reference.bookId && !!bookData(reference)) {\n    valid = true;\n  }\n  return valid;\n}\n\nexport const validateChapter = (reference) => {\n  const dependencies = ( validateBookId(reference) );\n  const chapters = chaptersInBook(reference);\n  const valid = (dependencies && !!chapters[reference.chapter - 1]);\n  return valid;\n}\n\nexport const validateVerse = (reference) => {\n  const dependencies = (validateBookId(reference) && validateChapter(reference));\n  const chapters = chaptersInBook(reference);\n  const verseCount = chapters[reference.chapter];\n  const inRange = (verseCount && reference.verse <= verseCount);\n  return (dependencies && inRange);\n};\n\nexport const validateReference = ({reference}) => {\n  let valid = false;\n  const {bookId, chapter, verse} = reference;\n  const blankReference = (!bookId && !chapter && !verse);\n  const validBookId = validateBookId(reference);\n  const validChapter = validateChapter(reference);\n  const validVerse = (!!verse) ? validateVerse(reference) : true;\n  if (blankReference) {\n    valid = true;\n  } else if (validBookId && !chapter && !verse) {\n    valid = true;\n  } else if (validBookId && validChapter && !verse) {\n    valid = true;\n  } else if (validBookId && validChapter && validVerse) {\n    valid = true;\n  }\n  return valid;\n};\n"],"sourceRoot":""}